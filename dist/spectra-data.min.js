var _Mathsign=Math.sign,_Mathlog2=Math.log10,_NumberisFinite=Number.isFinite,_NumberMIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER,_NumberMAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER,_Mathceil=Math.ceil,_Mathlog=Math.log,_Mathsin=Math.sin,_MathPI=Math.PI,_Mathexp=Math.exp,_NumberMIN_VALUE=Number.MIN_VALUE,_NumberMAX_VALUE=Number.MAX_VALUE,_Mathpow=Math.pow,_Mathmax=Math.max,_Mathsqrt=Math.sqrt,_Mathround=Math.round,_Mathabs=Math.abs,_NumberisInteger=Number.isInteger,_Mathfloor=Math.floor,_Mathmin=Math.min,_StringfromCharCode=String.fromCharCode;(function(E,I){'object'==typeof exports&&'object'==typeof module?module.exports=I():'function'==typeof define&&define.amd?define([],I):'object'==typeof exports?exports.spectraData=I():E.spectraData=I()})(this,function(){return function(D){function E(R){if(I[R])return I[R].exports;var P=I[R]={i:R,l:!1,exports:{}};return D[R].call(P.exports,P,P.exports,E),P.l=!0,P.exports}var I={};return E.m=D,E.c=I,E.i=function(R){return R},E.d=function(R,P,F){E.o(R,P)||Object.defineProperty(R,P,{configurable:!1,enumerable:!0,get:F})},E.n=function(R){var P=R&&R.__esModule?function(){return R['default']}:function(){return R};return E.d(P,'a',P),P},E.o=function(R,P){return Object.prototype.hasOwnProperty.call(R,P)},E.p='',E(E.s=70)}([function(D,E,I){'use strict';function R(K){return K}function P(K,Q){for(var G=0;G<K.length;++G)Q[G]=255&K.charCodeAt(G);return Q}function F(K){var Q=65536,G=[],ee=K.length,te=E.getTypeOf(K),ne=0,oe=!0;try{'uint8array'===te?_StringfromCharCode.apply(null,new Uint8Array(0)):'nodebuffer'===te?_StringfromCharCode.apply(null,Z(0)):void 0}catch(ae){oe=!1}if(!oe){for(var se='',le=0;le<K.length;le++)se+=_StringfromCharCode(K[le]);return se}for(;ne<ee&&1<Q;)try{'array'===te||'nodebuffer'===te?G.push(_StringfromCharCode.apply(null,K.slice(ne,_Mathmin(ne+Q,ee)))):G.push(_StringfromCharCode.apply(null,K.subarray(ne,_Mathmin(ne+Q,ee)))),ne+=Q}catch(ae){Q=_Mathfloor(Q/2)}return G.join('')}function T(K,Q){for(var G=0;G<K.length;G++)Q[G]=K[G];return Q}var O=I(5),$=I(11),Z=I(12);E.string2binary=function(K){for(var Q='',G=0;G<K.length;G++)Q+=_StringfromCharCode(255&K.charCodeAt(G));return Q},E.arrayBuffer2Blob=function(K,Q){E.checkSupport('blob'),Q=Q||'application/zip';try{return new Blob([K],{type:Q})}catch(te){try{var G=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,ee=new G;return ee.append(K),ee.getBlob(Q)}catch(ne){throw new Error('Bug : can\'t construct the Blob.')}}},E.applyFromCharCode=F;var W={};W.string={string:R,array:function(K){return P(K,Array(K.length))},arraybuffer:function(K){return W.string.uint8array(K).buffer},uint8array:function(K){return P(K,new Uint8Array(K.length))},nodebuffer:function(K){return P(K,Z(K.length))}},W.array={string:F,array:R,arraybuffer:function(K){return new Uint8Array(K).buffer},uint8array:function(K){return new Uint8Array(K)},nodebuffer:function(K){return Z(K)}},W.arraybuffer={string:function(K){return F(new Uint8Array(K))},array:function(K){return T(new Uint8Array(K),Array(K.byteLength))},arraybuffer:R,uint8array:function(K){return new Uint8Array(K)},nodebuffer:function(K){return Z(new Uint8Array(K))}},W.uint8array={string:F,array:function(K){return T(K,Array(K.length))},arraybuffer:function(K){return K.buffer},uint8array:R,nodebuffer:function(K){return Z(K)}},W.nodebuffer={string:F,array:function(K){return T(K,Array(K.length))},arraybuffer:function(K){return W.nodebuffer.uint8array(K).buffer},uint8array:function(K){return T(K,new Uint8Array(K.length))},nodebuffer:R},E.transformTo=function(K,Q){if(Q||(Q=''),!K)return Q;E.checkSupport(K);var G=E.getTypeOf(Q),ee=W[G][K](Q);return ee},E.getTypeOf=function(K){return'string'==typeof K?'string':'[object Array]'===Object.prototype.toString.call(K)?'array':O.nodebuffer&&Z.test(K)?'nodebuffer':O.uint8array&&K instanceof Uint8Array?'uint8array':O.arraybuffer&&K instanceof ArrayBuffer?'arraybuffer':void 0},E.checkSupport=function(K){var Q=O[K.toLowerCase()];if(!Q)throw new Error(K+' is not supported by this browser')},E.MAX_VALUE_16BITS=65535,E.MAX_VALUE_32BITS=-1,E.pretty=function(K){var Q='',G,ee;for(ee=0;ee<(K||'').length;ee++)G=K.charCodeAt(ee),Q+='\\x'+(16>G?'0':'')+G.toString(16).toUpperCase();return Q},E.findCompression=function(K){for(var Q in $)if($.hasOwnProperty(Q)&&$[Q].magic===K)return $[Q];return null},E.isRegExp=function(K){return'[object RegExp]'===Object.prototype.toString.call(K)},E.extend=function(){var K={},Q,G;for(Q=0;Q<arguments.length;Q++)for(G in arguments[Q])arguments[Q].hasOwnProperty(G)&&'undefined'==typeof K[G]&&(K[G]=arguments[Q][G]);return K}},function(D,E,I){'use strict';I(119);var R=I(45),P=I(7);class F extends R(Array){constructor(T,O){var $;if(1===arguments.length&&'number'==typeof T)return Array(T);if(F.isMatrix(T))return T.clone();if(_NumberisInteger(T)&&0<T){if(super(T),_NumberisInteger(O)&&0<O)for($=0;$<T;$++)this[$]=Array(O);else throw new TypeError('nColumns must be a positive integer');}else if(Array.isArray(T)){const Z=T;if(T=Z.length,O=Z[0].length,'number'!=typeof O||0===O)throw new TypeError('Data must be a 2D array with at least one element');for(super(T),$=0;$<T;$++){if(Z[$].length!==O)throw new RangeError('Inconsistent array dimensions');this[$]=[].concat(Z[$])}}else throw new TypeError('First argument must be a positive number or an array');return this.rows=T,this.columns=O,this}set(T,O,$){return this[T][O]=$,this}get(T,O){return this[T][O]}clone(){for(var T=new this.constructor[Symbol.species](this.rows,this.columns),O=0;O<this.rows;O++)for(var $=0;$<this.columns;$++)T.set(O,$,this.get(O,$));return T}removeRow(T){if(P.checkRowIndex(this,T),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return this.splice(T,1),this.rows-=1,this}addRow(T,O){return void 0===O&&(O=T,T=this.rows),P.checkRowIndex(this,T,!0),O=P.checkRowVector(this,O,!0),this.splice(T,0,O),this.rows+=1,this}removeColumn(T){if(P.checkColumnIndex(this,T),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var O=0;O<this.rows;O++)this[O].splice(T,1);return this.columns-=1,this}addColumn(T,O){'undefined'==typeof O&&(O=T,T=this.columns),P.checkColumnIndex(this,T,!0),O=P.checkColumnVector(this,O);for(var $=0;$<this.rows;$++)this[$].splice(T,0,O[$]);return this.columns+=1,this}}E.Matrix=F,F.abstractMatrix=R},function(D,E){'use strict';var R='undefined'!=typeof Uint8Array&&'undefined'!=typeof Uint16Array&&'undefined'!=typeof Int32Array;E.assign=function(T){for(var O=Array.prototype.slice.call(arguments,1),$;O.length;)if($=O.shift(),!!$){if('object'!=typeof $)throw new TypeError($+'must be non-object');for(var Z in $)$.hasOwnProperty(Z)&&(T[Z]=$[Z])}return T},E.shrinkBuf=function(T,O){return T.length===O?T:T.subarray?T.subarray(0,O):(T.length=O,T)};var P={arraySet:function(T,O,$,Z,W){if(O.subarray&&T.subarray)return void T.set(O.subarray($,$+Z),W);for(var K=0;K<Z;K++)T[W+K]=O[$+K]},flattenChunks:function(T){var O,$,Z,W,K,Q;for(Z=0,O=0,$=T.length;O<$;O++)Z+=T[O].length;for(Q=new Uint8Array(Z),W=0,(O=0,$=T.length);O<$;O++)K=T[O],Q.set(K,W),W+=K.length;return Q}},F={arraySet:function(T,O,$,Z,W){for(var K=0;K<Z;K++)T[W+K]=O[$+K]},flattenChunks:function(T){return[].concat.apply([],T)}};E.setTyped=function(T){T?(E.Buf8=Uint8Array,E.Buf16=Uint16Array,E.Buf32=Int32Array,E.assign(E,P)):(E.Buf8=Array,E.Buf16=Array,E.Buf32=Array,E.assign(E,F))},E.setTyped(R)},function(D,E,I){'use strict';var R=I(45),P=I(1);class F extends R(){constructor(T,O,$){super(),this.matrix=T,this.rows=O,this.columns=$}static get[Symbol.species](){return P.Matrix}}D.exports=F},function(D){'use strict';function R(O){for(var $=0,Z=O.length,W=Array(Z);$<Z;$++)W[$]=O[$];return W}function P(O,$){var Z=0,Q,G;if(Array.isArray(O)){if(G=$,Q=G?R(O):O,O=Q.length,$=Q[0].length,'undefined'==typeof $)throw new TypeError('Data must be a 2D array');if(0<O&&0<$){for(;Z<O;Z++)if(Q[Z].length!==$)throw new RangeError('Inconsistent array dimensions');else G&&(Q[Z]=R(Q[Z]));}else throw new RangeError('Invalid dimensions: '+O+'x'+$)}else if('number'!=typeof O)throw new TypeError('Invalid arguments');else if(0<O&&0<$)for(Q=Array(O);Z<O;Z++)Q[Z]=Array($);else throw new RangeError('Invalid dimensions: '+O+'x'+$);return Object.defineProperty(Q,'rows',{writable:!0,value:O}),Object.defineProperty(Q,'columns',{writable:!0,value:$}),Q.__proto__=P.prototype,Q}var F=Array.prototype.splice,T=Array.prototype.concat;P.from1DArray=function($,Z,W){var G=0,K,Q;if(K=$*Z,K!==W.length)throw new RangeError('Data length does not match given dimensions');for(Q=Array($);G<$;G++)Q[G]=W.slice(G*Z,(G+1)*Z);return new P(Q)},P.rowVector=function($){return new P([$])},P.columnVector=function($){for(var Z=$.length,W=Array(Z),K=0;K<Z;K++)W[K]=[$[K]];return new P(W)},P.empty=function($,Z){return new P($,Z)},P.zeros=function($,Z){return P.empty($,Z).fill(0)},P.ones=function($,Z){return P.empty($,Z).fill(1)},P.rand=function($,Z){for(var W=P.empty($,Z),K=0,Q=W.rows;K<Q;K++)for(var G=0,ee=W.columns;G<ee;G++)W[K][G]=Math.random();return W},P.eye=function($){for(var Z=P.zeros($,$),W=Z.rows,K=0;K<W;K++)Z[K][K]=1;return Z},P.diag=function($){for(var Z=$.length,W=P.zeros(Z,Z),K=0;K<Z;K++)W[K][K]=$[K];return W},P.indices=function($,Z){for(var W=Array(Z-$),K=0;K<W.length;K++)W[K]=$++;return W},P.stack=function($){var Z,W,K;if(P.isMatrix($)){var Q=0,G=0;for(Z=0;Z<arguments.length;Z++)Q+=arguments[Z].rows,arguments[Z].columns>G&&(G=arguments[Z].columns);var ee=P.zeros(Q,G),te=0;for(Z=0;Z<arguments.length;Z++){var ne=arguments[Z];for(W=0;W<ne.rows;W++){for(K=0;K<ne.columns;K++)ee[te][K]=ne[W][K];te++}}return ee}if(Array.isArray($)){var oe=P.empty(arguments.length,$.length);for(Z=0;Z<arguments.length;Z++)oe.setRow(Z,arguments[Z]);return oe}},P.expand=function($,Z){for(var W=[],K=0;K<Z.length;K++)for(var Q=0;Q<Z[K];Q++)W.push($[K]);return new P(W)},P.checkMatrix=function($){if(!$)throw new TypeError('Argument has to be a matrix');return'Matrix'!==$.klass&&($=new P($)),$},P.isMatrix=function($){return!!$&&'Matrix'===$.klass},Object.defineProperty(P.prototype,'klass',{get:function(){return'Matrix'}}),Object.defineProperty(P.prototype,'size',{get:function(){return this.rows*this.columns}}),P.prototype.checkRowIndex=function($){if(0>$||$>this.rows-1)throw new RangeError('Row index out of range.')},P.prototype.checkColumnIndex=function($){if(0>$||$>this.columns-1)throw new RangeError('Column index out of range.')},P.prototype.checkDimensions=function($){if(this.rows!==$.rows||this.columns!==$.columns)throw new RangeError('Matrices dimensions must be equal.')},P.prototype.apply=function($){for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)$.call(this,K,Q);return this},P.prototype.clone=function(){return new P(this.to2DArray())},P.prototype.to1DArray=function(){return T.apply([],this)},P.prototype.to2DArray=function(){for(var $=this.rows,Z=Array($),W=0;W<$;W++)Z[W]=R(this[W]);return Z},P.prototype.isRowVector=function(){return 1===this.rows},P.prototype.isColumnVector=function(){return 1===this.columns},P.prototype.isVector=function(){return 1===this.rows||1===this.columns},P.prototype.isSquare=function(){return this.rows===this.columns},P.prototype.isSymmetric=function(){if(this.isSquare()){for(var $=this.rows,Z=0;Z<$;Z++)for(var W=0;W<=Z;W++)if(this[Z][W]!==this[W][Z])return!1;return!0}return!1},P.prototype.set=function($,Z,W){return this[$][Z]=W,this},P.prototype.get=function($,Z){return this[$][Z]},P.prototype.fill=function($){for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]=$;return this},P.prototype.neg=function(){return this.mulS(-1)},P.prototype.add=function($){return'number'==typeof $?this.addS($):($=P.checkMatrix($),this.addM($))},P.prototype.addS=function($){for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]+=$;return this},P.prototype.addM=function($){this.checkDimensions($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]+=$[K][Q];return this},P.prototype.sub=function($){return'number'==typeof $?this.subS($):($=P.checkMatrix($),this.subM($))},P.prototype.subS=function($){for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]-=$;return this},P.prototype.subM=function($){this.checkDimensions($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]-=$[K][Q];return this},P.prototype.mul=function($){return'number'==typeof $?this.mulS($):($=P.checkMatrix($),this.mulM($))},P.prototype.mulS=function($){for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]*=$;return this},P.prototype.mulM=function($){this.checkDimensions($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]*=$[K][Q];return this},P.prototype.div=function($){return'number'==typeof $?this.divS($):($=P.checkMatrix($),this.divM($))},P.prototype.divS=function($){for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]/=$;return this},P.prototype.divM=function($){this.checkDimensions($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]/=$[K][Q];return this},P.prototype.getRow=function($){return this.checkRowIndex($),R(this[$])},P.prototype.getRowVector=function($){return P.rowVector(this.getRow($))},P.prototype.setRow=function($,Z){if(this.checkRowIndex($),P.isMatrix(Z)&&(Z=Z.to1DArray()),Z.length!==this.columns)throw new RangeError('Invalid row size');return this[$]=R(Z),this},P.prototype.removeRow=function($){if(this.checkRowIndex($),1===this.rows)throw new RangeError('A matrix cannot have less than one row');return F.call(this,$,1),this.rows-=1,this},P.prototype.addRow=function($,Z){if('undefined'==typeof Z&&(Z=$,$=this.rows),0>$||$>this.rows)throw new RangeError('Row index out of range.');if(P.isMatrix(Z)&&(Z=Z.to1DArray()),Z.length!==this.columns)throw new RangeError('Invalid row size');return F.call(this,$,0,R(Z)),this.rows+=1,this},P.prototype.swapRows=function($,Z){this.checkRowIndex($),this.checkRowIndex(Z);var W=this[$];return this[$]=this[Z],this[Z]=W,this},P.prototype.getColumn=function($){this.checkColumnIndex($);for(var Z=this.rows,W=Array(Z),K=0;K<Z;K++)W[K]=this[K][$];return W},P.prototype.getColumnVector=function($){return P.columnVector(this.getColumn($))},P.prototype.setColumn=function($,Z){this.checkColumnIndex($),P.isMatrix(Z)&&(Z=Z.to1DArray());var W=this.rows;if(Z.length!==W)throw new RangeError('Invalid column size');for(var K=0;K<W;K++)this[K][$]=Z[K];return this},P.prototype.removeColumn=function($){if(this.checkColumnIndex($),1===this.columns)throw new RangeError('A matrix cannot have less than one column');for(var Z=0,W=this.rows;Z<W;Z++)this[Z].splice($,1);return this.columns-=1,this},P.prototype.addColumn=function($,Z){if('undefined'==typeof Z&&(Z=$,$=this.columns),0>$||$>this.columns)throw new RangeError('Column index out of range.');P.isMatrix(Z)&&(Z=Z.to1DArray());var W=this.rows;if(Z.length!==W)throw new RangeError('Invalid column size');for(var K=0;K<W;K++)this[K].splice($,0,Z[K]);return this.columns+=1,this},P.prototype.swapColumns=function($,Z){this.checkRowIndex($),this.checkRowIndex(Z);for(var W=this.rows,G=0,K,Q;G<W;G++)Q=this[G],K=Q[$],Q[$]=Q[Z],Q[Z]=K;return this},P.prototype.checkRowVector=function($){if(P.isMatrix($)&&($=$.to1DArray()),$.length!==this.columns)throw new RangeError('vector size must be the same as the number of columns');return $},P.prototype.checkColumnVector=function($){if(P.isMatrix($)&&($=$.to1DArray()),$.length!==this.rows)throw new RangeError('vector size must be the same as the number of rows');return $},P.prototype.addRowVector=function($){$=this.checkRowVector($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]+=$[Q];return this},P.prototype.subRowVector=function($){$=this.checkRowVector($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]-=$[Q];return this},P.prototype.mulRowVector=function($){$=this.checkRowVector($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]*=$[Q];return this},P.prototype.divRowVector=function($){$=this.checkRowVector($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]/=$[Q];return this},P.prototype.addColumnVector=function($){$=this.checkColumnVector($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]+=$[K];return this},P.prototype.subColumnVector=function($){$=this.checkColumnVector($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]-=$[K];return this},P.prototype.mulColumnVector=function($){$=this.checkColumnVector($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]*=$[K];return this},P.prototype.divColumnVector=function($){$=this.checkColumnVector($);for(var Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]/=$[K];return this},P.prototype.mulRow=function($,Z){this.checkRowIndex($);for(var W=0,K=this.columns;W<K;W++)this[$][W]*=Z;return this},P.prototype.mulColumn=function($,Z){this.checkColumnIndex($);for(var W=0,K=this.rows;W<K;W++)this[W][$]*=Z},P.prototype.max=function(){for(var $=-Infinity,Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]>$&&($=this[K][Q]);return $},P.prototype.maxIndex=function(){for(var $=-Infinity,Z={},W=this.rows,K=this.columns,Q=0;Q<W;Q++)for(var G=0;G<K;G++)this[Q][G]>$&&($=this[Q][G],Z.row=Q,Z.column=G);return Z},P.prototype.min=function(){for(var $=Infinity,Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)this[K][Q]<$&&($=this[K][Q]);return $},P.prototype.minIndex=function(){for(var $=Infinity,Z={},W=this.rows,K=this.columns,Q=0;Q<W;Q++)for(var G=0;G<K;G++)this[Q][G]<$&&($=this[Q][G],Z.row=Q,Z.column=G);return Z},P.prototype.maxRow=function($){this.checkRowIndex($);for(var Z=-Infinity,W=0,K=this.columns;W<K;W++)this[$][W]>Z&&(Z=this[$][W]);return Z},P.prototype.maxRowIndex=function($){this.checkRowIndex($);for(var Z=-Infinity,W={row:$},K=0,Q=this.columns;K<Q;K++)this[$][K]>Z&&(Z=this[$][K],W.column=K);return W},P.prototype.minRow=function($){this.checkRowIndex($);for(var Z=Infinity,W=0,K=this.columns;W<K;W++)this[$][W]<Z&&(Z=this[$][W]);return Z},P.prototype.minRowIndex=function($){this.checkRowIndex($);for(var Z=Infinity,W={row:$,column:0},K=0,Q=this.columns;K<Q;K++)this[$][K]<Z&&(Z=this[$][K],W.column=K);return W},P.prototype.maxColumn=function($){this.checkColumnIndex($);for(var Z=-Infinity,W=0,K=this.rows;W<K;W++)this[W][$]>Z&&(Z=this[W][$]);return Z},P.prototype.maxColumnIndex=function($){this.checkColumnIndex($);for(var Z=-Infinity,W={row:0,column:$},K=0,Q=this.rows;K<Q;K++)this[K][$]>Z&&(Z=this[K][$],W.row=K);return W},P.prototype.minColumn=function($){this.checkColumnIndex($);for(var Z=Infinity,W=0,K=this.rows;W<K;W++)this[W][$]<Z&&(Z=this[W][$]);return Z},P.prototype.minColumnIndex=function($){this.checkColumnIndex($);for(var Z=Infinity,W={row:0,column:$},K=0,Q=this.rows;K<Q;K++)this[K][$]<Z&&(Z=this[K][$],W.row=K);return W},P.prototype.diag=function(){if(!this.isSquare())throw new TypeError('Only square matrices have a diagonal.');for(var O=Array(this.rows),$=0,Z=this.rows;$<Z;$++)O[$]=this[$][$];return O},P.prototype.sum=function(){for(var $=0,Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)$+=this[K][Q];return $},P.prototype.mean=function(){return this.sum()/this.size},P.prototype.prod=function(){for(var O=1,$=this.rows,Z=this.columns,W=0;W<$;W++)for(var K=0;K<Z;K++)O*=this[W][K];return O},P.prototype.cumulativeSum=function(){for(var $=0,Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)$+=this[K][Q],this[K][Q]=$;return this},P.prototype.dot=function($){if(this.size!==$.size)throw new RangeError('vectors do not have the same size');for(var Z=this.to1DArray(),W=$.to1DArray(),O=0,K=Z.length,Q=0;Q<K;Q++)O+=Z[Q]*W[Q];return O},P.prototype.mmul=function($){if(!P.isMatrix($))throw new TypeError('parameter "other" must be a matrix');this.columns!==$.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');var Z=this.rows,W=this.columns,K=$.columns,Q=new P(Z,K),G=Array(W),ee,te,ne;for(te=0;te<K;te++){for(ne=0;ne<W;ne++)G[ne]=$[ne][te];for(ee=0;ee<Z;ee++){var oe=this[ee],se=0;for(ne=0;ne<W;ne++)se+=oe[ne]*G[ne];Q[ee][te]=se}}return Q},P.prototype.sortRows=function($){for(var Z=0,W=this.rows;Z<W;Z++)this[Z].sort($);return this},P.prototype.sortColumns=function($){for(var Z=0,W=this.columns;Z<W;Z++)this.setColumn(Z,this.getColumn(Z).sort($));return this},P.prototype.transpose=function(){for(var $=new P(this.columns,this.rows),Z=this.rows,W=this.columns,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)$[Q][K]=this[K][Q];return $},P.prototype.subMatrix=function($,Z,W,K){if($>Z||W>K||0>$||$>=this.rows||0>Z||Z>=this.rows||0>W||W>=this.columns||0>K||K>=this.columns)throw new RangeError('Argument out of range');for(var Q=new P(Z-$+1,K-W+1),G=$;G<=Z;G++)for(var ee=W;ee<=K;ee++)Q[G-$][ee-W]=this[G][ee];return Q},P.prototype.subMatrixRow=function($,Z,W){if('undefined'==typeof Z?(Z=0,W=this.columns-1):'undefined'==typeof W&&(W=this.columns-1),Z>W||0>Z||Z>=this.columns||0>W||W>=this.columns)throw new RangeError('Argument out of range.');for(var K=$.length,Q=this.rows,G=new P(K,W-Z+1),ee=0;ee<K;ee++)for(var te=Z;te<=W;te++){if(0>$[ee]||$[ee]>=Q)throw new RangeError('Argument out of range.');G[ee][te-Z]=this[$[ee]][te]}return G},P.prototype.subMatrixColumn=function($,Z,W){if('undefined'==typeof Z?(Z=0,W=this.rows-1):'undefined'==typeof W&&(W=this.rows-1),Z>W||0>Z||Z>=this.rows||0>W||W>=this.rows)throw new RangeError('Argument out of range.');for(var K=$.length,Q=this.columns,G=new P(W-Z+1,K),ee=0;ee<K;ee++)for(var te=Z;te<=W;te++){if(0>$[ee]||$[ee]>=Q)throw new RangeError('Argument out of range.');G[te-Z][ee]=this[te][$[ee]]}return G},P.prototype.trace=function(){if(!this.isSquare())throw new TypeError('The matrix is not square');for(var O=0,$=0,Z=this.rows;$<Z;$++)O+=this[$][$];return O},P.prototype.abs=function(){for(var $=this.rows,Z=this.columns,W=0;W<$;W++)for(var K=0;K<Z;K++)this[W][K]=_Mathabs(this[W][K])},D.exports=P},function(D,E,I){'use strict';(function(R){if(E.base64=!0,E.array=!0,E.string=!0,E.arraybuffer='undefined'!=typeof ArrayBuffer&&'undefined'!=typeof Uint8Array,E.nodebuffer='undefined'!=typeof R,E.uint8array='undefined'!=typeof Uint8Array,'undefined'==typeof ArrayBuffer)E.blob=!1;else{var P=new ArrayBuffer(0);try{E.blob=0===new Blob([P],{type:'application/zip'}).size}catch(O){try{var F=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,T=new F;T.append(P),E.blob=0===T.getBlob('application/zip').size}catch($){E.blob=!1}}}}).call(E,I(28).Buffer)},function(D,E,I){'use strict';E.array=I(52),E.matrix=I(139)},function(D,E,I){'use strict';var R=I(1);E.checkRowIndex=function(F,T,O){var $=O?F.rows:F.rows-1;if(0>T||T>$)throw new RangeError('Row index out of range')},E.checkColumnIndex=function(F,T,O){var $=O?F.columns:F.columns-1;if(0>T||T>$)throw new RangeError('Column index out of range')},E.checkRowVector=function(F,T){if(T.to1DArray&&(T=T.to1DArray()),T.length!==F.columns)throw new RangeError('vector size must be the same as the number of columns');return T},E.checkColumnVector=function(F,T){if(T.to1DArray&&(T=T.to1DArray()),T.length!==F.rows)throw new RangeError('vector size must be the same as the number of rows');return T},E.checkIndices=function(F,T,O){var $=T.some((W)=>{return 0>W||W>=F.rows}),Z=O.some((W)=>{return 0>W||W>=F.columns});if($||Z)throw new RangeError('Indices are out of range');if('object'!=typeof T||'object'!=typeof O)throw new TypeError('Unexpected type for row/column indices');return Array.isArray(T)||(T=Array.from(T)),Array.isArray(O)||(T=Array.from(O)),{row:T,column:O}},E.checkRange=function(F,T,O,$,Z){if(5!==arguments.length)throw new TypeError('Invalid argument type');var W=Array.from(arguments).slice(1).some(function(K){return'number'!=typeof K});if(W)throw new TypeError('Invalid argument type');if(T>O||$>Z||0>T||T>=F.rows||0>O||O>=F.rows||0>$||$>=F.columns||0>Z||Z>=F.columns)throw new RangeError('Submatrix indices are out of range')},E.getRange=function(F,T){for(var O=Array(T-F+1),$=0;$<O.length;$++)O[$]=F+$;return O},E.sumByRow=function(F){for(var T=R.Matrix.zeros(F.rows,1),O=0;O<F.rows;++O)for(var $=0;$<F.columns;++$)T.set(O,0,T.get(O,0)+F.get(O,$));return T},E.sumByColumn=function(F){for(var T=R.Matrix.zeros(1,F.columns),O=0;O<F.rows;++O)for(var $=0;$<F.columns;++$)T.set(0,$,T.get(0,$)+F.get(O,$));return T},E.sumAll=function(F){for(var T=0,O=0;O<F.rows;O++)for(var $=0;$<F.columns;$++)T+=F.get(O,$);return T}},function(D,E,I){'use strict';D.exports=I(4),D.exports.Decompositions=D.exports.DC=I(134)},function(D,E,I){'use strict';const R=I(6).array,P=I(39),F=I(30),T=I(71),O=I(75),Z=2;class W{constructor(K){this.sd=K,this.activeElement=0}static fromJcamp(K,Q){Q=Object.assign({},{keepSpectra:!0,keepRecordsRegExp:/^.+$/},Q,{xy:!0});var G=F.convert(K,Q);return new this(G)}static fromXY(K,Q,G){const ee={profiling:[],logs:[],info:{}},te={};return te.isXYdata=!0,te.nbPoints=K.length,te.firstX=K[0],te.firstY=Q[0],te.lastX=K[te.nbPoints-1],te.lastY=Q[te.nbPoints-1],te.xFactor=1,te.yFactor=1,te.xUnit=G.xUnit,te.yUnit=G.yUnit,te.deltaX=(te.lastX-te.firstX)/(te.nbPoints-1),te.title=G.title||'spectra-data from xy',te.dataType=G.dataType,te.data=[{x:K,y:Q}],ee.twoD=!1,ee.spectra=[te],new this(ee)}setActiveElement(K){this.activeElement=K}getActiveElement(){return this.activeElement}getXUnits(){return this.getSpectrum().xUnit}setXUnits(K){this.getSpectrum().xUnit=K}getYUnits(){return this.getSpectrum().yUnit}getSpectraVariable(K){return this.sd.ntuples[K]}getPage(K){return this.sd.spectra[K].page}getNbPoints(K){return this.getSpectrumData(K).y.length}getFirstX(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].firstX}setFirstX(K,Q){Q===void 0&&(Q=this.activeElement),this.sd.spectra[Q].firstX=K}getLastX(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].lastX}setLastX(K,Q){Q===void 0&&(Q=this.activeElement),this.sd.spectra[Q].lastX=K}getFirstY(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].firstY}setFirstY(K,Q){Q===void 0&&(Q=this.activeElement),this.sd.spectra[Q].firstY=K}getLastY(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].lastY}setLastY(K,Q){Q===void 0&&(Q=this.activeElement),this.sd.spectra[Q].lastY=K}setDataClass(K){K===Z&&(this.getSpectrum().isPeaktable=!0,this.getSpectrum().isXYdata=!1),K===1&&(this.getSpectrum().isXYdata=!0,this.getSpectrum().isPeaktable=!1)}isDataClassPeak(){return!!this.getSpectrum().isPeaktable&&this.getSpectrum().isPeaktable}isDataClassXY(){return!!this.getSpectrum().isXYdata&&this.getSpectrum().isXYdata}setDataType(K){this.getSpectrum().dataType=K}getDataType(){return this.getSpectrum().dataType}getSpectrumData(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K].data[0]}getSpectrum(K){return void 0===K&&(K=this.activeElement),this.sd.spectra[K]}getNbSubSpectra(){return this.sd.spectra.length}getXData(K){return this.getSpectrumData(K).x}getYData(K){return this.getSpectrumData(K).y}getX(K){return this.getXData()[K]}getY(K){return this.getYData()[K]}getXYData(K){return[this.getXData(K),this.getYData(K)]}getTitle(K){return this.getSpectrum(K).title}setTitle(K,Q){this.getSpectrum(Q).title=K}getMinY(K){return R.min(this.getYData(K))}getMaxY(K){return R.max(this.getYData(K))}getMinMaxY(K){return R.minMax(this.getYData(K))}getNoiseLevel(){var K=R.robustMeanAndStdev(this.getYData()).stdev;return K*this.getNMRPeakThreshold(this.getNucleus(1))}arrayPointToUnits(K){return this.getFirstX()-K*(this.getFirstX()-this.getLastX())/(this.getNbPoints()-1)}unitsToArrayPoint(K){if(this.isDataClassXY())return _Mathround((this.getFirstX()-K)*(-1/this.getDeltaX()));if(this.isDataClassPeak()){var Q=0,G=this.getNbPoints()-1,ee=0,te;if(this.getFirstX()>this.getLastX()){if(G=0,ee=this.getNbPoints()-1,K>this.getFirstX())return this.getNbPoints();if(K<this.getLastX())return-1}else{if(K<this.getFirstX())return-1;if(K>this.getLastX())return this.getNbPoints()}for(;1<_Mathabs(G-ee);){if(te=_Mathround(_Mathfloor((G+ee)/2)),this.getX(te)===K)return te;this.getX(te)>K?G=te:ee=te}return Q=ee,_Mathabs(this.getX(ee)-K)>_Mathabs(this.getX(G)-K)&&(Q=G),Q}return 0}getDeltaX(){return(this.getLastX()-this.getFirstX())/(this.getNbPoints()-1)}setMinMax(K,Q){P.scale(this.getYData(),{min:K,max:Q,inplace:!0})}setMin(K){P.scale(this.getYData(),{min:K,inplace:!0})}setMax(K){P.scale(this.getYData(),{max:K,inplace:!0})}yShift(K){var Q=this.getSpectrumData().y,G=this.getNbPoints(),ee=0;for(ee=0;ee<G;ee++)Q[ee]+=K;this.getSpectrum().firstY+=K,this.getSpectrum().lastY+=K}shift(K){for(let te=0;te<this.getNbSubSpectra();te++){this.setActiveElement(te);var Q=this.getSpectrumData().x,G=this.getNbPoints(),ee=0;for(ee=0;ee<G;ee++)Q[ee]+=K;this.getSpectrum().firstX+=K,this.getSpectrum().lastX+=K}}fill(K,Q,G){var ee,te,ne,oe,se;K>Q&&(ee=K,K=Q,Q=ee);for(var le=0;le<this.getNbSubSpectra();le++)if(this.setActiveElement(le),oe=this.getXData(),se=this.getYData(),te=this.unitsToArrayPoint(K),ne=this.unitsToArrayPoint(Q),te>ne&&(ee=te,te=ne,ne=ee),0>te&&(te=0),ne>=this.getNbPoints&&(ne=this.getNbPoints-1),'number'!=typeof G)se.splice(te,ne-te),oe.splice(te,ne-te);else for(le=te;le<=ne;le++)se[le]=G}suppressZone(K,Q){this.fill(K,Q),this.setDataClass(Z)}getMaxPeak(){for(var K=this.getSpectraDataY(),Q=K[0],G=0,ee=0;ee<K.length;ee++)Q<K[ee]&&(Q=K[ee],G=ee);return[this.getX(G),Q]}getParamDouble(K,Q){var G=this.sd.info[K];return G||(G=Q),G}getParamString(K,Q){var G=this.sd.info[K];return G||(G=Q),G+''}getParamInt(K,Q){var G=this.sd.info[K];return G||(G=Q),G}getParam(K,Q){var G=this.sd.info[K];return G||(G=Q),G}containsParam(K){return!!this.sd.info[K]}getSpectraDataY(){return this.getYData()}getSpectraDataX(){return this.getXData()}resetMinMax(){}putParam(K,Q){this.sd.info[K]=Q}getArea(K,Q){var G=this.unitsToArrayPoint(K),ee=this.unitsToArrayPoint(Q),te=0;G>ee&&(G+=ee,ee=G-ee,G-=ee),G=0>G?0:G,ee=ee>=this.getNbPoints()?this.getNbPoints()-1:ee;for(var ne=G;ne<ee;ne++)te+=this.getY(ne);return te*_Mathabs(this.getDeltaX())}updateIntegrals(K,Q){var G=0;if(K.forEach((te)=>{te.integral=this.getArea(te.from,te.to),G+=te.integral}),0!==Q.nH){var ee=Q.nH/G;K.forEach((te)=>{te.integral*=ee})}}getVector(K,Q,G){return G?P.getEquallySpacedData(this.getSpectraDataX(),this.getSpectraDataY(),{from:K,to:Q,numberOfPoints:G}):this.getPointsInWindow(K,Q)}reduceData(K,Q,G){if(!this.isDataClassXY())throw Error('reduceData can only apply on equidistant data');for(let te=0;te<this.getNbSubSpectra();te++)if(this.setActiveElement(te),'hz'!==this.getXUnits().toLowerCase())if('undefined'!=typeof G){let ne=this.getSpectraDataX(),oe=this.getSpectraDataY();ne[0]>ne[1]&&K<Q?(K+=Q,Q=K-Q,K-=Q):K>Q&&(K+=Q,Q=K-Q,K-=Q),oe=P.getEquallySpacedData(ne,oe,{from:K,to:Q,numberOfPoints:G});let se=(Q-K)/(oe.length-1);ne=Array(oe.length).fill(K);for(let le=0;le<oe.length;le++)ne[le]+=se*le;this.sd.spectra[te].data[0].x=ne,this.sd.spectra[te].data[0].y=oe,this.setFirstX(ne[0]),this.setLastX(ne[ne.length-1]),this.sd.spectra[te].nbPoints=oe.length}else{var ee=this.getPointsInWindow(K,Q);this.sd.spectra[te].data[0].x=ee[0],this.sd.spectra[te].data[0].y=ee[1],this.setFirstX(ee[0][0]),this.setLastX(ee[0][ee[0].length-1]),this.sd.spectra[te].nbPoints=ee[1].length}return this.setActiveElement(0),this}getPointsInWindow(K,Q){if(!this.isDataClassXY())throw Error('getPointsInWindow can only apply on equidistant data');var G=this.unitsToArrayPoint(K),ee=this.unitsToArrayPoint(Q);if(G>ee&&(G+=ee,ee=G-ee,G-=ee),0<=G&&ee<=this.getNbPoints()-2){var te=this.getSpectraDataY().slice(G,ee+1),ne=this.getSpectraDataX().slice(G,ee+1);return[ne,te]}throw Error('values outside this in range')}is2D(){return'undefined'!=typeof this.sd.twoD&&this.sd.twoD}setTotalIntegral(K){this.totalIntegralValue=K}get totalIntegral(){if(this.totalIntegralValue)return this.totalIntegralValue;if(this.molecule){if(this.getNucleus(0).indexOf('H'))return 1*this.mf.replace(/.*H([0-9]+).*/,'$1');if(this.getNucleus(0).indexOf('C'))return 1*this.mf.replace(/.*C([0-9]+).*/,'$1')}else return 100;return 1}setMolfile(K){this.molfile=K}setMF(K){this.mf=K}createPeaks(K){return this.peaks=null,this.peaks=this.getPeaks(K),this.peaks}getPeaks(K){return this.peaks?this.peaks:O(this,K)}toJcamp(K){var Q=new T;return Q.convert(this,Object.assign({},{yFactor:1,encode:'DIFDUP',type:'SIMPLE'},K))}}D.exports=W},function(D,E){'use strict';var R='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';E.encode=function(P){for(var T='',ee=0,O,$,Z,W,K,Q,G;ee<P.length;)O=P.charCodeAt(ee++),$=P.charCodeAt(ee++),Z=P.charCodeAt(ee++),W=O>>2,K=(3&O)<<4|$>>4,Q=(15&$)<<2|Z>>6,G=63&Z,isNaN($)?Q=G=64:isNaN(Z)&&(G=64),T=T+R.charAt(W)+R.charAt(K)+R.charAt(Q)+R.charAt(G);return T},E.decode=function(P){var T='',O,$,Z,W,K,Q,G,ee=0;for(P=P.replace(/[^A-Za-z0-9\+\/\=]/g,'');ee<P.length;)W=R.indexOf(P.charAt(ee++)),K=R.indexOf(P.charAt(ee++)),Q=R.indexOf(P.charAt(ee++)),G=R.indexOf(P.charAt(ee++)),O=W<<2|K>>4,$=(15&K)<<4|Q>>2,Z=(3&Q)<<6|G,T+=_StringfromCharCode(O),64!=Q&&(T+=_StringfromCharCode($)),64!=G&&(T+=_StringfromCharCode(Z));return T}},function(D,E,I){'use strict';E.STORE={magic:'\0\0',compress:function(R){return R},uncompress:function(R){return R},compressInputType:null,uncompressInputType:null},E.DEFLATE=I(88)},function(D,E,I){'use strict';(function(R){D.exports=function(P,F){return new R(P,F)},D.exports.test=function(P){return R.isBuffer(P)}}).call(E,I(28).Buffer)},function(D,E,I){'use strict';var R=I(5),P=I(0),F=I(86),T=I(35),O=I(34),$=I(10),Z=I(11),W=I(32),K=I(12),Q=I(38),G=I(92),ee=I(93),te=function(xe){if(xe._data instanceof W&&(xe._data=xe._data.getContent(),xe.options.binary=!0,xe.options.base64=!1,'uint8array'===P.getTypeOf(xe._data))){var be=xe._data;xe._data=new Uint8Array(be.length),0!==be.length&&xe._data.set(be,0)}return xe._data},ne=function(xe){var be=te(xe),_e=P.getTypeOf(be);return'string'===_e?!xe.options.binary&&R.nodebuffer?K(be,'utf-8'):xe.asBinary():be},oe=function(xe){var be=te(this);return null===be||'undefined'==typeof be?'':(this.options.base64&&(be=$.decode(be)),be=xe&&this.options.binary?ye.utf8decode(be):P.transformTo('string',be),xe||this.options.binary||(be=P.transformTo('string',ye.utf8encode(be))),be)},se=function(xe,be,_e){this.name=xe,this.dir=_e.dir,this.date=_e.date,this.comment=_e.comment,this.unixPermissions=_e.unixPermissions,this.dosPermissions=_e.dosPermissions,this._data=be,this.options=_e,this._initialMetadata={dir:_e.dir,date:_e.date}};se.prototype={asText:function(){return oe.call(this,!0)},asBinary:function(){return oe.call(this,!1)},asNodeBuffer:function(){var xe=ne(this);return P.transformTo('nodebuffer',xe)},asUint8Array:function(){var xe=ne(this);return P.transformTo('uint8array',xe)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var le=function(xe,be){var _e='',ke;for(ke=0;ke<be;ke++)_e+=_StringfromCharCode(255&xe),xe>>>=8;return _e},ae=function(xe){return xe=xe||{},!0===xe.base64&&(null===xe.binary||void 0===xe.binary)&&(xe.binary=!0),xe=P.extend(xe,O),xe.date=xe.date||new Date,null!==xe.compression&&(xe.compression=xe.compression.toUpperCase()),xe},de=function(xe,be,_e){var ke=P.getTypeOf(be),we;if(_e=ae(_e),'string'==typeof _e.unixPermissions&&(_e.unixPermissions=parseInt(_e.unixPermissions,8)),_e.unixPermissions&&16384&_e.unixPermissions&&(_e.dir=!0),_e.dosPermissions&&16&_e.dosPermissions&&(_e.dir=!0),_e.dir&&(xe=pe(xe)),_e.createFolders&&(we=ue(xe))&&ce.call(this,we,!0),_e.dir||null===be||'undefined'==typeof be)_e.base64=!1,_e.binary=!1,be=null,ke=null;else if('string'===ke)_e.binary&&!_e.base64&&!0!==_e.optimizedBinaryString&&(be=P.string2binary(be));else{if(_e.base64=!1,_e.binary=!0,!ke&&!(be instanceof W))throw new Error('The data of \''+xe+'\' is in an unsupported format !');'arraybuffer'===ke&&(be=P.transformTo('uint8array',be))}var Ce=new se(xe,be,_e);return this.files[xe]=Ce,Ce},ue=function(xe){'/'==xe.slice(-1)&&(xe=xe.substring(0,xe.length-1));var be=xe.lastIndexOf('/');return 0<be?xe.substring(0,be):''},pe=function(xe){return'/'!=xe.slice(-1)&&(xe+='/'),xe},ce=function(xe,be){return be='undefined'!=typeof be&&be,xe=pe(xe),this.files[xe]||de.call(this,xe,null,{dir:!0,createFolders:be}),this.files[xe]},he=function(xe,be,_e){var ke=new W,we;return xe._data instanceof W?(ke.uncompressedSize=xe._data.uncompressedSize,ke.crc32=xe._data.crc32,0===ke.uncompressedSize||xe.dir?(be=Z.STORE,ke.compressedContent='',ke.crc32=0):xe._data.compressionMethod===be.magic?ke.compressedContent=xe._data.getCompressedContent():(we=xe._data.getContent(),ke.compressedContent=be.compress(P.transformTo(be.compressInputType,we),_e))):(we=ne(xe),(!we||0===we.length||xe.dir)&&(be=Z.STORE,we=''),ke.uncompressedSize=we.length,ke.crc32=F(we),ke.compressedContent=be.compress(P.transformTo(be.compressInputType,we),_e)),ke.compressedSize=ke.compressedContent.length,ke.compressionMethod=be.magic,ke},me=function(xe,be){var _e=xe;return xe||(_e=be?16893:33204),(65535&_e)<<16},ge=function(xe){return 63&(xe||0)},fe=function(xe,be,_e,ke,we,Ce){var je=_e.compressedContent,ve=Ce!==Q.utf8encode,Se=P.transformTo('string',Ce(be.name)),De=P.transformTo('string',Q.utf8encode(be.name)),Ee=be.comment||'',Ie=P.transformTo('string',Ce(Ee)),Ae=P.transformTo('string',Q.utf8encode(Ee)),He=De.length!==be.name.length,Re=Ae.length!==Ee.length,Pe=be.options,ze='',Oe='',Me='',Fe,Te,Xe,Ne;Xe=be._initialMetadata.dir===be.dir?Pe.dir:be.dir,Ne=be._initialMetadata.date===be.date?Pe.date:be.date;var Ye=0,Le=0;Xe&&(Ye|=16),'UNIX'===we?(Le=798,Ye|=me(be.unixPermissions,Xe)):(Le=20,Ye|=ge(be.dosPermissions,Xe)),Fe=Ne.getHours(),Fe<<=6,Fe|=Ne.getMinutes(),Fe<<=5,Fe|=Ne.getSeconds()/2,Te=Ne.getFullYear()-1980,Te<<=4,Te|=Ne.getMonth()+1,Te<<=5,Te|=Ne.getDate(),He&&(Oe=le(1,1)+le(F(Se),4)+De,ze+='up'+le(Oe.length,2)+Oe),Re&&(Me=le(1,1)+le(this.crc32(Ie),4)+Ae,ze+='uc'+le(Me.length,2)+Me);var Ue='';Ue+='\n\0',Ue+=!ve&&(He||Re)?'\0\b':'\0\0',Ue+=_e.compressionMethod,Ue+=le(Fe,2),Ue+=le(Te,2),Ue+=le(_e.crc32,4),Ue+=le(_e.compressedSize,4),Ue+=le(_e.uncompressedSize,4),Ue+=le(Se.length,2),Ue+=le(ze.length,2);var Be=T.LOCAL_FILE_HEADER+Ue+Se+ze,qe=T.CENTRAL_FILE_HEADER+le(Le,2)+Ue+le(Ie.length,2)+'\0\0\0\0'+le(Ye,4)+le(ke,4)+Se+ze+Ie;return{fileRecord:Be,dirRecord:qe,compressedObject:_e}},ye={load:function(){throw new Error('Load method is not defined. Is the file jszip-load.js included ?')},filter:function(xe){var be=[],_e,ke,we,Ce;for(_e in this.files)this.files.hasOwnProperty(_e)&&(we=this.files[_e],Ce=new se(we.name,we._data,P.extend(we.options)),ke=_e.slice(this.root.length,_e.length),_e.slice(0,this.root.length)===this.root&&xe(ke,Ce)&&be.push(Ce));return be},file:function(xe,be,_e){if(1===arguments.length){if(P.isRegExp(xe)){var ke=xe;return this.filter(function(we,Ce){return!Ce.dir&&ke.test(we)})}return this.filter(function(we,Ce){return!Ce.dir&&we===xe})[0]||null}return xe=this.root+xe,de.call(this,xe,be,_e),this},folder:function(xe){if(!xe)return this;if(P.isRegExp(xe))return this.filter(function(we,Ce){return Ce.dir&&xe.test(we)});var be=this.root+xe,_e=ce.call(this,be),ke=this.clone();return ke.root=_e.name,ke},remove:function(xe){xe=this.root+xe;var be=this.files[xe];if(be||('/'!=xe.slice(-1)&&(xe+='/'),be=this.files[xe]),be&&!be.dir)delete this.files[xe];else for(var _e=this.filter(function(we,Ce){return Ce.name.slice(0,xe.length)===xe}),ke=0;ke<_e.length;ke++)delete this.files[_e[ke].name];return this},generate:function(xe){xe=P.extend(xe||{},{base64:!0,compression:'STORE',compressionOptions:null,type:'base64',platform:'DOS',comment:null,mimeType:'application/zip',encodeFileName:Q.utf8encode}),P.checkSupport(xe.type),('darwin'===xe.platform||'freebsd'===xe.platform||'linux'===xe.platform||'sunos'===xe.platform)&&(xe.platform='UNIX'),'win32'===xe.platform&&(xe.platform='DOS');var be=[],_e=0,ke=0,je=P.transformTo('string',xe.encodeFileName(xe.comment||this.comment||'')),we,Ce;for(var ve in this.files)if(this.files.hasOwnProperty(ve)){var Se=this.files[ve],De=Se.options.compression||xe.compression.toUpperCase(),Ee=Z[De];if(!Ee)throw new Error(De+' is not a valid compression method !');var Ie=Se.options.compressionOptions||xe.compressionOptions||{},Ae=he.call(this,Se,Ee,Ie),He=fe.call(this,ve,Se,Ae,_e,xe.platform,xe.encodeFileName);_e+=He.fileRecord.length+Ae.compressedSize,ke+=He.dirRecord.length,be.push(He)}var Re='';Re=T.CENTRAL_DIRECTORY_END+'\0\0\0\0'+le(be.length,2)+le(be.length,2)+le(ke,4)+le(_e,4)+le(je.length,2)+je;var Pe=xe.type.toLowerCase();for(we='uint8array'===Pe||'arraybuffer'===Pe||'blob'===Pe||'nodebuffer'===Pe?new ee(_e+ke+Re.length):new G(_e+ke+Re.length),Ce=0;Ce<be.length;Ce++)we.append(be[Ce].fileRecord),we.append(be[Ce].compressedObject.compressedContent);for(Ce=0;Ce<be.length;Ce++)we.append(be[Ce].dirRecord);we.append(Re);var Fe=we.finalize();switch(xe.type.toLowerCase()){case'uint8array':case'arraybuffer':case'nodebuffer':return P.transformTo(xe.type.toLowerCase(),Fe);case'blob':return P.arrayBuffer2Blob(P.transformTo('arraybuffer',Fe),xe.mimeType);case'base64':return xe.base64?$.encode(Fe):Fe;default:return Fe;}},crc32:function(xe,be){return F(xe,be)},utf8encode:function(xe){return P.transformTo('string',Q.utf8encode(xe))},utf8decode:function(xe){return Q.utf8decode(xe)}};D.exports=ye},function(D,E,I){'use strict';function R(){this.children=[],this.distance=-1,this.index=[]}const P=I(80);R.prototype.cut=function(F){if(0>F)throw new RangeError('Threshold too small');var T=new R;T.children=this.children,T.distance=this.distance,T.index=this.index;for(var O=[T],$=[],Z;0<O.length;)Z=O.shift(),F>=Z.distance?$.push(Z):O=O.concat(Z.children);return $},R.prototype.group=function(F){if(!_NumberisInteger(F)||1>F)throw new RangeError('Number of groups must be a positive integer');const T=new P(function(Z,W){return W.distance-Z.distance});for(T.push(this);T.size()<F;){var O=T.pop();if(0===O.children.length)break;O.children.forEach((Z)=>T.push(Z))}var $=new R;return $.children=T.toArray(),$.distance=this.distance,$},R.prototype.traverse=function(F){function T(O,$){if($(O),O.children)for(var Z=O.children.length-1;0<=Z;Z--)T(O.children[Z],$)}T(this,F)},D.exports=R},function(D,E){'use strict';E.hypotenuse=function(P,F){var T;return _Mathabs(P)>_Mathabs(F)?(T=F/P,_Mathabs(P)*_Mathsqrt(1+T*T)):0===F?0:(T=P/F,_Mathabs(F)*_Mathsqrt(1+T*T))},E.getEmpty2DArray=function(R,P){for(var F=Array(R),T=0;T<R;T++)F[T]=Array(P);return F},E.getFilled2DArray=function(R,P,F){for(var T=Array(R),O=0;O<R;O++){T[O]=Array(P);for(var $=0;$<P;$++)T[O][$]=F}return T}},function(D,E,I){'use strict';D.exports=I(1).Matrix,D.exports.Decompositions=D.exports.DC=I(118)},function(D,E){'use strict';E.hypotenuse=function(P,F){var T;return _Mathabs(P)>_Mathabs(F)?(T=F/P,_Mathabs(P)*_Mathsqrt(1+T*T)):0===F?0:(T=P/F,_Mathabs(F)*_Mathsqrt(1+T*T))}},function(D){D.exports=function(R,P){R=R||0;for(var F=Array(R),T=0;T<R;T++)F[T]=P;return F}},function(D){'use strict';D.exports={0:'',1:'stream end',2:'need dictionary','-1':'file error','-2':'stream error','-3':'data error','-4':'insufficient memory','-5':'buffer error','-6':'incompatible version'}},function(D,E,I){'use strict';const R=I(23),P=I(24),F=I(78),T=I(25).joinCoupling;class O extends Array{constructor($){if(Array.isArray($)){super($.length);for(let Z=0;Z<$.length;Z++)this[Z]=$[Z]}else'number'==typeof $?super($):super()}static fromSignals($,Z){Z=Object.assign({},{lineWidth:1,frequency:400,nucleus:'1H'},Z);const W=$.length,K=Array(W);var Q,G,ee,te,ne,oe,se;for(Q=0;Q<W;Q++)K[$[Q].diaIDs[0]]?K[$[Q].diaIDs[0]].push(Q):K[$[Q].diaIDs[0]]=[Q];const le=Object.keys(K),ae=Array(le.length);for(Q=0;Q<le.length;Q++){if(ee=K[le[Q]],te=$[ee[0]],ne=0,se=te.j,se)for(G=0;G<se.length;G++)ne+=se[G].coupling;ne+=2*Z.lineWidth,ne/=Z.frequency,ae[Q]={from:te.delta-ne,to:te.delta+ne,integral:te.integral,signal:[$[ee[0]]]},ae[Q].multiplicity='';for(var de=1;de<ee.length;de++){ae[Q].signal.push($[ee[de]]);for(var ue=0;ue<$[ee[de]].j.length;ue++)ae[Q].multiplicity+=$[ee[de]].j[ue].multiplicity;ae[Q].integral++}}for(Q=0;Q<ae.length;Q++)for(ae[Q]._highlight=ae[Q].signal[0].diaIDs,oe=(ae[Q].from+ae[Q].to)/2,ne=_Mathabs(ae[Q].from-ae[Q].to),G=ae.length-1;G>Q;G--)_Mathabs(oe-(ae[G].from+ae[G].to)/2)<=_Mathabs(ne+_Mathabs(ae[G].from-ae[G].to))/2&&(ae[Q].multiplicity='m',ae[Q].from=_Mathmin(ae[Q].from,ae[G].from),ae[Q].to=_Mathmax(ae[Q].to,ae[G].to),ae[Q].integral+=ae[G].integral,ae[Q]._highlight.push(ae[G].signal[0].diaIDs[0]),ae[G].signal.forEach((pe)=>{ae[Q].signal.push(pe)}),ae.splice(G,1),G=ae.length-1,oe=(ae[Q].from+ae[Q].to)/2,ne=_Mathabs(ae[Q].from-ae[Q].to));return ae.sort((pe,ce)=>{return pe.from-ce.from}),new O(ae)}static fromSpectrum($,Z){return this.options=Object.assign({},{nH:99,clean:!0,realTop:!1,thresholdFactor:1,compile:!0,integralType:'sum',optimize:!0,idPrefix:'',format:'new',frequencyCluster:16},Z),$.getRanges(this.options)}updateMultiplicity(){for(let W=0;W<this.length;W++){var $=this[W];for(let K=0;K<$.signal.length;K++){var Z=$.signal[K];if(Array.isArray(Z.j)&&!Z.multiplicity){Z.multiplicity='';for(let Q=0;Q<Z.j.length;Q++)Z.multiplicity+=Z.j[Q].multiplicity}}}return this}updateIntegrals($){var Z=$.factor||1,W;if($.sum){var K=$.sum||1,Q=0;for(W=0;W<this.length;W++)Q+=this[W].integral;Z=K/Q}for(W=0;W<this.length;W++)this[W].integral*=Z;return this}getVector($){return P(this.getPeakList(),$)}getPeakList(){var $=[],Z,W;for(Z=0;Z<this.length;Z++){var K=this[Z];for(W=0;W<K.signal.length;W++)$=$.concat(K.signal[W].peak)}return $}getACS($){return R(this,$)}getAnnotations($){return F.annotations1D(this,$)}toIndex($){var Z=[];$.compactPattern&&this.joinCouplings($);var W=!0,K=!1,Q;try{for(var G=this[Symbol.iterator](),ee,te;!(W=(ee=G.next()).done);W=!0)if(te=ee.value,Array.isArray(te.signal)&&0<te.signal.length){var ne=!0,oe=!1,se=void 0;try{for(var le=te.signal[Symbol.iterator](),ae;!(ne=(ae=le.next()).done);ne=!0){let de=ae.value;Z.push({multiplicity:de.multiplicity||T(de,0.05),delta:de.delta})}}catch(de){oe=!0,se=de}finally{try{!ne&&le.return&&le.return()}finally{if(oe)throw se}}}else Z.push({delta:(te.to+te.from)/2,multiplicity:'m'})}catch(de){K=!0,Q=de}finally{try{!W&&G.return&&G.return()}finally{if(K)throw Q}}return Z}joinCouplings($={}){var Z=$.tolerance,W=Z===void 0?0.05:Z;this.forEach((K)=>{K.signal.forEach((Q)=>{Q.multiplicity=T(Q,W)})})}clone(){let $=JSON.parse(JSON.stringify(this));return new O($)}}D.exports=O},function(D,E,I){'use strict';D.exports.fourierTransform=I(66),D.exports.zeroFilling=I(69),D.exports.apodization=I(64),D.exports.phaseCorrection=I(67),D.exports.digitalFilter=I(65)},function(D){'use strict';function R(K,Q,G,ee){var te=F(K,Q,G,-ee[0],!0),ne=0,oe=null,se=null;0>te&&(oe={nucleusX:G.nucleusX,nucleusY:G.nucleusY},oe.resolutionX=G.resolutionX,oe.resolutionY=G.resolutionY,oe.shiftX=G.shiftY,oe.shiftY=G.shiftX,oe.peaks=[{x:G.shiftY,y:G.shiftX,z:1}],K.push(oe),se=[-ee[0],ee[1]],Q.push(se),ne++);var le=0,ae=!1,de=!1,ue;for(le=K.length-1;0<=le;le--)ue=K[le],0===Q[le][0]&&(_Mathabs(ue.shiftX-G.shiftX)<Z&&(ae=!0),_Mathabs(ue.shiftY-G.shiftY)<Z&&(de=!0));return!1==ae&&(oe={nucleusX:G.nucleusX,nucleusY:G.nucleusY},oe.resolutionX=G.resolutionX,oe.resolutionY=G.resolutionY,oe.shiftX=G.shiftX,oe.shiftY=G.shiftX,oe.peaks=[{x:G.shiftX,y:G.shiftX,z:1}],K.push(oe),se=[0,ee[1]],Q.push(se),ne++),!1==de&&(oe={nucleusX:G.nucleusX,nucleusY:G.nucleusY},oe.resolutionX=G.resolutionX,oe.resolutionY=G.resolutionY,oe.shiftX=G.shiftY,oe.shiftY=G.shiftY,oe.peaks=[{x:G.shiftY,y:G.shiftY,z:1}],K.push(oe),se=[0,ee[1]],Q.push(se),ne++),ne}function P(K,Q,G,ee){var te=0,ne=0,oe=4*G.shiftX,se=[],le=[],ae;for(ne=K.length-1;0<=ne;ne--)ae=K[ne],0!==Q[ne][0]&&(_Mathabs(ae.shiftX-G.shiftX)<Z?(te++,ee&&Q[ne][1]++,se.push(ne),oe+=ae.shiftX):_Mathabs(ae.shiftY-G.shiftY)<Z&&(te++,ee&&Q[ne][1]++,le.push(ne),oe+=ae.shiftY));if(oe/=se.length+le.length+4,0<se.length)for(ne=se.length-1;0<=ne;ne--)K[se[ne]].shiftX=oe;if(0<le.length)for(ne=le.length-1;0<=ne;ne--)K[le[ne]].shiftY=oe;return G.shiftX=oe,G.shiftY=oe,te}function F(K,Q,G,ee,te){for(var ne=K.length-1;0<=ne;ne--)if(Q[ne][0]===ee&&O(G,K[ne],te)<W){if(!te){let oe=(K[ne].shiftX+G.shiftX)/2,se=(K[ne].shiftY+G.shiftY)/2;K[ne].shiftX=oe,K[ne].shiftY=se,G.shiftX=oe,G.shiftY=se}else{let oe=G.shiftX,se=K[ne].shiftX;K[ne].shiftY=oe,G.shiftY=se}return ne}return-1}function T(K){for(var Q=Array(K.length),G=K.length-1;0<=G;G--)if(Q[G]=[0,0],_Mathabs(K[G].shiftX-K[G].shiftY)<=Z){Q[G][1]=1;var ee=(2*K[G].shiftX+K[G].shiftY)/3;K[G].shiftX=ee,K[G].shiftY=ee}else Q[G][0]=0<K[G].shiftX-K[G].shiftY?1:-1;return Q}function O(K,Q,G){return G?_Mathsqrt(_Mathpow(K.shiftX-Q.shiftY,2)+_Mathpow(K.shiftY-Q.shiftX,2)):_Mathsqrt(_Mathpow(K.shiftX-Q.shiftX,2)+_Mathpow(K.shiftY-Q.shiftY,2))}function $(K,Q){var G=0,ee=0,te,ne;for(te=0;te<K.length;te++){var oe=K[te];for(ne=0;ne<Q.length;ne++)G=(Q[ne].startX+Q[ne].stopX)/2,ee=_Mathabs(Q[ne].startX-Q[ne].stopX)/2,oe.nucleusX===Q[ne].nucleus&&_Mathabs(oe.shiftX-G)<=ee&&oe._highlight.push(Q[ne]._highlight[0]),oe.nucleusY===Q[ne].nucleus&&_Mathabs(oe.shiftY-G)<=ee&&oe._highlight.push(Q[ne]._highlight[0])}}var Z=0.05,W=0.05;D.exports={clean:function(Q,G){var ee=Number.NEGATIVE_INFINITY,te;for(te=Q.length-1;0<=te;te--)_Mathabs(Q[te].z)>ee&&(ee=_Mathabs(Q[te].z));for(ee*=G,te=Q.length-1;0<=te;te--)_Mathabs(Q[te].z)<ee&&Q.splice(te,1);return Q},enhanceSymmetry:function(Q){var G=T(Q),ee=Q,te,ne,oe,se;for(te=ee.length-1;0<=te;te--)se=ee[te],1<se.peaks.length&&G[te][1]++,1===G[te][0]&&(oe=F(ee,G,se,-1,!0),0<=oe&&(G[te][1]+=2,G[oe][1]+=2));for(te=ee.length-1;0<=te;te--)se=ee[te],0===G[te][0]&&(ne=P(ee,G,se,!0),G[te][1]+=ne);var le=0;for(te=ee.length-1;0<=te;te--)0!==G[te][0]&&2<G[te][1]&&(le++,le+=R(ee,G,ee[te],G[te])),2<=G[te][1]&&0===G[te][0]&&le++;var ae=Array(le);for(le--,te=ee.length-1;0<=te;te--)(0!==G[te][0]&&2<G[te][1]||0===G[te][0]&&1<G[te][1])&&(ae[le--]=ee[te]);return ae},alignDimensions:function(Q,G){for(var ee=0,te;ee<G.length;ee++)te=G[ee],te&&$(Q,te)}}},function(D,E,I){'use strict';function P(le,ae){var de=F(ae);0===de.length&&(de='\u03B4 ');var ue=[],pe=!0,ce=!1,he;try{for(var me=le[Symbol.iterator](),ge;!(pe=(ge=me.next()).done);pe=!0){let fe=ge.value;T(fe,ue,ae)}}catch(fe){ce=!0,he=fe}finally{try{!pe&&me.return&&me.return()}finally{if(ce)throw he}}return 0<ue.length?de+ue.join(', '):''}function F(le){let ae=[],de=Q(le.nucleus)+' NMR';return le.solvent&&ae.push(K(le.solvent)),le.frequencyObserved&&ae.push((1*le.frequencyObserved).toFixed(0)+' MHz'),de+=0<ae.length?' ('+ae.join(', ')+'): \u03B4 ':': \u03B4 ',de}function T(le,ae,de){var ue='',pe=[];let ce=[le.from,le.to];if(Array.isArray(le.signal)&&0<le.signal.length){var he=le.signal;if(1<he.length){!0===de.ascending&&he.sort((be,_e)=>{return be.delta-_e.delta}),ue+=_Mathmin(...ce).toFixed(de.nbDecimalDelta)+'-'+_Mathmax(...ce).toFixed(de.nbDecimalDelta),ue+=' ('+O(le,de);var me=!0,ge=!1,fe;try{for(var ye=he[Symbol.iterator](),xe;!(me=(xe=ye.next()).done);me=!0){let be=xe.value;pe=[],be.delta!==void 0&&(ue=G(ue),ue+=be.delta.toFixed(de.nbDecimalDelta)),W({},be,pe,de),0<pe.length&&(ue+=' ('+pe.join(', ')+')')}}catch(be){ge=!0,fe=be}finally{try{!me&&ye.return&&ye.return()}finally{if(ge)throw fe}}ue+=')'}else pe=[],void 0===he[0].delta?(ue+=_Mathmin(...ce).toFixed(de.nbDecimalDelta)+'-'+_Mathmax(...ce).toFixed(de.nbDecimalDelta),W(le,he[0],pe,de),0<pe.length&&(ue+=' ('+pe+')')):(ue+=he[0].delta.toFixed(de.nbDecimalDelta),W(le,he[0],pe,de),0<pe.length&&(ue+=' ('+pe.join(', ')+')'))}else ue+=_Mathmin(...ce).toFixed(de.nbDecimalDelta)+'-'+_Mathmax(...ce).toFixed(de.nbDecimalDelta),W(le,[],pe,de),0<pe.length&&(ue+=' ('+pe.join(', ')+')');ae.push(ue)}function O(le,ae){let de='';return le.pubIntegral?de=le.pubIntegral:le.integral&&(de=le.integral.toFixed(0)+ae.nucleus[ae.nucleus.length-1]),de}function $(le,ae,de){let ue=O(le,de);0<ue.length&&ae.push(ue)}function Z(le,ae){let de=le.multiplicity||oe(le,0.05);0<de.length&&ae.push(de)}function W(le,ae,de,ue){var pe=!0,ce=!1,he;try{for(var me=ue.format[Symbol.iterator](),ge;!(pe=(ge=me.next()).done);pe=!0){const fe=ge.value;switch(fe.toUpperCase()){case'I':$(le,de,ue);break;case'M':Z(ae,de);break;case'A':ne(ae,de);break;case'J':te(ae,de,ue);break;default:throw new Error('Unknow format letter: '+fe);}}}catch(fe){ce=!0,he=fe}finally{try{!pe&&me.return&&me.return()}finally{if(ce)throw he}}}function K(le){return le.replace(/([0-9]+)/g,'<sub>$1</sub>')}function Q(le){return le.replace(/([0-9]+)/g,'<sup>$1</sup>')}function G(le){return!(0<le.length)||le.match(/ $/)||le.match(/\($/)||(le+=', '),le}function ee(le){return le=le.replace(/([0-9]+)/g,'<sub>$1</sub>'),le=le.replace(/\"([^\"]*)\"/g,'<i>$1</i>'),le}function te(le,ae,de){if(Array.isArray(le.j)&&0<le.j.length){le.j.sort(function(fe,ye){return ye.coupling-fe.coupling});var ue=[],pe=!0,ce=!1,he;try{for(var me=le.j[Symbol.iterator](),ge;!(pe=(ge=me.next()).done);pe=!0){let fe=ge.value;fe.coupling!==void 0&&ue.push(fe.coupling.toFixed(de.nbDecimalJ))}}catch(fe){ce=!0,he=fe}finally{try{!pe&&me.return&&me.return()}finally{if(ce)throw he}}0<ue.length&&ae.push('<i>J</i> = '+ue.join(', ')+' Hz')}}function ne(le,ae){le.pubAssignment?ae.push(ee(le.pubAssignment)):le.assignment&&ae.push(ee(le.assignment))}const oe=I(25).joinCoupling;var se={h:{nucleus:'1H',nbDecimalDelta:2,nbDecimalJ:1,observedFrequency:400},c:{nucleus:'13C',nbDecimalDelta:1,nbDecimalJ:1,observedFrequency:100},f:{nucleus:'19F',nbDecimalDelta:2,nbDecimalJ:1,observedFrequency:400}};D.exports=function(le,ae={}){var de=(ae.nucleus||'1H').toLowerCase().replace(/[0-9]/g,''),ue=se[de];ae=Object.assign({},ue,{ascending:!1,format:'IMJA'},ae),le=le.clone(),!0===ae.ascending&&le.sort((ce,he)=>{let me=_Mathmin(ce.from,ce.to),ge=_Mathmin(he.from,he.to);return me-ge});var pe=P(le,ae);return 0<pe.length&&(pe+='.'),pe}},function(D){'use strict';D.exports=function(P,F){F=F||{};var T=F.from,O=F.to,$=F.nbPoints||16384,Z=F.fnName||'gaussian',W=F.nWidth||4;if(!T){T=_NumberMAX_VALUE;for(let ae=0;ae<P.length;ae++)P[ae].x-P[ae].width*W<T&&(T=P[ae].x-P[ae].width*W)}if(!O){O=_NumberMIN_VALUE;for(let ae=0;ae<P.length;ae++)P[ae].x+P[ae].width*W>O&&(O=P[ae].x+P[ae].width*W)}var K=Array($),Q=Array($),G=(O-T)/($-1);for(let ae=0;ae<$;ae++)K[ae]=T+ae*G,Q[ae]=0;var ee='intensity';P[0].y&&(ee='y');for(let ae=0;ae<P.length;ae++){var te=P[ae];if(te.x>T&&te.x<O){var ne=_Mathround((te.x-T)/G),oe=_Mathround(te.width*W/G);if('gaussian'===Z)for(var se=ne-oe;se<ne+oe;se++)0<=se&&se<$&&(Q[se]+=te[ee]*_Mathexp(-0.5*_Mathpow((te.x-K[se])/(te.width/2),2)));else{var le=te[ee]*_Mathpow(te.width,2)/4;for(let de=ne-oe;de<ne+oe;de++)0<=de&&de<$&&(Q[de]+=le/(_Mathpow(te.x-K[de],2)+_Mathpow(te.width/2,2)))}}}return{x:K,y:Q}}},function(D,E,I){'use strict';const T=I(23),O=['s','d','t','q','quint','h','sept','o','n'];D.exports={toACS:function($,Z){return T($,Z)},nmrJ:function($,Z={}){var W='';Z=Object.assign({},{separator:', ',nbDecimal:2},Z);let K,Q;for(Q=0;Q<$.length;Q++)K=$[Q],11<K.length&&(K+=Z.separator),W+=K.multiplicity+' '+K.coupling.toFixed(Z.nbDecimal);return W},joinCoupling:function($,Z){var W=$.j,K=1,Q='',G=[],ee=[],te=[];if(W&&0<W.length){W.sort(function(se,le){return le.coupling-se.coupling}),W[0].diaID&&(ee=[W[0].diaID]),W[0].assignment&&(te=[W[0].assignment]);for(var ne=0;ne<W.length-1;ne++)if(_Mathabs(W[ne].coupling-W[ne+1].coupling)<Z)K++,ee.push(W[ne].diaID),te.push(W[ne].assignment);else{let se={coupling:_Mathabs(W[ne].coupling),multiplicity:O[K]};0<ee.length&&(se.diaID=ee),0<te.length&&(se.assignment=te),G.push(se),W[0].diaID&&(ee=[W[ne].diaID]),W[0].assignment&&(te=[W[ne].assignment]),Q+=O[K],K=1}let oe={coupling:_Mathabs(W[ne].coupling),multiplicity:O[K]};0<ee.length&&(oe.diaID=ee),0<te.length&&(oe.assignment=te),G.push(oe),Q+=O[K],$.j=G}else Q=$.delta?'s':'m';return Q}},D.exports.peak2Vector=I(24)},function(D){D.exports=function(I,R,P,F,T){var O,$;if(void 0===F)F=0;else if(F|=0,0>F||F>=I.length)throw new RangeError('invalid lower bound');if(void 0===T)T=I.length-1;else if(T|=0,T<F||T>=I.length)throw new RangeError('invalid upper bound');for(;F<=T;)if(O=F+(T-F>>1),$=+P(I[O],R,O,I),0>$)F=O+1;else if(0<$)T=O-1;else return O;return~F}},function(D,E,I){'use strict';function P(se,le){le=le||{};var ae=new Date,de;if(se.ser||se['2rr'])de=T(se,le);else if(se['1r']||se['1i']||se.fid)de=F(se,le);else throw new RangeError('The current files are invalid');de.twoD&&!le.noContours&&(K(de),de.profiling&&de.profiling.push({action:'Finished countour plot calculation',time:new Date-ae}),!le.keepSpectra&&delete de.spectra);var ue=de.spectra;if(le.xy&&0<ue.length)for(var pe=0,ce;pe<ue.length;pe++)if(ce=ue[pe],0<ce.data.length)for(var he=0;he<ce.data.length;he++){for(var me=ce.data[he],ge={x:Array(me.length/2),y:Array(me.length/2)},fe=0;fe<me.length;fe+=2)ge.x[fe/2]=me[fe],ge.y[fe/2]=me[fe+1];ce.data[he]=ge}return de}function F(se,le){for(var ae=$(se.procs,le),de=$(se.acqus,le),ue=Object.keys(de.info),pe=0,ce;pe<ue.length;pe++)ce=ue[pe],void 0===ae.info[ce]&&(ae.info[ce]=de.info[ce]);return se['1r']||se['1i']?(se['1r']&&O(se['1r'],ae,'1r',!0),se['1i']&&O(se['1i'],ae,'1i',!1)):se.fid&&Z(se.fid,ae),ae}function T(se,le){var ae,de,pe;if(se['2rr']){for(var ce=$(se.procs,le),he=$(se.acqus,le),me=Object.keys(he.info),ge=0,fe;ge<me.length;ge++)fe=me[ge],void 0===ce.info[fe]&&(ce.info[fe]=he.info[fe]);he=$(se.proc2s,le),ce.info.nbSubSpectra=he.info.$SI=parseInt(he.info.$SI),ae=he.info.$SF=parseFloat(he.info.$SF),de=he.info.$SWP=parseFloat(he.info.$SWP),pe=he.info.$OFFSET=parseFloat(he.info.$OFFSET)}else se.ser&&(ce=$(se.acqus,le),he=$(se.acqu2s,le),ce.info.nbSubSpectra=he.info.$SI=parseInt(he.info.$TD),ce.info.$SI=parseInt(ce.info.$TD),de=he.info.$SW,ce.info.$SWP=ce.info.$SWH,ce.info.$SF=parseFloat(he.info.$SFO1),ce.info.$OFFSET=0,ae=he.info.$SFO1=parseFloat(he.info.$SFO1),ae=1,pe=0,ce.info.$AXNUC=ce.info.$NUC1,he.info.$AXNUC=he.info.$NUC1);ce.info.firstY=pe,ce.info.lastY=pe-de/ae,ce.info.$BF2=ae,ce.info.$SFO1=ae;var ye=ce.info.nbSubSpectra,xe=ce.info.firstY,be=(ce.info.lastY-ce.info.firstY)/(ye-1);se['2rr']?O(se['2rr'],ce,'2rr',!0):se.ser&&Z(se.ser,ce,'ser',!0);for(var ge=0;ge<ye;ge++)xe+=be,ce.spectra[ge].pageValue=xe;se.ser?'TYPE_2DNMR_FID':'TYPE_2DNMR_SPECTRUM';return ce.info['2D_Y_NUCLEUS']=he.info.$AXNUC,ce.info['2D_X_NUCLEUS']=ce.info.$AXNUC,ce.info['2D_Y_FRECUENCY']=ae,ce.info['2D_Y_OFFSET']=pe,ce.info['2D_X_FRECUENCY']=ce.info.$SF,ce.info['2D_X_OFFSET']=ce.info.$OFFSET,ce.twoD=!0,ce}function O(se,le,ae,de){var ue=le.info.$SI=parseInt(le.info.$SI),pe=parseFloat(le.info.$SWP),ce=parseFloat(le.info.$SF),he=ce,me=le.shiftOffsetVal;le.info.observeFrequency=ce,le.info.$BF1=he,le.info.$SFO1=ce,le.info.brukerReference=he;var ge=parseInt(le.info.$BYTORDP);ge=ge?0:1;var fe=le.info.nbSubSpectra?le.info.nbSubSpectra:1;ge?se.setLittleEndian():se.setBigEndian();for(var ye=0;ye<fe;ye++){var xe={dataType:'NMR Spectrum',dataTable:'(X++(R..R))',nbPoints:ue,firstX:me,lastX:me-pe/ce,xUnit:'PPM',yUnit:'Arbitrary',data:[Array(2*ue)],isXYdata:!0,observeFrequency:ce,title:le.info.TITLE,deltaX:-(pe/ce)/(ue-1)},be=me,_e=xe.deltaX;if(de)for(var ke=0;ke<ue;++ke)xe.data[0][2*ke]=be,xe.data[0][2*ke+1]=se.readInt32(),(null===xe.data[0][2*ke+1]||isNaN(xe.data[0][2*ke+1]))&&(xe.data[0][2*ke+1]=0),be+=_e;else for(ke=ue-1;0<=ke;--ke)xe.data[0][2*ke]=be,xe.data[0][2*ke+1]=se.readInt32(),(null===xe.data[0][2*ke+1]||isNaN(xe.data[0][2*ke+1]))&&(xe.data[0][2*ke+1]=0),be+=_e;le.spectra.push(xe)}}function $(se,le){var ae=/.*/;return le.keepRecordsRegExp&&(ae=le.keepRecordsRegExp),G.convert(se,{keepRecordsRegExp:ae})}function Z(se,le){var ae=le.info.$TD=parseInt(le.info.$TD),de=le.info.$SWH=parseFloat(le.info.$SWH),ue=le.info.$SW=parseFloat(le.info.$SW),pe=le.info.$SFO1=parseFloat(le.info.$SFO1),ce=parseFloat(le.info.$BF1);le.info.$BF1=ce;var he=ue,me=he/(ae-1),ge=parseInt(le.info.$BYTORDP);ge=ge?0:1,ge?se.setLittleEndian():se.setBigEndian();var fe=le.info.nbSubSpectra?le.info.nbSubSpectra:1;le.spectra=Array(fe);for(var ye=0,xe;ye<fe/2;ye++){xe={dataType:'NMR FID',dataTable:'(X++(R..R))',nbPoints:ae,firstX:0,lastX:he,nucleus:le.info.$NUC1?le.info.$NUC1:void 0,xUnit:'Sec',yUnit:'Arbitrary',data:[Array(2*ae)],isXYdata:!0,observeFrequency:pe,title:le.info.TITLE,deltaX:me},le.spectra[2*ye]=xe,xe={dataType:'NMR FID',dataTable:'(X++(I..I))',nbPoints:ae,firstX:0,lastX:he,nucleus:le.info.$NUC1?le.info.$NUC1:void 0,xUnit:'Sec',yUnit:'Arbitrary',data:[Array(2*ae)],isXYdata:!0,observeFrequency:pe,title:le.info.TITLE,deltaX:me},le.spectra[2*ye+1]=xe;for(var be=0,ke=0,_e;se.available(8)&&ke<ae;ke++,be=ke*me)_e=se.readInt32(),(null===_e||isNaN(_e))&&(_e=0),le.spectra[2*ye].data[0][2*ke+1]=_e,le.spectra[2*ye].data[0][2*ke]=be,_e=se.readInt32(),(null===_e||isNaN(_e))&&(_e=0),le.spectra[2*ye+1].data[0][2*ke+1]=_e,le.spectra[2*ye+1].data[0][2*ke]=be;for(;ke<ae;ke++,be=ke*me)le.spectra[2*ye].data[0][2*ke+1]=0,le.spectra[2*ye].data[0][2*ke]=be,le.spectra[2*ye+1].data[0][2*ke+1]=0,le.spectra[2*ye+1].data[0][2*ke]=be}}function W(se){for(var le=0,ae=se[0].data[0][0],de=ae,ue=se.length,pe=se[0].data[0].length/2,ce=Array(ue),he=0;he<ue;he++){ce[he]=Array(pe);for(var me=0;me<pe;me++)ce[he][me]=se[he].data[0][2*me+1],ce[he][me]<ae&&(ae=se[he].data[0][2*me+1]),ce[he][me]>de&&(de=se[he].data[0][2*me+1]),0!==he&&0!==me&&(le+=_Mathabs(ce[he][me]-ce[he][me-1])+_Mathabs(ce[he][me]-ce[he-1][me]))}return{z:ce,minX:se[0].data[0][0],maxX:se[0].data[0][se[0].data[0].length-2],minY:se[0].pageValue,maxY:se[ue-1].pageValue,minZ:ae,maxZ:de,noise:le/(2*((ue-1)*(pe-1)))}}function K(se){var le=W(se.spectra);se.contourLines=Q(le),delete le.z,se.minMax=le}function Q(se){for(var ae=se.noise,de=se.z,ue=[],pe=7,ce=new Float32Array(4),he=[],me=de.length,ge=de[0].length,_e=se.minX,ke=se.maxX,we=(ke-_e)/(ge-1),Ce=se.minY,je=se.maxY,ve=(je-Ce)/(me-1),Se=se.minZ,De=se.maxZ,Ie=0,fe,ye,xe,be,Ee,Ae;Ie<2*pe;Ie++){Ae={},ue.push(Ae);var He=Ie%2;Ee=0==He?(De-5*ae)*_Mathexp(Ie/2-pe)+5*ae:-(De-5*ae)*_Mathexp(Ie/2-pe)-5*ae;var Re=[];if(Ae.zValue=Ee,Ae.lines=Re,!(Ee<=Se||Ee>=De))for(var Pe=0;Pe<me-1;Pe++)for(var Fe=0;Fe<ge-1;Fe++){ce[0]=de[Pe][Fe],ce[1]=de[Pe][Fe+1],ce[2]=de[Pe+1][Fe],ce[3]=de[Pe+1][Fe+1];for(var Te=0;4>Te;Te++)he[Te]=ce[Te]>Ee;he[0]!==he[1]&&he[0]!==he[2]&&(fe=Fe+(Ee-ce[0])/(ce[1]-ce[0]),ye=Pe,xe=Fe,be=Pe+(Ee-ce[0])/(ce[2]-ce[0]),Re.push(fe*we+_e,ye*ve+Ce,xe*we+_e,be*ve+Ce)),he[3]!==he[1]&&he[3]!==he[2]&&(fe=Fe+1,ye=Pe+1-(Ee-ce[3])/(ce[1]-ce[3]),xe=Fe+1-(Ee-ce[3])/(ce[2]-ce[3]),be=Pe+1,Re.push(fe*we+_e,ye*ve+Ce,xe*we+_e,be*ve+Ce)),he[1]!==he[2]&&(fe=Fe+1-(Ee-ce[1])/(ce[2]-ce[1]),ye=Pe+(Ee-ce[1])/(ce[2]-ce[1]),he[1]!==he[0]&&(xe=Fe+1-(Ee-ce[1])/(ce[0]-ce[1]),be=Pe,Re.push(fe*we+_e,ye*ve+Ce,xe*we+_e,be*ve+Ce)),he[2]!==he[0]&&(xe=Fe,be=Pe+1-(Ee-ce[2])/(ce[0]-ce[2]),Re.push(fe*we+_e,ye*ve+Ce,xe*we+_e,be*ve+Ce)),he[1]!==he[3]&&(xe=Fe+1,be=Pe+(Ee-ce[1])/(ce[3]-ce[1]),Re.push(fe*we+_e,ye*ve+Ce,xe*we+_e,be*ve+Ce)),he[2]!==he[3]&&(xe=Fe+(Ee-ce[2])/(ce[3]-ce[2]),be=Pe+1,Re.push(fe*we+_e,ye*ve+Ce,xe*we+_e,be*ve+Ce)))}}return{minX:se.minX,maxX:se.maxX,minY:se.minY,maxY:se.maxY,segments:ue}}const G=I(30),ee=I(83),te=I(89);var ne=1,oe=2;D.exports={convertZip:function(se,le){le=le||{};var ae=new te;ae.load(se,le);for(var de={ser:ne,fid:ne,acqus:oe,acqu2s:oe,procs:oe,proc2s:oe,'1r':ne,'1i':ne,'2rr':ne},ue=ae.filter(function(_e){return 0<=_e.indexOf('ser')||0<=_e.indexOf('fid')||0<=_e.indexOf('1r')||0<=_e.indexOf('2rr')}),pe=Array(ue.length),ce=0;ce<ue.length;++ce){var he=ue[ce].name.length,me=ue[ce].name;me=me.substr(0,me.lastIndexOf('/')+1);var ge=ae.folder(me),fe=ge.filter(function(_e){return!!de[_e]}),ye={};0<=me.indexOf('pdata')&&(ye.acqus=ae.file(me.replace(/pdata\/[0-9]\//,'acqus')).asText());for(var xe=0;xe<fe.length;++xe){var be=fe[xe].name.lastIndexOf('/'),me=fe[xe].name.substr(be+1);ye[me]=de[me]===ne?new ee(fe[xe].asArrayBuffer()):fe[xe].asText()}pe[ce]={filename:ue[ce].name,value:P(ye,le)}}return pe},converFolder:P}},function(D,E,I){'use strict';(function(R){function F(){return O.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function T(qe,Ve){if(F()<Ve)throw new RangeError('Invalid typed array length');return O.TYPED_ARRAY_SUPPORT?(qe=new Uint8Array(Ve),qe.__proto__=O.prototype):(null===qe&&(qe=new O(Ve)),qe.length=Ve),qe}function O(qe,Ve,$e){if(!O.TYPED_ARRAY_SUPPORT&&!(this instanceof O))return new O(qe,Ve,$e);if('number'==typeof qe){if('string'==typeof Ve)throw new Error('If encoding is specified then the first argument must be a string');return K(this,qe)}return $(this,qe,Ve,$e)}function $(qe,Ve,$e,Ze){if('number'==typeof Ve)throw new TypeError('"value" argument must not be a number');return'undefined'!=typeof ArrayBuffer&&Ve instanceof ArrayBuffer?ee(qe,Ve,$e,Ze):'string'==typeof Ve?Q(qe,Ve,$e):te(qe,Ve)}function Z(qe){if('number'!=typeof qe)throw new TypeError('"size" argument must be a number');else if(0>qe)throw new RangeError('"size" argument must not be negative')}function W(qe,Ve,$e,Ze){return Z(Ve),0>=Ve?T(qe,Ve):void 0===$e?T(qe,Ve):'string'==typeof Ze?T(qe,Ve).fill($e,Ze):T(qe,Ve).fill($e)}function K(qe,Ve){if(Z(Ve),qe=T(qe,0>Ve?0:0|ne(Ve)),!O.TYPED_ARRAY_SUPPORT)for(var $e=0;$e<Ve;++$e)qe[$e]=0;return qe}function Q(qe,Ve,$e){if(('string'!=typeof $e||''===$e)&&($e='utf8'),!O.isEncoding($e))throw new TypeError('"encoding" must be a valid string encoding');var Ze=0|se(Ve,$e);qe=T(qe,Ze);var We=qe.write(Ve,$e);return We!==Ze&&(qe=qe.slice(0,We)),qe}function G(qe,Ve){var $e=0>Ve.length?0:0|ne(Ve.length);qe=T(qe,$e);for(var Ze=0;Ze<$e;Ze+=1)qe[Ze]=255&Ve[Ze];return qe}function ee(qe,Ve,$e,Ze){if(Ve.byteLength,0>$e||Ve.byteLength<$e)throw new RangeError('\'offset\' is out of bounds');if(Ve.byteLength<$e+(Ze||0))throw new RangeError('\'length\' is out of bounds');return Ve=void 0===$e&&void 0===Ze?new Uint8Array(Ve):void 0===Ze?new Uint8Array(Ve,$e):new Uint8Array(Ve,$e,Ze),O.TYPED_ARRAY_SUPPORT?(qe=Ve,qe.__proto__=O.prototype):qe=G(qe,Ve),qe}function te(qe,Ve){if(O.isBuffer(Ve)){var $e=0|ne(Ve.length);return(qe=T(qe,$e),0===qe.length)?qe:(Ve.copy(qe,0,0,$e),qe)}if(Ve){if('undefined'!=typeof ArrayBuffer&&Ve.buffer instanceof ArrayBuffer||'length'in Ve)return'number'!=typeof Ve.length||Xe(Ve.length)?T(qe,0):G(qe,Ve);if('Buffer'===Ve.type&&Le(Ve.data))return G(qe,Ve.data)}throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')}function ne(qe){if(qe>=F())throw new RangeError('Attempt to allocate Buffer larger than maximum size: 0x'+F().toString(16)+' bytes');return 0|qe}function se(qe,Ve){if(O.isBuffer(qe))return qe.length;if('undefined'!=typeof ArrayBuffer&&'function'==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(qe)||qe instanceof ArrayBuffer))return qe.byteLength;'string'!=typeof qe&&(qe=''+qe);var $e=qe.length;if(0===$e)return 0;for(var Ze=!1;;)switch(Ve){case'ascii':case'latin1':case'binary':return $e;case'utf8':case'utf-8':case void 0:return Fe(qe).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return 2*$e;case'hex':return $e>>>1;case'base64':return Oe(qe).length;default:if(Ze)return Fe(qe).length;Ve=(''+Ve).toLowerCase(),Ze=!0;}}function le(qe,Ve,$e){var Ze=!1;if((void 0===Ve||0>Ve)&&(Ve=0),Ve>this.length)return'';if((void 0===$e||$e>this.length)&&($e=this.length),0>=$e)return'';if($e>>>=0,Ve>>>=0,$e<=Ve)return'';for(qe||(qe='utf8');;)switch(qe){case'hex':return we(this,Ve,$e);case'utf8':case'utf-8':return xe(this,Ve,$e);case'ascii':return _e(this,Ve,$e);case'latin1':case'binary':return ke(this,Ve,$e);case'base64':return ye(this,Ve,$e);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return Ce(this,Ve,$e);default:if(Ze)throw new TypeError('Unknown encoding: '+qe);qe=(qe+'').toLowerCase(),Ze=!0;}}function ae(qe,Ve,$e){var Ze=qe[Ve];qe[Ve]=qe[$e],qe[$e]=Ze}function de(qe,Ve,$e,Ze,We){if(0===qe.length)return-1;if('string'==typeof $e?(Ze=$e,$e=0):2147483647<$e?$e=2147483647:-2147483648>$e&&($e=-2147483648),$e=+$e,isNaN($e)&&($e=We?0:qe.length-1),0>$e&&($e=qe.length+$e),$e>=qe.length){if(We)return-1;$e=qe.length-1}else if(0>$e)if(We)$e=0;else return-1;if('string'==typeof Ve&&(Ve=O.from(Ve,Ze)),O.isBuffer(Ve))return 0===Ve.length?-1:ue(qe,Ve,$e,Ze,We);if('number'==typeof Ve)return Ve&=255,O.TYPED_ARRAY_SUPPORT&&'function'==typeof Uint8Array.prototype.indexOf?We?Uint8Array.prototype.indexOf.call(qe,Ve,$e):Uint8Array.prototype.lastIndexOf.call(qe,Ve,$e):ue(qe,[Ve],$e,Ze,We);throw new TypeError('val must be string, number or Buffer')}function ue(qe,Ve,$e,Ze,We){function Je(ot,st){return 1==Ke?ot[st]:ot.readUInt16BE(st*Ke)}var Ke=1,Qe=qe.length,Ge=Ve.length;if(void 0!==Ze&&(Ze=(Ze+'').toLowerCase(),'ucs2'===Ze||'ucs-2'===Ze||'utf16le'===Ze||'utf-16le'===Ze)){if(2>qe.length||2>Ve.length)return-1;Ke=2,Qe/=2,Ge/=2,$e/=2}var et;if(We){var tt=-1;for(et=$e;et<Qe;et++)if(Je(qe,et)!==Je(Ve,-1==tt?0:et-tt))-1!=tt&&(et-=et-tt),tt=-1;else if(-1==tt&&(tt=et),et-tt+1===Ge)return tt*Ke}else for($e+Ge>Qe&&($e=Qe-Ge),et=$e;0<=et;et--){for(var it=!0,nt=0;nt<Ge;nt++)if(Je(qe,et+nt)!==Je(Ve,nt)){it=!1;break}if(it)return et}return-1}function pe(qe,Ve,$e,Ze){$e=+$e||0;var We=qe.length-$e;Ze?(Ze=+Ze,Ze>We&&(Ze=We)):Ze=We;var Je=Ve.length;if(0!=Je%2)throw new TypeError('Invalid hex string');Ze>Je/2&&(Ze=Je/2);for(var Ke=0,Qe;Ke<Ze;++Ke){if(Qe=parseInt(Ve.substr(2*Ke,2),16),isNaN(Qe))return Ke;qe[$e+Ke]=Qe}return Ke}function ce(qe,Ve,$e,Ze){return Me(Fe(Ve,qe.length-$e),qe,$e,Ze)}function he(qe,Ve,$e,Ze){return Me(Te(Ve),qe,$e,Ze)}function me(qe,Ve,$e,Ze){return he(qe,Ve,$e,Ze)}function ge(qe,Ve,$e,Ze){return Me(Oe(Ve),qe,$e,Ze)}function fe(qe,Ve,$e,Ze){return Me(ze(Ve,qe.length-$e),qe,$e,Ze)}function ye(qe,Ve,$e){return 0===Ve&&$e===qe.length?Ne.fromByteArray(qe):Ne.fromByteArray(qe.slice(Ve,$e))}function xe(qe,Ve,$e){$e=_Mathmin(qe.length,$e);for(var Ze=[],We=Ve;We<$e;){var Je=qe[We],Ke=null,Qe=239<Je?4:223<Je?3:191<Je?2:1;if(We+Qe<=$e){var Ge,et,tt,it;1==Qe?128>Je&&(Ke=Je):2==Qe?(Ge=qe[We+1],128==(192&Ge)&&(it=(31&Je)<<6|63&Ge,127<it&&(Ke=it))):3==Qe?(Ge=qe[We+1],et=qe[We+2],128==(192&Ge)&&128==(192&et)&&(it=(15&Je)<<12|(63&Ge)<<6|63&et,2047<it&&(55296>it||57343<it)&&(Ke=it))):4==Qe?(Ge=qe[We+1],et=qe[We+2],tt=qe[We+3],128==(192&Ge)&&128==(192&et)&&128==(192&tt)&&(it=(15&Je)<<18|(63&Ge)<<12|(63&et)<<6|63&tt,65535<it&&1114112>it&&(Ke=it))):void 0}null===Ke?(Ke=65533,Qe=1):65535<Ke&&(Ke-=65536,Ze.push(55296|1023&Ke>>>10),Ke=56320|1023&Ke),Ze.push(Ke),We+=Qe}return be(Ze)}function be(qe){var Ve=qe.length;if(Ve<=Ue)return _StringfromCharCode.apply(String,qe);for(var $e='',Ze=0;Ze<Ve;)$e+=_StringfromCharCode.apply(String,qe.slice(Ze,Ze+=Ue));return $e}function _e(qe,Ve,$e){var Ze='';$e=_Mathmin(qe.length,$e);for(var We=Ve;We<$e;++We)Ze+=_StringfromCharCode(127&qe[We]);return Ze}function ke(qe,Ve,$e){var Ze='';$e=_Mathmin(qe.length,$e);for(var We=Ve;We<$e;++We)Ze+=_StringfromCharCode(qe[We]);return Ze}function we(qe,Ve,$e){var Ze=qe.length;(!Ve||0>Ve)&&(Ve=0),(!$e||0>$e||$e>Ze)&&($e=Ze);for(var We='',Je=Ve;Je<$e;++Je)We+=Pe(qe[Je]);return We}function Ce(qe,Ve,$e){for(var Ze=qe.slice(Ve,$e),We='',Je=0;Je<Ze.length;Je+=2)We+=_StringfromCharCode(Ze[Je]+256*Ze[Je+1]);return We}function je(qe,Ve,$e){if(0!=qe%1||0>qe)throw new RangeError('offset is not uint');if(qe+Ve>$e)throw new RangeError('Trying to access beyond buffer length')}function ve(qe,Ve,$e,Ze,We,Je){if(!O.isBuffer(qe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ve>We||Ve<Je)throw new RangeError('"value" argument is out of bounds');if($e+Ze>qe.length)throw new RangeError('Index out of range')}function Se(qe,Ve,$e,Ze){0>Ve&&(Ve=65535+Ve+1);for(var We=0,Je=_Mathmin(qe.length-$e,2);We<Je;++We)qe[$e+We]=(Ve&255<<8*(Ze?We:1-We))>>>8*(Ze?We:1-We)}function De(qe,Ve,$e,Ze){0>Ve&&(Ve=4294967295+Ve+1);for(var We=0,Je=_Mathmin(qe.length-$e,4);We<Je;++We)qe[$e+We]=255&Ve>>>8*(Ze?We:3-We)}function Ee(qe,Ve,$e,Ze){if($e+Ze>qe.length)throw new RangeError('Index out of range');if(0>$e)throw new RangeError('Index out of range')}function Ie(qe,Ve,$e,Ze,We){return We||Ee(qe,Ve,$e,4,3.4028234663852886e38,-3.4028234663852886e38),Ye.write(qe,Ve,$e,Ze,23,4),$e+4}function Ae(qe,Ve,$e,Ze,We){return We||Ee(qe,Ve,$e,8,1.7976931348623157e308,-1.7976931348623157e308),Ye.write(qe,Ve,$e,Ze,52,8),$e+8}function He(qe){if(qe=Re(qe).replace(Be,''),2>qe.length)return'';for(;0!=qe.length%4;)qe+='=';return qe}function Re(qe){return qe.trim?qe.trim():qe.replace(/^\s+|\s+$/g,'')}function Pe(qe){return 16>qe?'0'+qe.toString(16):qe.toString(16)}function Fe(qe,Ve){Ve=Ve||Infinity;for(var Ze=qe.length,We=null,Je=[],Ke=0,$e;Ke<Ze;++Ke){if($e=qe.charCodeAt(Ke),55295<$e&&57344>$e){if(!We){if(56319<$e){-1<(Ve-=3)&&Je.push(239,191,189);continue}else if(Ke+1===Ze){-1<(Ve-=3)&&Je.push(239,191,189);continue}We=$e;continue}if(56320>$e){-1<(Ve-=3)&&Je.push(239,191,189),We=$e;continue}$e=(We-55296<<10|$e-56320)+65536}else We&&-1<(Ve-=3)&&Je.push(239,191,189);if(We=null,128>$e){if(0>(Ve-=1))break;Je.push($e)}else if(2048>$e){if(0>(Ve-=2))break;Je.push(192|$e>>6,128|63&$e)}else if(65536>$e){if(0>(Ve-=3))break;Je.push(224|$e>>12,128|63&$e>>6,128|63&$e)}else if(1114112>$e){if(0>(Ve-=4))break;Je.push(240|$e>>18,128|63&$e>>12,128|63&$e>>6,128|63&$e)}else throw new Error('Invalid code point')}return Je}function Te(qe){for(var Ve=[],$e=0;$e<qe.length;++$e)Ve.push(255&qe.charCodeAt($e));return Ve}function ze(qe,Ve){for(var Je=[],Ke=0,$e,Ze,We;Ke<qe.length&&!(0>(Ve-=2));++Ke)$e=qe.charCodeAt(Ke),Ze=$e>>8,We=$e%256,Je.push(We),Je.push(Ze);return Je}function Oe(qe){return Ne.toByteArray(He(qe))}function Me(qe,Ve,$e,Ze){for(var We=0;We<Ze&&!(We+$e>=Ve.length||We>=qe.length);++We)Ve[We+$e]=qe[We];return We}function Xe(qe){return qe!==qe}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var Ne=I(79),Ye=I(82),Le=I(84);E.Buffer=O,E.SlowBuffer=function(qe){return+qe!=qe&&(qe=0),O.alloc(+qe)},E.INSPECT_MAX_BYTES=50,O.TYPED_ARRAY_SUPPORT=R.TYPED_ARRAY_SUPPORT===void 0?function(){try{var qe=new Uint8Array(1);return qe.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===qe.foo()&&'function'==typeof qe.subarray&&0===qe.subarray(1,1).byteLength}catch(Ve){return!1}}():R.TYPED_ARRAY_SUPPORT,E.kMaxLength=F(),O.poolSize=8192,O._augment=function(qe){return qe.__proto__=O.prototype,qe},O.from=function(qe,Ve,$e){return $(null,qe,Ve,$e)},O.TYPED_ARRAY_SUPPORT&&(O.prototype.__proto__=Uint8Array.prototype,O.__proto__=Uint8Array,'undefined'!=typeof Symbol&&Symbol.species&&O[Symbol.species]===O&&Object.defineProperty(O,Symbol.species,{value:null,configurable:!0})),O.alloc=function(qe,Ve,$e){return W(null,qe,Ve,$e)},O.allocUnsafe=function(qe){return K(null,qe)},O.allocUnsafeSlow=function(qe){return K(null,qe)},O.isBuffer=function(Ve){return!!(null!=Ve&&Ve._isBuffer)},O.compare=function(Ve,$e){if(!O.isBuffer(Ve)||!O.isBuffer($e))throw new TypeError('Arguments must be Buffers');if(Ve===$e)return 0;for(var Ze=Ve.length,We=$e.length,Je=0,Ke=_Mathmin(Ze,We);Je<Ke;++Je)if(Ve[Je]!==$e[Je]){Ze=Ve[Je],We=$e[Je];break}return Ze<We?-1:We<Ze?1:0},O.isEncoding=function(Ve){switch((Ve+'').toLowerCase()){case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return!0;default:return!1;}},O.concat=function(Ve,$e){if(!Le(Ve))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Ve.length)return O.alloc(0);var Ze;if($e===void 0)for($e=0,Ze=0;Ze<Ve.length;++Ze)$e+=Ve[Ze].length;var We=O.allocUnsafe($e),Je=0;for(Ze=0;Ze<Ve.length;++Ze){var Ke=Ve[Ze];if(!O.isBuffer(Ke))throw new TypeError('"list" argument must be an Array of Buffers');Ke.copy(We,Je),Je+=Ke.length}return We},O.byteLength=se,O.prototype._isBuffer=!0,O.prototype.swap16=function(){var Ve=this.length;if(0!=Ve%2)throw new RangeError('Buffer size must be a multiple of 16-bits');for(var $e=0;$e<Ve;$e+=2)ae(this,$e,$e+1);return this},O.prototype.swap32=function(){var Ve=this.length;if(0!=Ve%4)throw new RangeError('Buffer size must be a multiple of 32-bits');for(var $e=0;$e<Ve;$e+=4)ae(this,$e,$e+3),ae(this,$e+1,$e+2);return this},O.prototype.swap64=function(){var Ve=this.length;if(0!=Ve%8)throw new RangeError('Buffer size must be a multiple of 64-bits');for(var $e=0;$e<Ve;$e+=8)ae(this,$e,$e+7),ae(this,$e+1,$e+6),ae(this,$e+2,$e+5),ae(this,$e+3,$e+4);return this},O.prototype.toString=function(){var Ve=0|this.length;return 0==Ve?'':0===arguments.length?xe(this,0,Ve):le.apply(this,arguments)},O.prototype.equals=function(Ve){if(!O.isBuffer(Ve))throw new TypeError('Argument must be a Buffer');return this===Ve||0===O.compare(this,Ve)},O.prototype.inspect=function(){var Ve='',$e=E.INSPECT_MAX_BYTES;return 0<this.length&&(Ve=this.toString('hex',0,$e).match(/.{2}/g).join(' '),this.length>$e&&(Ve+=' ... ')),'<Buffer '+Ve+'>'},O.prototype.compare=function(Ve,$e,Ze,We,Je){if(!O.isBuffer(Ve))throw new TypeError('Argument must be a Buffer');if(void 0===$e&&($e=0),void 0===Ze&&(Ze=Ve?Ve.length:0),void 0===We&&(We=0),void 0===Je&&(Je=this.length),0>$e||Ze>Ve.length||0>We||Je>this.length)throw new RangeError('out of range index');if(We>=Je&&$e>=Ze)return 0;if(We>=Je)return-1;if($e>=Ze)return 1;if($e>>>=0,Ze>>>=0,We>>>=0,Je>>>=0,this===Ve)return 0;for(var Ke=Je-We,Qe=Ze-$e,Ge=_Mathmin(Ke,Qe),et=this.slice(We,Je),tt=Ve.slice($e,Ze),it=0;it<Ge;++it)if(et[it]!==tt[it]){Ke=et[it],Qe=tt[it];break}return Ke<Qe?-1:Qe<Ke?1:0},O.prototype.includes=function(Ve,$e,Ze){return-1!==this.indexOf(Ve,$e,Ze)},O.prototype.indexOf=function(Ve,$e,Ze){return de(this,Ve,$e,Ze,!0)},O.prototype.lastIndexOf=function(Ve,$e,Ze){return de(this,Ve,$e,Ze,!1)},O.prototype.write=function(Ve,$e,Ze,We){if(void 0===$e)We='utf8',Ze=this.length,$e=0;else if(void 0===Ze&&'string'==typeof $e)We=$e,Ze=this.length,$e=0;else if(isFinite($e))$e|=0,isFinite(Ze)?(Ze|=0,void 0===We&&(We='utf8')):(We=Ze,Ze=void 0);else throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');var Je=this.length-$e;if((void 0===Ze||Ze>Je)&&(Ze=Je),0<Ve.length&&(0>Ze||0>$e)||$e>this.length)throw new RangeError('Attempt to write outside buffer bounds');We||(We='utf8');for(var Ke=!1;;)switch(We){case'hex':return pe(this,Ve,$e,Ze);case'utf8':case'utf-8':return ce(this,Ve,$e,Ze);case'ascii':return he(this,Ve,$e,Ze);case'latin1':case'binary':return me(this,Ve,$e,Ze);case'base64':return ge(this,Ve,$e,Ze);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return fe(this,Ve,$e,Ze);default:if(Ke)throw new TypeError('Unknown encoding: '+We);We=(''+We).toLowerCase(),Ke=!0;}},O.prototype.toJSON=function(){return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)}};var Ue=4096;O.prototype.slice=function(Ve,$e){var Ze=this.length;Ve=~~Ve,$e=$e===void 0?Ze:~~$e,0>Ve?(Ve+=Ze,0>Ve&&(Ve=0)):Ve>Ze&&(Ve=Ze),0>$e?($e+=Ze,0>$e&&($e=0)):$e>Ze&&($e=Ze),$e<Ve&&($e=Ve);var We;if(O.TYPED_ARRAY_SUPPORT)We=this.subarray(Ve,$e),We.__proto__=O.prototype;else{var Je=$e-Ve;We=new O(Je,void 0);for(var Ke=0;Ke<Je;++Ke)We[Ke]=this[Ke+Ve]}return We},O.prototype.readUIntLE=function(Ve,$e,Ze){Ve|=0,$e|=0,Ze||je(Ve,$e,this.length);for(var We=this[Ve],Je=1,Ke=0;++Ke<$e&&(Je*=256);)We+=this[Ve+Ke]*Je;return We},O.prototype.readUIntBE=function(Ve,$e,Ze){Ve|=0,$e|=0,Ze||je(Ve,$e,this.length);for(var We=this[Ve+--$e],Je=1;0<$e&&(Je*=256);)We+=this[Ve+--$e]*Je;return We},O.prototype.readUInt8=function(Ve,$e){return $e||je(Ve,1,this.length),this[Ve]},O.prototype.readUInt16LE=function(Ve,$e){return $e||je(Ve,2,this.length),this[Ve]|this[Ve+1]<<8},O.prototype.readUInt16BE=function(Ve,$e){return $e||je(Ve,2,this.length),this[Ve]<<8|this[Ve+1]},O.prototype.readUInt32LE=function(Ve,$e){return $e||je(Ve,4,this.length),(this[Ve]|this[Ve+1]<<8|this[Ve+2]<<16)+16777216*this[Ve+3]},O.prototype.readUInt32BE=function(Ve,$e){return $e||je(Ve,4,this.length),16777216*this[Ve]+(this[Ve+1]<<16|this[Ve+2]<<8|this[Ve+3])},O.prototype.readIntLE=function(Ve,$e,Ze){Ve|=0,$e|=0,Ze||je(Ve,$e,this.length);for(var We=this[Ve],Je=1,Ke=0;++Ke<$e&&(Je*=256);)We+=this[Ve+Ke]*Je;return Je*=128,We>=Je&&(We-=_Mathpow(2,8*$e)),We},O.prototype.readIntBE=function(Ve,$e,Ze){Ve|=0,$e|=0,Ze||je(Ve,$e,this.length);for(var We=$e,Je=1,Ke=this[Ve+--We];0<We&&(Je*=256);)Ke+=this[Ve+--We]*Je;return Je*=128,Ke>=Je&&(Ke-=_Mathpow(2,8*$e)),Ke},O.prototype.readInt8=function(Ve,$e){return $e||je(Ve,1,this.length),128&this[Ve]?-1*(255-this[Ve]+1):this[Ve]},O.prototype.readInt16LE=function(Ve,$e){$e||je(Ve,2,this.length);var Ze=this[Ve]|this[Ve+1]<<8;return 32768&Ze?4294901760|Ze:Ze},O.prototype.readInt16BE=function(Ve,$e){$e||je(Ve,2,this.length);var Ze=this[Ve+1]|this[Ve]<<8;return 32768&Ze?4294901760|Ze:Ze},O.prototype.readInt32LE=function(Ve,$e){return $e||je(Ve,4,this.length),this[Ve]|this[Ve+1]<<8|this[Ve+2]<<16|this[Ve+3]<<24},O.prototype.readInt32BE=function(Ve,$e){return $e||je(Ve,4,this.length),this[Ve]<<24|this[Ve+1]<<16|this[Ve+2]<<8|this[Ve+3]},O.prototype.readFloatLE=function(Ve,$e){return $e||je(Ve,4,this.length),Ye.read(this,Ve,!0,23,4)},O.prototype.readFloatBE=function(Ve,$e){return $e||je(Ve,4,this.length),Ye.read(this,Ve,!1,23,4)},O.prototype.readDoubleLE=function(Ve,$e){return $e||je(Ve,8,this.length),Ye.read(this,Ve,!0,52,8)},O.prototype.readDoubleBE=function(Ve,$e){return $e||je(Ve,8,this.length),Ye.read(this,Ve,!1,52,8)},O.prototype.writeUIntLE=function(Ve,$e,Ze,We){if(Ve=+Ve,$e|=0,Ze|=0,!We){var Je=_Mathpow(2,8*Ze)-1;ve(this,Ve,$e,Ze,Je,0)}var Ke=1,Qe=0;for(this[$e]=255&Ve;++Qe<Ze&&(Ke*=256);)this[$e+Qe]=255&Ve/Ke;return $e+Ze},O.prototype.writeUIntBE=function(Ve,$e,Ze,We){if(Ve=+Ve,$e|=0,Ze|=0,!We){var Je=_Mathpow(2,8*Ze)-1;ve(this,Ve,$e,Ze,Je,0)}var Ke=Ze-1,Qe=1;for(this[$e+Ke]=255&Ve;0<=--Ke&&(Qe*=256);)this[$e+Ke]=255&Ve/Qe;return $e+Ze},O.prototype.writeUInt8=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,1,255,0),O.TYPED_ARRAY_SUPPORT||(Ve=_Mathfloor(Ve)),this[$e]=255&Ve,$e+1},O.prototype.writeUInt16LE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,2,65535,0),O.TYPED_ARRAY_SUPPORT?(this[$e]=255&Ve,this[$e+1]=Ve>>>8):Se(this,Ve,$e,!0),$e+2},O.prototype.writeUInt16BE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,2,65535,0),O.TYPED_ARRAY_SUPPORT?(this[$e]=Ve>>>8,this[$e+1]=255&Ve):Se(this,Ve,$e,!1),$e+2},O.prototype.writeUInt32LE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,4,4294967295,0),O.TYPED_ARRAY_SUPPORT?(this[$e+3]=Ve>>>24,this[$e+2]=Ve>>>16,this[$e+1]=Ve>>>8,this[$e]=255&Ve):De(this,Ve,$e,!0),$e+4},O.prototype.writeUInt32BE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,4,4294967295,0),O.TYPED_ARRAY_SUPPORT?(this[$e]=Ve>>>24,this[$e+1]=Ve>>>16,this[$e+2]=Ve>>>8,this[$e+3]=255&Ve):De(this,Ve,$e,!1),$e+4},O.prototype.writeIntLE=function(Ve,$e,Ze,We){if(Ve=+Ve,$e|=0,!We){var Je=_Mathpow(2,8*Ze-1);ve(this,Ve,$e,Ze,Je-1,-Je)}var Ke=0,Qe=1,Ge=0;for(this[$e]=255&Ve;++Ke<Ze&&(Qe*=256);)0>Ve&&0==Ge&&0!==this[$e+Ke-1]&&(Ge=1),this[$e+Ke]=255&(Ve/Qe>>0)-Ge;return $e+Ze},O.prototype.writeIntBE=function(Ve,$e,Ze,We){if(Ve=+Ve,$e|=0,!We){var Je=_Mathpow(2,8*Ze-1);ve(this,Ve,$e,Ze,Je-1,-Je)}var Ke=Ze-1,Qe=1,Ge=0;for(this[$e+Ke]=255&Ve;0<=--Ke&&(Qe*=256);)0>Ve&&0==Ge&&0!==this[$e+Ke+1]&&(Ge=1),this[$e+Ke]=255&(Ve/Qe>>0)-Ge;return $e+Ze},O.prototype.writeInt8=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,1,127,-128),O.TYPED_ARRAY_SUPPORT||(Ve=_Mathfloor(Ve)),0>Ve&&(Ve=255+Ve+1),this[$e]=255&Ve,$e+1},O.prototype.writeInt16LE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,2,32767,-32768),O.TYPED_ARRAY_SUPPORT?(this[$e]=255&Ve,this[$e+1]=Ve>>>8):Se(this,Ve,$e,!0),$e+2},O.prototype.writeInt16BE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,2,32767,-32768),O.TYPED_ARRAY_SUPPORT?(this[$e]=Ve>>>8,this[$e+1]=255&Ve):Se(this,Ve,$e,!1),$e+2},O.prototype.writeInt32LE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,4,2147483647,-2147483648),O.TYPED_ARRAY_SUPPORT?(this[$e]=255&Ve,this[$e+1]=Ve>>>8,this[$e+2]=Ve>>>16,this[$e+3]=Ve>>>24):De(this,Ve,$e,!0),$e+4},O.prototype.writeInt32BE=function(Ve,$e,Ze){return Ve=+Ve,$e|=0,Ze||ve(this,Ve,$e,4,2147483647,-2147483648),0>Ve&&(Ve=4294967295+Ve+1),O.TYPED_ARRAY_SUPPORT?(this[$e]=Ve>>>24,this[$e+1]=Ve>>>16,this[$e+2]=Ve>>>8,this[$e+3]=255&Ve):De(this,Ve,$e,!1),$e+4},O.prototype.writeFloatLE=function(Ve,$e,Ze){return Ie(this,Ve,$e,!0,Ze)},O.prototype.writeFloatBE=function(Ve,$e,Ze){return Ie(this,Ve,$e,!1,Ze)},O.prototype.writeDoubleLE=function(Ve,$e,Ze){return Ae(this,Ve,$e,!0,Ze)},O.prototype.writeDoubleBE=function(Ve,$e,Ze){return Ae(this,Ve,$e,!1,Ze)},O.prototype.copy=function(Ve,$e,Ze,We){if(Ze||(Ze=0),We||0===We||(We=this.length),$e>=Ve.length&&($e=Ve.length),$e||($e=0),0<We&&We<Ze&&(We=Ze),We===Ze)return 0;if(0===Ve.length||0===this.length)return 0;if(0>$e)throw new RangeError('targetStart out of bounds');if(0>Ze||Ze>=this.length)throw new RangeError('sourceStart out of bounds');if(0>We)throw new RangeError('sourceEnd out of bounds');We>this.length&&(We=this.length),Ve.length-$e<We-Ze&&(We=Ve.length-$e+Ze);var Je=We-Ze,Ke;if(this===Ve&&Ze<$e&&$e<We)for(Ke=Je-1;0<=Ke;--Ke)Ve[Ke+$e]=this[Ke+Ze];else if(1e3>Je||!O.TYPED_ARRAY_SUPPORT)for(Ke=0;Ke<Je;++Ke)Ve[Ke+$e]=this[Ke+Ze];else Uint8Array.prototype.set.call(Ve,this.subarray(Ze,Ze+Je),$e);return Je},O.prototype.fill=function(Ve,$e,Ze,We){if('string'==typeof Ve){if('string'==typeof $e?(We=$e,$e=0,Ze=this.length):'string'==typeof Ze&&(We=Ze,Ze=this.length),1===Ve.length){var Je=Ve.charCodeAt(0);256>Je&&(Ve=Je)}if(void 0!==We&&'string'!=typeof We)throw new TypeError('encoding must be a string');if('string'==typeof We&&!O.isEncoding(We))throw new TypeError('Unknown encoding: '+We)}else'number'==typeof Ve&&(Ve&=255);if(0>$e||this.length<$e||this.length<Ze)throw new RangeError('Out of range index');if(Ze<=$e)return this;$e>>>=0,Ze=Ze===void 0?this.length:Ze>>>0,Ve||(Ve=0);var Ke;if('number'==typeof Ve)for(Ke=$e;Ke<Ze;++Ke)this[Ke]=Ve;else{var Qe=O.isBuffer(Ve)?Ve:Fe(new O(Ve,We).toString()),Ge=Qe.length;for(Ke=0;Ke<Ze-$e;++Ke)this[Ke+$e]=Qe[Ke%Ge]}return this};var Be=/[^+\/0-9A-Za-z-_]/g}).call(E,I(60))},function(D){'use strict';var R=Object.prototype.hasOwnProperty,P=Object.prototype.toString,F=function($){return'function'==typeof Array.isArray?Array.isArray($):'[object Array]'===P.call($)},T=function($){if(!$||'[object Object]'!==P.call($))return!1;var Z=R.call($,'constructor'),W=$.constructor&&$.constructor.prototype&&R.call($.constructor.prototype,'isPrototypeOf');if($.constructor&&!Z&&!W)return!1;for(var K in $);return'undefined'==typeof K||R.call($,K)};D.exports=function O(){var ee=arguments[0],te=1,ne=arguments.length,oe=!1,$,Z,W,K,Q,G;for('boolean'==typeof ee?(oe=ee,ee=arguments[1]||{},te=2):('object'!=typeof ee&&'function'!=typeof ee||null==ee)&&(ee={});te<ne;++te)if($=arguments[te],null!=$)for(Z in $)W=ee[Z],K=$[Z],ee!==K&&(oe&&K&&(T(K)||(Q=F(K)))?(Q?(Q=!1,G=W&&F(W)?W:[]):G=W&&T(W)?W:{},ee[Z]=O(oe,G,K)):'undefined'!=typeof K&&(ee[Z]=K));return ee}},function(D,E,I){'use strict';function R(){function K(fe){for(var ye=fe.length,xe=Array(ye),be=0;be<ye;be++)xe[be]=parseFloat(fe[be]);return xe}function Q(){}function ee(fe){return fe.toLowerCase().replace(/[^a-z0-9]/g,'')}function te(fe){return-1!==ge.indexOf(fe)}function ne(fe){var ye=fe.spectra,xe=ye.length,be={times:Array(xe),series:[{name:'ms',dimension:2,data:Array(xe)}]},_e,ke=[];for(_e=0;_e<ge.length;_e++){var we=ee(ge[_e]);ye[0][we]&&(ke.push(we),be.series.push({name:we,dimension:1,data:Array(xe)}))}for(_e=0;_e<xe;_e++){var Ce=ye[_e];be.times[_e]=Ce.pageValue;for(var je=0;je<ke.length;je++)be.series[je+1].data[_e]=parseFloat(Ce[ke[je]]);Ce.data&&(be.series[0].data[_e]=[Ce.data[0].x,Ce.data[0].y])}fe.gcms=be}function oe(fe){var ye=fe.spectra,xe=[],be;for(be=0;be<ge.length;be++){var _e=ee(ge[be]);ye[0][_e]&&xe.push(_e)}if(0!==xe.length){var ke={gc:{},ms:[]};for(be=0;be<xe.length;be++)ke.gc[xe[be]]=[];for(be=0;be<ye.length;be++){for(var we=ye[be],Ce=0;Ce<xe.length;Ce++)ke.gc[xe[Ce]].push(we.pageValue),ke.gc[xe[Ce]].push(parseFloat(we[xe[Ce]]));we.data&&(ke.ms[be]=we.data[0])}fe.gcms=ke}}function se(fe,ye){if(ye.xFactor||(ye.xFactor=1),ye.yFactor||(ye.yFactor=1),ye.observeFrequency&&ye.xUnit&&'HZ'===ye.xUnit.toUpperCase()&&(ye.xUnit='PPM',ye.xFactor/=ye.observeFrequency,ye.firstX/=ye.observeFrequency,ye.lastX/=ye.observeFrequency,ye.deltaX/=ye.observeFrequency),fe.shiftOffsetVal){var xe=ye.firstX-fe.shiftOffsetVal;ye.firstX-=xe,ye.lastX-=xe}}function le(fe){fe=fe.sort(ae);var ye=fe.length;return fe[_Mathfloor(ye/2)]}function ae(fe,ye){return fe-ye}function de(fe){for(var ye=fe[0].data[0][0],xe=ye,be=fe.length,_e=fe[0].data[0].length/2,ke=Array(be),we=0;we<be;we++){ke[we]=Array(_e);for(var Ce=fe[we].data[0],je=0,ve;je<_e;je++)ve=Ce[2*je+1],ke[we][je]=ve,ve<ye&&(ye=ve),ve>xe&&(xe=ve)}return{z:ke,minX:fe[0].data[0][0],maxX:fe[0].data[0][fe[0].data[0].length-2],minY:fe[0].pageValue,maxY:fe[be-1].pageValue,minZ:ye,maxZ:xe,noise:le(ke[0].map(Math.abs))}}function ue(fe,ye){var xe=de(fe.spectra);ye.noContour||(fe.contourLines=pe(xe,ye),delete xe.z),fe.minMax=xe}function pe(fe,ye){for(var xe=fe.noise,be=fe.z,_e=ye.nbContourLevels||7,ke=void 0===ye.noiseMultiplier?5:ye.noiseMultiplier,Ae=be.length,He=be[0].length,ze=fe.minX,Oe=fe.maxX,Me=(Oe-ze)/(He-1),Xe=fe.minY,Ne=fe.maxY,Ye=(Ne-Xe)/(Ae-1),Le=fe.minZ,Ue=fe.maxZ,Be=2*_e,qe=Array(Be),$e=0,we,Ce,je,ve,Se,De,Ee,Ie,Re,Pe,Fe,Te,Ve,Ze;$e<Be;$e++){Ze={},qe[$e]=Ze;var We=$e%2,Je=(Ue-ke*xe)*_Mathexp(($e>>1)-_e);Ve=0==We?Je+ke*xe:0-Je-ke*xe;var Ke=[];if(Ze.zValue=Ve,Ze.lines=Ke,!(Ve<=Le||Ve>=Ue))for(var Qe=0;Qe<Ae-1;Qe++)for(var Ge=be[Qe],et=be[Qe+1],tt=0;tt<He-1;tt++)we=Ge[tt],Ce=Ge[tt+1],je=et[tt],ve=et[tt+1],Se=we>Ve,De=Ce>Ve,Ee=je>Ve,Ie=ve>Ve,Se!==De&&Se!==Ee&&(Re=tt+(Ve-we)/(Ce-we),Pe=Qe,Fe=tt,Te=Qe+(Ve-we)/(je-we),Ke.push(Re*Me+ze),Ke.push(Pe*Ye+Xe),Ke.push(Fe*Me+ze),Ke.push(Te*Ye+Xe)),Ie!==De&&Ie!==Ee&&(Re=tt+1,Pe=Qe+1-(Ve-ve)/(Ce-ve),Fe=tt+1-(Ve-ve)/(je-ve),Te=Qe+1,Ke.push(Re*Me+ze),Ke.push(Pe*Ye+Xe),Ke.push(Fe*Me+ze),Ke.push(Te*Ye+Xe)),De!==Ee&&(Re=(tt+1-(Ve-Ce)/(je-Ce))*Me+ze,Pe=(Qe+(Ve-Ce)/(je-Ce))*Ye+Xe,De!==Se&&(Fe=tt+1-(Ve-Ce)/(we-Ce),Te=Qe,Ke.push(Re),Ke.push(Pe),Ke.push(Fe*Me+ze),Ke.push(Te*Ye+Xe)),Ee!==Se&&(Fe=tt,Te=Qe+1-(Ve-je)/(we-je),Ke.push(Re),Ke.push(Pe),Ke.push(Fe*Me+ze),Ke.push(Te*Ye+Xe)),De!==Ie&&(Fe=tt+1,Te=Qe+(Ve-Ce)/(ve-Ce),Ke.push(Re),Ke.push(Pe),Ke.push(Fe*Me+ze),Ke.push(Te*Ye+Xe)),Ee!==Ie&&(Fe=tt+(Ve-je)/(ve-je),Te=Qe+1,Ke.push(Re),Ke.push(Pe),Ke.push(Fe*Me+ze),Ke.push(Te*Ye+Xe)))}return{minX:fe.minX,maxX:fe.maxX,minY:fe.minY,maxY:fe.maxY,segments:qe}}function ce(fe,ye){var xe=fe.yFactor,be=fe.deltaX;fe.isXYdata=!0;var _e=[];fe.data=[_e];for(var ke=fe.firstX,we=fe.firstY,Ce=!1,je=0,ve;je<ye.length;je++)if(ve=ye.charCodeAt(je),13===ve||10===ve)Ce=!0;else if(Ce)break;for(var Se=!0,De=!1,Ee=!1,Ie=0,Ae=!1,He=!1,Re=0,Pe=!1,Fe=!1,Te=!1,ze=0,ve;je<=ye.length;je++)if(ve=je===ye.length?13:ye.charCodeAt(je),He)(13===ve||10===ve)&&(Se=!0,He=!1);else if(57>=ve&&48<=ve)Fe=!0,0<ze?Re+=(ve-48)/_Mathpow(10,ze++):(Re*=10,Re+=ve-48);else if(44===ve||46===ve)Fe=!0,ze++;else{if(Fe){if(Se)Se=!1,Ee&&(Te=!0);else if(Te)Te=!1;else{De&&(Ie=Pe?0-Re:Re,Ee=!0,De=!1);for(var Oe=Ae?Re-1:1,Me=0;Me<Oe;Me++)Ee?we+=Ie:we=Pe?0-Re:Re,_e.push(ke),_e.push(we*xe),ke+=be}Pe=!1,Re=0,ze=0,Fe=!1,Ae=!1}if(74>ve&&63<ve)Fe=!0,Ee=!1,Re=ve-64;else if(96<ve&&106>ve)Fe=!0,Ee=!1,Re=ve-96,Pe=!0;else if(115===ve)Fe=!0,Ae=!0,Re=9;else if(82<ve&&91>ve)Fe=!0,Ae=!0,Re=ve-82;else if(73<ve&&83>ve)Fe=!0,De=!0,Re=ve-73;else if(105<ve&&115>ve)Fe=!0,De=!0,Re=ve-105,Pe=!0;else if(36===ve&&36===ye.charCodeAt(je+1))Fe=!0,He=!0;else if(37===ve)Fe=!0,De=!0,Re=0,Pe=!1;else if(45===ve){var Xe=ye.charCodeAt(je+1);(48<=Xe&&57>=Xe||44===Xe||46===Xe)&&(Fe=!0,Ee=!1,Pe=!0)}else(13===ve||10===ve)&&(Se=!0,He=!1)}}function he(fe,ye,xe){var be=/\$\$.*/,_e=/[,\t ]+/;fe.isPeaktable=!0;var ke,we,Ce,je,ve,Se=[];fe.data=[Se];var De=ye.split(/,? *,?[;\r\n]+ */);for(ke=1,we=De.length;ke<we;ke++)if(ve=De[ke].trim().replace(be,'').split(_e),0==ve.length%2)for(Ce=0,je=ve.length;Ce<je;Ce+=2)Se.push(parseFloat(ve[Ce])*fe.xFactor),Se.push(parseFloat(ve[Ce+1])*fe.yFactor);else xe.logs.push('Format error: '+ve)}var me=/[, \t]{1,}/,ge=['TIC','.RIC','SCANNUMBER'];return function(fe,ye){ye=ye||{};var xe=/^$/;ye.keepRecordsRegExp&&(xe=ye.keepRecordsRegExp);var be=!ye.withoutXY,_e=Date.now(),ke={},He={},we,Ce,je,ve,Se,De,Ee,Ie,Ae;He.profiling=[],He.logs=[];var Re=[];He.spectra=Re,He.info={};var Pe=new Q;if('string'!=typeof fe)return He;for(He.profiling&&He.profiling.push({action:'Before split to LDRS',time:Date.now()-_e}),ve=fe.split(/[\r\n]+##/),He.profiling&&He.profiling.push({action:'Split to LDRS',time:Date.now()-_e}),ve[0]&&(ve[0]=ve[0].replace(/^[\r\n ]*##/,'')),(Se=0,De=ve.length);Se<De;Se++){if(we=ve[Se],Ee=we.indexOf('='),0<Ee?(Ce=we.substring(0,Ee),je=we.substring(Ee+1).trim()):(Ce=we,je=''),Ce=Ce.replace(/[_ -]/g,'').toUpperCase(),'DATATABLE'===Ce&&(Ie=je.indexOf('\n'),-1===Ie&&(Ie=je.indexOf('\r')),0<Ie)){var Fe=-1,Te=-1;if(Ae=je.substring(0,Ie).split(/[ ,;\t]+/),0<Ae[0].indexOf('++')){var ze=Ae[0].replace(/.*\(([a-zA-Z0-9]+)\+\+.*/,'$1'),Oe=Ae[0].replace(/.*\.\.([a-zA-Z0-9]+).*/,'$1');Fe=ke.symbol.indexOf(ze),Te=ke.symbol.indexOf(Oe)}-1===Fe&&(Fe=0),-1===Te&&(Te=0),ke.first&&(ke.first.length>Fe&&(Pe.firstX=ke.first[Fe]),ke.first.length>Te&&(Pe.firstY=ke.first[Te])),ke.last&&(ke.last.length>Fe&&(Pe.lastX=ke.last[Fe]),ke.last.length>Te&&(Pe.lastY=ke.last[Te])),ke.vardim&&ke.vardim.length>Fe&&(Pe.nbPoints=ke.vardim[Fe]),ke.factor&&(ke.factor.length>Fe&&(Pe.xFactor=ke.factor[Fe]),ke.factor.length>Te&&(Pe.yFactor=ke.factor[Te])),ke.units&&(ke.units.length>Fe&&(Pe.xUnit=ke.units[Fe]),ke.units.length>Te&&(Pe.yUnit=ke.units[Te])),Pe.datatable=Ae[0],Ae[1]&&-1<Ae[1].indexOf('PEAKS')?Ce='PEAKTABLE':Ae[1]&&(Ae[1].indexOf('XYDATA')||0<Ae[0].indexOf('++'))&&(Ce='XYDATA',Pe.deltaX=(Pe.lastX-Pe.firstX)/(Pe.nbPoints-1))}if('XYDATA'===Ce){be&&(se(He,Pe),je.match(/.*\+\+.*/)?!1===ye.fastParse?O(Pe,je,He):(!Pe.deltaX&&(Pe.deltaX=(Pe.lastX-Pe.firstX)/(Pe.nbPoints-1)),ce(Pe,je,He)):he(Pe,je,He),Re.push(Pe),Pe=new Q);continue}else if('PEAKTABLE'===Ce){be&&(se(He,Pe),he(Pe,je,He),Re.push(Pe),Pe=new Q);continue}if('TITLE'===Ce)Pe.title=je;else if('DATATYPE'===Ce)Pe.dataType=je,-1<je.indexOf('nD')&&(He.twoD=!0);else if('NTUPLES'===Ce)-1<je.indexOf('nD')&&(He.twoD=!0);else if('XUNITS'===Ce)Pe.xUnit=je;else if('YUNITS'===Ce)Pe.yUnit=je;else if('FIRSTX'===Ce)Pe.firstX=parseFloat(je);else if('LASTX'===Ce)Pe.lastX=parseFloat(je);else if('FIRSTY'===Ce)Pe.firstY=parseFloat(je);else if('LASTY'===Ce)Pe.lastY=parseFloat(je);else if('NPOINTS'===Ce)Pe.nbPoints=parseFloat(je);else if('XFACTOR'===Ce)Pe.xFactor=parseFloat(je);else if('YFACTOR'===Ce)Pe.yFactor=parseFloat(je);else if('DELTAX'===Ce)Pe.deltaX=parseFloat(je);else if('.OBSERVEFREQUENCY'===Ce||'$SFO1'===Ce)Pe.observeFrequency||(Pe.observeFrequency=parseFloat(je));else if('.OBSERVENUCLEUS'===Ce)Pe.xType||(He.xType=je.replace(/[^a-zA-Z0-9]/g,''));else if('$SFO2'===Ce)He.indirectFrequency||(He.indirectFrequency=parseFloat(je));else if('$OFFSET'===Ce)He.shiftOffsetNum=0,He.shiftOffsetVal||(He.shiftOffsetVal=parseFloat(je));else if('$REFERENCEPOINT'===Ce);else if('VARNAME'===Ce)ke.varname=je.split(me);else if('SYMBOL'===Ce)ke.symbol=je.split(me);else if('VARTYPE'===Ce)ke.vartype=je.split(me);else if('VARFORM'===Ce)ke.varform=je.split(me);else if('VARDIM'===Ce)ke.vardim=K(je.split(me));else if('UNITS'===Ce)ke.units=je.split(me);else if('FACTOR'===Ce)ke.factor=K(je.split(me));else if('FIRST'===Ce)ke.first=K(je.split(me));else if('LAST'===Ce)ke.last=K(je.split(me));else if('MIN'===Ce)ke.min=K(je.split(me));else if('MAX'===Ce)ke.max=K(je.split(me));else if('.NUCLEUS'===Ce)He.twoD&&(He.yType=je.split(me)[0]);else if('PAGE'===Ce){Pe.page=je.trim(),Pe.pageValue=parseFloat(je.replace(/^.*=/,'')),Pe.pageSymbol=Pe.page.replace(/=.*/,'');var Me=ke.symbol.indexOf(Pe.pageSymbol),Xe='';ke.units&&ke.units[Me]&&(Xe=ke.units[Me]),He.indirectFrequency&&'PPM'!==Xe&&(Pe.pageValue/=He.indirectFrequency)}else'RETENTIONTIME'===Ce?Pe.pageValue=parseFloat(je):te(Ce)&&(Pe[ee(Ce)]=je);Ce.match(xe)&&(He.info[Ce]=je.trim())}if(He.profiling&&He.profiling.push({action:'Finished parsing',time:Date.now()-_e}),0<Object.keys(ke).length){for(var Ne=[],Ye=Object.keys(ke),Se=0;Se<Ye.length;Se++)for(var Le=Ye[Se],Ue=ke[Le],Be=0;Be<Ue.length;Be++)Ne[Be]||(Ne[Be]={}),Ne[Be][Le]=Ue[Be];He.ntuples=Ne}He.twoD&&be&&(ue(He,ye),He.profiling&&He.profiling.push({action:'Finished countour plot calculation',time:Date.now()-_e}),!ye.keepSpectra&&delete He.spectra);var qe=1<Re.length&&(!Re[0].dataType||Re[0].dataType.match(/.*mass.*/i));if(qe&&ye.newGCMS&&(ye.xy=!0),ye.xy&&be&&0<Re.length)for(var Se=0,Pe;Se<Re.length;Se++)if(Pe=Re[Se],0<Pe.data.length)for(var Be=0;Be<Pe.data.length;Be++){for(var Ve=Pe.data[Be],$e={x:Array(Ve.length/2),y:Array(Ve.length/2)},Ze=0;Ze<Ve.length;Ze+=2)$e.x[Ze/2]=Ve[Ze],$e.y[Ze/2]=Ve[Ze+1];Pe.data[Be]=$e}return qe&&be&&(ye.newGCMS?ne(He):oe(He),He.profiling&&He.profiling.push({action:'Finished GCMS calculation',time:Date.now()-_e})),He.profiling&&He.profiling.push({action:'Total time',time:Date.now()-_e}),He}}function F(K,Q){return W||T(),new Promise(function(G){var ee=Date.now()+''+Math.random();Z[ee]=G,W.postMessage(JSON.stringify({stamp:ee,input:K,options:Q}))})}function T(){var K=URL.createObjectURL(new Blob(['var getConverter ='+R.toString()+';var convert = getConverter(); onmessage = function (event) { var data = JSON.parse(event.data); postMessage(JSON.stringify({stamp: data.stamp, output: convert(data.input, data.options)})); };'],{type:'application/javascript'}));W=new Worker(K),URL.revokeObjectURL(K),W.addEventListener('message',function(Q){var G=JSON.parse(Q.data),ee=G.stamp;Z[ee]&&Z[ee](G.output)})}var O=I(85),$=R(),Z={},W;D.exports={convert:function(K,Q,G){return'boolean'==typeof Q&&(G=Q,Q={}),G?F(K,Q):$(K,Q)}}},function(D,E,I){'use strict';function R(F){if(F){this.data=F,this.length=this.data.length,this.index=0,this.zero=0;for(var T=0;T<this.data.length;T++)F[T]&=255}}var P=I(33);R.prototype=new P,R.prototype.byteAt=function(F){return this.data[this.zero+F]},R.prototype.lastIndexOfSignature=function(F){for(var T=F.charCodeAt(0),O=F.charCodeAt(1),$=F.charCodeAt(2),Z=F.charCodeAt(3),W=this.length-4;0<=W;--W)if(this.data[W]===T&&this.data[W+1]===O&&this.data[W+2]===$&&this.data[W+3]===Z)return W-this.zero;return-1},R.prototype.readData=function(F){if(this.checkOffset(F),0===F)return[];var T=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,T},D.exports=R},function(D){'use strict';function R(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}R.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},D.exports=R},function(D,E,I){'use strict';function R(){this.data=null,this.length=0,this.index=0,this.zero=0}var P=I(0);R.prototype={checkOffset:function(F){this.checkIndex(this.index+F)},checkIndex:function(F){if(this.length<this.zero+F||0>F)throw new Error('End of data reached (data length = '+this.length+', asked index = '+F+'). Corrupted zip ?')},setIndex:function(F){this.checkIndex(F),this.index=F},skip:function(F){this.setIndex(this.index+F)},byteAt:function(){},readInt:function(F){var T=0,O;for(this.checkOffset(F),O=this.index+F-1;O>=this.index;O--)T=(T<<8)+this.byteAt(O);return this.index+=F,T},readString:function(F){return P.transformTo('string',this.readData(F))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var F=this.readInt(4);return new Date((127&F>>25)+1980,(15&F>>21)-1,31&F>>16,31&F>>11,63&F>>5,(31&F)<<1)}},D.exports=R},function(D,E){'use strict';E.base64=!1,E.binary=!1,E.dir=!1,E.createFolders=!1,E.date=null,E.compression=null,E.compressionOptions=null,E.comment=null,E.unixPermissions=null,E.dosPermissions=null},function(D,E){'use strict';E.LOCAL_FILE_HEADER='PK\x03\x04',E.CENTRAL_FILE_HEADER='PK\x01\x02',E.CENTRAL_DIRECTORY_END='PK\x05\x06',E.ZIP64_CENTRAL_DIRECTORY_LOCATOR='PK\x06\x07',E.ZIP64_CENTRAL_DIRECTORY_END='PK\x06\x06',E.DATA_DESCRIPTOR='PK\x07\b'},function(D,E,I){'use strict';function R(T,O){this.data=T,O||(this.data=F.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var P=I(33),F=I(0);R.prototype=new P,R.prototype.byteAt=function(T){return this.data.charCodeAt(this.zero+T)},R.prototype.lastIndexOfSignature=function(T){return this.data.lastIndexOf(T)-this.zero},R.prototype.readData=function(T){this.checkOffset(T);var O=this.data.slice(this.zero+this.index,this.zero+this.index+T);return this.index+=T,O},D.exports=R},function(D,E,I){'use strict';function R(F){F&&(this.data=F,this.length=this.data.length,this.index=0,this.zero=0)}var P=I(31);R.prototype=new P,R.prototype.readData=function(F){if(this.checkOffset(F),0===F)return new Uint8Array(0);var T=this.data.subarray(this.zero+this.index,this.zero+this.index+F);return this.index+=F,T},D.exports=R},function(D,E,I){'use strict';for(var R=I(0),P=I(5),F=I(12),T=Array(256),O=0;256>O;O++)T[O]=252<=O?6:248<=O?5:240<=O?4:224<=O?3:192<=O?2:1;T[254]=T[254]=1;var $=function(K){var oe=K.length,se=0,Q,G,ee,te,ne;for(te=0;te<oe;te++)G=K.charCodeAt(te),55296==(64512&G)&&te+1<oe&&(ee=K.charCodeAt(te+1),56320==(64512&ee)&&(G=65536+(G-55296<<10)+(ee-56320),te++)),se+=128>G?1:2048>G?2:65536>G?3:4;for(Q=P.uint8array?new Uint8Array(se):Array(se),ne=0,te=0;ne<se;te++)G=K.charCodeAt(te),55296==(64512&G)&&te+1<oe&&(ee=K.charCodeAt(te+1),56320==(64512&ee)&&(G=65536+(G-55296<<10)+(ee-56320),te++)),128>G?Q[ne++]=G:2048>G?(Q[ne++]=192|G>>>6,Q[ne++]=128|63&G):65536>G?(Q[ne++]=224|G>>>12,Q[ne++]=128|63&G>>>6,Q[ne++]=128|63&G):(Q[ne++]=240|G>>>18,Q[ne++]=128|63&G>>>12,Q[ne++]=128|63&G>>>6,Q[ne++]=128|63&G);return Q},Z=function(K,Q){var G;for(Q=Q||K.length,Q>K.length&&(Q=K.length),G=Q-1;0<=G&&128==(192&K[G]);)G--;return 0>G?Q:0===G?Q:G+T[K[G]]>Q?G:Q},W=function(K){var oe=K.length,se=Array(2*oe),G,ee,te,ne;for(ee=0,G=0;G<oe;){if(te=K[G++],128>te){se[ee++]=te;continue}if(ne=T[te],4<ne){se[ee++]=65533,G+=ne-1;continue}for(te&=2===ne?31:3===ne?15:7;1<ne&&G<oe;)te=te<<6|63&K[G++],ne--;if(1<ne){se[ee++]=65533;continue}65536>te?se[ee++]=te:(te-=65536,se[ee++]=55296|1023&te>>10,se[ee++]=56320|1023&te)}return se.length!==ee&&(se.subarray?se=se.subarray(0,ee):se.length=ee),R.applyFromCharCode(se)};E.utf8encode=function(Q){return P.nodebuffer?F(Q,'utf-8'):$(Q)},E.utf8decode=function(Q){if(P.nodebuffer)return R.transformTo('nodebuffer',Q).toString('utf-8');Q=R.transformTo(P.uint8array?'uint8array':'array',Q);for(var G=[],ee=0,te=Q.length,oe;ee<te;)oe=Z(Q,_Mathmin(ee+65536,te)),P.uint8array?G.push(W(Q.subarray(ee,oe))):G.push(W(Q.slice(ee,oe))),ee=oe;return G.join('')}},function(D,E,I){D.exports=E=I(96),E.getEquallySpacedData=I(97).getEquallySpacedData,E.SNV=I(98).SNV},function(D){'use strict';function R(F,T){for(var O=0,$=0;$<F.length;$++)O+=(F[$]-T[$])*(F[$]-T[$]);return O}function P(F,T){return _Mathsqrt(R(F,T))}D.exports=P,P.squared=R},function(D,E){(function(){var P=0?{}:E;var F={release:'0.3.0',date:'2013-03'};P.toString=function(){return'version '+F.release+', released '+F.date};for(var T=0,O=null,$=null,Z={init:function(Q){if(0!==Q&&0==(Q&Q-1))T=Q,Z._initArray(),Z._makeBitReversalTable(),Z._makeCosSinTable();else throw new Error('init: radix-2 required')},fft1d:function(Q,G){Z.fft(Q,G,1)},ifft1d:function(Q,G){var ee=1/T;Z.fft(Q,G,-1);for(var te=0;te<T;te++)Q[te]*=ee,G[te]*=ee},bt1d:function(Q,G){Z.fft(Q,G,-1)},fft2d:function(Q,G){for(var ee=[],te=[],ne=0,oe=0;oe<T;oe++){ne=oe*T;for(var se=0;se<T;se++)ee[se]=Q[se+ne],te[se]=G[se+ne];Z.fft1d(ee,te);for(var le=0;le<T;le++)Q[le+ne]=ee[le],G[le+ne]=te[le]}for(var ae=0;ae<T;ae++){for(var de=0;de<T;de++)ne=ae+de*T,ee[de]=Q[ne],te[de]=G[ne];Z.fft1d(ee,te);for(var ue=0;ue<T;ue++)ne=ae+ue*T,Q[ne]=ee[ue],G[ne]=te[ue]}},ifft2d:function(Q,G){for(var ee=[],te=[],ne=0,oe=0;oe<T;oe++){ne=oe*T;for(var se=0;se<T;se++)ee[se]=Q[se+ne],te[se]=G[se+ne];Z.ifft1d(ee,te);for(var le=0;le<T;le++)Q[le+ne]=ee[le],G[le+ne]=te[le]}for(var ae=0;ae<T;ae++){for(var de=0;de<T;de++)ne=ae+de*T,ee[de]=Q[ne],te[de]=G[ne];Z.ifft1d(ee,te);for(var ue=0;ue<T;ue++)ne=ae+ue*T,Q[ne]=ee[ue],G[ne]=te[ue]}},fft:function(Q,G,ee){for(var ce=T>>2,he=0,te,ne,oe,se,le,ae,de,ue,pe;he<T;he++)se=O[he],he<se&&(le=Q[he],Q[he]=Q[se],Q[se]=le,le=G[he],G[he]=G[se],G[se]=le);for(var me=1;me<T;me<<=1){ne=0,te=T/(me<<1);for(var ge=0;ge<me;ge++){ae=$[ne+ce],de=ee*$[ne];for(var fe=ge;fe<T;fe+=me<<1)oe=fe+me,ue=ae*Q[oe]+de*G[oe],pe=ae*G[oe]-de*Q[oe],Q[oe]=Q[fe]-ue,Q[fe]+=ue,G[oe]=G[fe]-pe,G[fe]+=pe;ne+=te}}},_initArray:function(){O='undefined'==typeof Uint32Array?[]:new Uint32Array(T),$='undefined'==typeof Float64Array?[]:new Float64Array(1.25*T)},_paddingZero:function(){},_makeBitReversalTable:function(){var Q=0,G=0,ee=0;for(O[0]=0;++Q<T;){for(ee=T>>1;ee<=G;)G-=ee,ee>>=1;G+=ee,O[Q]=G}},_makeCosSinTable:function(){var Q=T>>1,G=T>>2,ee=T>>3,ne=_Mathsin(_MathPI/T),oe=2*ne*ne,se=_Mathsqrt(oe*(2-oe)),le=$[G]=1,ae=$[0]=0;ne=2*oe;for(var de=1;de<ee;de++)le-=oe,oe+=ne*le,ae+=se,se-=ne*ae,$[de]=ae,$[G-de]=le;0!=ee&&($[ee]=0.7071067811865476);for(var ue=0;ue<G;ue++)$[Q-ue]=$[ue];for(var pe=0;pe<Q+G;pe++)$[pe+Q]=-$[pe]}},W=['init','fft1d','ifft1d','fft2d','ifft2d'],K=0;K<W.length;K++)P[W[K]]=Z[W[K]];return P.bt=Z.bt1d,P.fft=Z.fft1d,P.ifft=Z.ifft1d,P}).call(this)},function(D,E,I){'use strict';E.FFTUtils=I(101),E.FFT=I(41)},function(D,E,I){'use strict';function R(T){P.call(this),this.index=T,this.distance=0,this.children=[]}const P=I(14),F=I(157);F.inherits(R,P),D.exports=R},function(D,E){(function(){var P=0?{}:E;var F={release:'0.3.0',date:'2013-03'};P.toString=function(){return'version '+F.release+', released '+F.date};for(var T=0,O=null,$=null,Z={init:function(Q){if(0!==Q&&0==(Q&Q-1))T=Q,Z._initArray(),Z._makeBitReversalTable(),Z._makeCosSinTable();else throw new Error('init: radix-2 required')},fft1d:function(Q,G){Z.fft(Q,G,1)},ifft1d:function(Q,G){var ee=1/T;Z.fft(Q,G,-1);for(var te=0;te<T;te++)Q[te]*=ee,G[te]*=ee},bt1d:function(Q,G){Z.fft(Q,G,-1)},fft2d:function(Q,G){for(var ee=[],te=[],ne=0,oe=0;oe<T;oe++){ne=oe*T;for(var se=0;se<T;se++)ee[se]=Q[se+ne],te[se]=G[se+ne];Z.fft1d(ee,te);for(var le=0;le<T;le++)Q[le+ne]=ee[le],G[le+ne]=te[le]}for(var ae=0;ae<T;ae++){for(var de=0;de<T;de++)ne=ae+de*T,ee[de]=Q[ne],te[de]=G[ne];Z.fft1d(ee,te);for(var ue=0;ue<T;ue++)ne=ae+ue*T,Q[ne]=ee[ue],G[ne]=te[ue]}},ifft2d:function(Q,G){for(var ee=[],te=[],ne=0,oe=0;oe<T;oe++){ne=oe*T;for(var se=0;se<T;se++)ee[se]=Q[se+ne],te[se]=G[se+ne];Z.ifft1d(ee,te);for(var le=0;le<T;le++)Q[le+ne]=ee[le],G[le+ne]=te[le]}for(var ae=0;ae<T;ae++){for(var de=0;de<T;de++)ne=ae+de*T,ee[de]=Q[ne],te[de]=G[ne];Z.ifft1d(ee,te);for(var ue=0;ue<T;ue++)ne=ae+ue*T,Q[ne]=ee[ue],G[ne]=te[ue]}},fft:function(Q,G,ee){for(var ce=T>>2,he=0,te,ne,oe,se,le,ae,de,ue,pe;he<T;he++)se=O[he],he<se&&(le=Q[he],Q[he]=Q[se],Q[se]=le,le=G[he],G[he]=G[se],G[se]=le);for(var me=1;me<T;me<<=1){ne=0,te=T/(me<<1);for(var ge=0;ge<me;ge++){ae=$[ne+ce],de=ee*$[ne];for(var fe=ge;fe<T;fe+=me<<1)oe=fe+me,ue=ae*Q[oe]+de*G[oe],pe=ae*G[oe]-de*Q[oe],Q[oe]=Q[fe]-ue,Q[fe]+=ue,G[oe]=G[fe]-pe,G[fe]+=pe;ne+=te}}},_initArray:function(){O='undefined'==typeof Uint32Array?[]:new Uint32Array(T),$='undefined'==typeof Float64Array?[]:new Float64Array(1.25*T)},_paddingZero:function(){},_makeBitReversalTable:function(){var Q=0,G=0,ee=0;for(O[0]=0;++Q<T;){for(ee=T>>1;ee<=G;)G-=ee,ee>>=1;G+=ee,O[Q]=G}},_makeCosSinTable:function(){var Q=T>>1,G=T>>2,ee=T>>3,ne=_Mathsin(_MathPI/T),oe=2*ne*ne,se=_Mathsqrt(oe*(2-oe)),le=$[G]=1,ae=$[0]=0;ne=2*oe;for(var de=1;de<ee;de++)le-=oe,oe+=ne*le,ae+=se,se-=ne*ae,$[de]=ae,$[G-de]=le;0!=ee&&($[ee]=0.7071067811865476);for(var ue=0;ue<G;ue++)$[Q-ue]=$[ue];for(var pe=0;pe<Q+G;pe++)$[pe+Q]=-$[pe]}},W=['init','fft1d','ifft1d','fft2d','ifft2d'],K=0;K<W.length;K++)P[W[K]]=Z[W[K]];return P.bt=Z.bt1d,P.fft=Z.fft1d,P.ifft=Z.ifft1d,P}).call(this)},function(module,exports,__webpack_require__){'use strict';function abstractMatrix(superCtor){function checkDimensions(D,E){if(D.rows!==E.rows||D.columns!==E.columns)throw new RangeError('Matrices dimensions must be equal')}function compareNumbers(D,E){return D-E}function fillTemplateFunction(D,E){for(var I in E)D=D.replace(new RegExp('%'+I+'%','g'),E[I]);return D}superCtor===void 0&&(superCtor=Object);class Matrix extends superCtor{static get[Symbol.species](){return this}static from1DArray(D,E,I){if(D*E!==I.length)throw new RangeError('Data length does not match given dimensions');for(var P=new this(D,E),F=0;F<D;F++)for(var T=0;T<E;T++)P.set(F,T,I[F*E+T]);return P}static rowVector(D){for(var E=new this(1,D.length),I=0;I<D.length;I++)E.set(0,I,D[I]);return E}static columnVector(D){for(var E=new this(D.length,1),I=0;I<D.length;I++)E.set(I,0,D[I]);return E}static empty(D,E){return new this(D,E)}static zeros(D,E){return this.empty(D,E).fill(0)}static ones(D,E){return this.empty(D,E).fill(1)}static rand(D,E,I){I===void 0&&(I=Math.random);for(var R=this.empty(D,E),P=0;P<D;P++)for(var F=0;F<E;F++)R.set(P,F,I());return R}static randInt(D,E,I,R){I===void 0&&(I=1e3),R===void 0&&(R=Math.random);for(var P=this.empty(D,E),F=0;F<D;F++)for(var T=0,O;T<E;T++)O=_Mathfloor(R()*I),P.set(F,T,O);return P}static eye(D,E,I){E===void 0&&(E=D),I===void 0&&(I=1);for(var R=_Mathmin(D,E),P=this.zeros(D,E),F=0;F<R;F++)P.set(F,F,I);return P}static diag(D,E,I){var R=D.length;E===void 0&&(E=R),I===void 0&&(I=E);for(var P=_Mathmin(R,E,I),F=this.zeros(E,I),T=0;T<P;T++)F.set(T,T,D[T]);return F}static min(D,E){D=this.checkMatrix(D),E=this.checkMatrix(E);for(var I=D.rows,R=D.columns,P=new this(I,R),F=0;F<I;F++)for(var T=0;T<R;T++)P.set(F,T,_Mathmin(D.get(F,T),E.get(F,T)));return P}static max(D,E){D=this.checkMatrix(D),E=this.checkMatrix(E);for(var I=D.rows,R=D.columns,P=new this(I,R),F=0;F<I;F++)for(var T=0;T<R;T++)P.set(F,T,_Mathmax(D.get(F,T),E.get(F,T)));return P}static checkMatrix(D){return Matrix.isMatrix(D)?D:new this(D)}static isMatrix(D){return null!=D&&'Matrix'===D.klass}get size(){return this.rows*this.columns}apply(D){if('function'!=typeof D)throw new TypeError('callback must be a function');for(var E=this.rows,I=this.columns,R=0;R<E;R++)for(var P=0;P<I;P++)D.call(this,R,P);return this}to1DArray(){for(var D=Array(this.size),E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)D[E*this.columns+I]=this.get(E,I);return D}to2DArray(){for(var D=Array(this.rows),E=0;E<this.rows;E++){D[E]=Array(this.columns);for(var I=0;I<this.columns;I++)D[E][I]=this.get(E,I)}return D}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(var D=0;D<this.rows;D++)for(var E=0;E<=D;E++)if(this.get(D,E)!==this.get(E,D))return!1;return!0}return!1}set(){throw new Error('set method is unimplemented')}get(){throw new Error('get method is unimplemented')}repeat(D,E){D=D||1,E=E||1;for(var I=new this.constructor[Symbol.species](this.rows*D,this.columns*E),R=0;R<D;R++)for(var P=0;P<E;P++)I.setSubMatrix(this,this.rows*R,this.columns*P);return I}fill(D){for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,D);return this}neg(){return this.mulS(-1)}getRow(D){util.checkRowIndex(this,D);for(var E=Array(this.columns),I=0;I<this.columns;I++)E[I]=this.get(D,I);return E}getRowVector(D){return this.constructor.rowVector(this.getRow(D))}setRow(D,E){util.checkRowIndex(this,D),E=util.checkRowVector(this,E);for(var I=0;I<this.columns;I++)this.set(D,I,E[I]);return this}swapRows(D,E){util.checkRowIndex(this,D),util.checkRowIndex(this,E);for(var I=0,R;I<this.columns;I++)R=this.get(D,I),this.set(D,I,this.get(E,I)),this.set(E,I,R);return this}getColumn(D){util.checkColumnIndex(this,D);for(var E=Array(this.rows),I=0;I<this.rows;I++)E[I]=this.get(I,D);return E}getColumnVector(D){return this.constructor.columnVector(this.getColumn(D))}setColumn(D,E){util.checkColumnIndex(this,D),E=util.checkColumnVector(this,E);for(var I=0;I<this.rows;I++)this.set(I,D,E[I]);return this}swapColumns(D,E){util.checkColumnIndex(this,D),util.checkColumnIndex(this,E);for(var I=0,R;I<this.rows;I++)R=this.get(I,D),this.set(I,D,this.get(I,E)),this.set(I,E,R);return this}addRowVector(D){D=util.checkRowVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)+D[I]);return this}subRowVector(D){D=util.checkRowVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)-D[I]);return this}mulRowVector(D){D=util.checkRowVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)*D[I]);return this}divRowVector(D){D=util.checkRowVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)/D[I]);return this}addColumnVector(D){D=util.checkColumnVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)+D[E]);return this}subColumnVector(D){D=util.checkColumnVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)-D[E]);return this}mulColumnVector(D){D=util.checkColumnVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)*D[E]);return this}divColumnVector(D){D=util.checkColumnVector(this,D);for(var E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.set(E,I,this.get(E,I)/D[E]);return this}mulRow(D,E){util.checkRowIndex(this,D);for(var I=0;I<this.columns;I++)this.set(D,I,this.get(D,I)*E);return this}mulColumn(D,E){util.checkColumnIndex(this,D);for(var I=0;I<this.rows;I++)this.set(I,D,this.get(I,D)*E);return this}max(){for(var D=this.get(0,0),E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.get(E,I)>D&&(D=this.get(E,I));return D}maxIndex(){for(var D=this.get(0,0),E=[0,0],I=0;I<this.rows;I++)for(var R=0;R<this.columns;R++)this.get(I,R)>D&&(D=this.get(I,R),E[0]=I,E[1]=R);return E}min(){for(var D=this.get(0,0),E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)this.get(E,I)<D&&(D=this.get(E,I));return D}minIndex(){for(var D=this.get(0,0),E=[0,0],I=0;I<this.rows;I++)for(var R=0;R<this.columns;R++)this.get(I,R)<D&&(D=this.get(I,R),E[0]=I,E[1]=R);return E}maxRow(D){util.checkRowIndex(this,D);for(var E=this.get(D,0),I=1;I<this.columns;I++)this.get(D,I)>E&&(E=this.get(D,I));return E}maxRowIndex(D){util.checkRowIndex(this,D);for(var E=this.get(D,0),I=[D,0],R=1;R<this.columns;R++)this.get(D,R)>E&&(E=this.get(D,R),I[1]=R);return I}minRow(D){util.checkRowIndex(this,D);for(var E=this.get(D,0),I=1;I<this.columns;I++)this.get(D,I)<E&&(E=this.get(D,I));return E}minRowIndex(D){util.checkRowIndex(this,D);for(var E=this.get(D,0),I=[D,0],R=1;R<this.columns;R++)this.get(D,R)<E&&(E=this.get(D,R),I[1]=R);return I}maxColumn(D){util.checkColumnIndex(this,D);for(var E=this.get(0,D),I=1;I<this.rows;I++)this.get(I,D)>E&&(E=this.get(I,D));return E}maxColumnIndex(D){util.checkColumnIndex(this,D);for(var E=this.get(0,D),I=[0,D],R=1;R<this.rows;R++)this.get(R,D)>E&&(E=this.get(R,D),I[0]=R);return I}minColumn(D){util.checkColumnIndex(this,D);for(var E=this.get(0,D),I=1;I<this.rows;I++)this.get(I,D)<E&&(E=this.get(I,D));return E}minColumnIndex(D){util.checkColumnIndex(this,D);for(var E=this.get(0,D),I=[0,D],R=1;R<this.rows;R++)this.get(R,D)<E&&(E=this.get(R,D),I[0]=R);return I}diag(){for(var D=_Mathmin(this.rows,this.columns),E=Array(D),I=0;I<D;I++)E[I]=this.get(I,I);return E}sum(D){return'row'===D?util.sumByRow(this):'column'===D?util.sumByColumn(this):util.sumAll(this)}mean(){return this.sum()/this.size}prod(){for(var D=1,E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)D*=this.get(E,I);return D}cumulativeSum(){for(var D=0,E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)D+=this.get(E,I),this.set(E,I,D);return this}dot(D){Matrix.isMatrix(D)&&(D=D.to1DArray());var E=this.to1DArray();if(E.length!==D.length)throw new RangeError('vectors do not have the same size');for(var I=0,R=0;R<E.length;R++)I+=E[R]*D[R];return I}mmul(D){D=this.constructor.checkMatrix(D),this.columns!==D.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');for(var E=this.rows,I=this.columns,R=D.columns,P=new this.constructor[Symbol.species](E,R),F=Array(I),T=0;T<R;T++){for(var O=0;O<I;O++)F[O]=D.get(O,T);for(var $=0,Z;$<E;$++){for(Z=0,O=0;O<I;O++)Z+=this.get($,O)*F[O];P.set($,T,Z)}}return P}strassen2x2(D){var E=new this.constructor[Symbol.species](2,2);const I=this.get(0,0),R=D.get(0,0),P=this.get(0,1),F=D.get(0,1),T=this.get(1,0),O=D.get(1,0),$=this.get(1,1),Z=D.get(1,1),W=(I+$)*(R+Z),K=(T+$)*R,Q=I*(F-Z),G=$*(O-R),ee=(I+P)*Z;return E.set(0,0,W+G-ee+(P-$)*(O+Z)),E.set(0,1,Q+ee),E.set(1,0,K+G),E.set(1,1,W-K+Q+(T-I)*(R+F)),E}strassen3x3(D){var E=new this.constructor[Symbol.species](3,3);const I=this.get(0,0),R=this.get(0,1),P=this.get(0,2),F=this.get(1,0),T=this.get(1,1),O=this.get(1,2),$=this.get(2,0),Z=this.get(2,1),W=this.get(2,2),K=D.get(0,0),Q=D.get(0,1),G=D.get(0,2),ee=D.get(1,0),te=D.get(1,1),ne=D.get(1,2),oe=D.get(2,0),se=D.get(2,1),le=D.get(2,2),de=(I-F)*(-Q+te),pe=(-I+F+T)*(K-Q+te),ce=(F+T)*(-K+Q),he=I*K,me=(-I+$+Z)*(K-G+ne),ge=(-I+$)*(G-ne),fe=($+Z)*(-K+G),be=(-P+Z+W)*(te+oe-se),_e=(P-W)*(te-se),ke=P*oe,we=(Z+W)*(-oe+se),Ce=(-P+T+O)*(ne+oe-le),je=(P-O)*(ne-le),ve=(T+O)*(-oe+le);return E.set(0,0,he+ke+R*ee),E.set(0,1,(I+R+P-F-T-Z-W)*te+pe+ce+he+be+ke+we),E.set(0,2,he+me+fe+(I+R+P-T-O-$-Z)*ne+ke+Ce+ve),E.set(1,0,de+T*(-K+Q+ee-te-ne-oe+le)+pe+he+ke+Ce+je),E.set(1,1,de+pe+ce+he+O*se),E.set(1,2,ke+Ce+je+ve+F*G),E.set(2,0,he+me+ge+Z*(-K+G+ee-te-ne-oe+se)+be+_e+ke),E.set(2,1,be+_e+ke+we+$*Q),E.set(2,2,he+me+ge+fe+W*le),E}mmulStrassen(D){function E(W,K,Q){var G=W.rows,ee=W.columns;if(G===K&&ee===Q)return W;var te=Matrix.zeros(K,Q);return te=te.setSubMatrix(W,0,0),te}function I(W,K,Q,G){if(512>=Q||512>=G)return W.mmul(K);1==Q%2&&1==G%2?(W=E(W,Q+1,G+1),K=E(K,Q+1,G+1)):1==Q%2?(W=E(W,Q+1,G),K=E(K,Q+1,G)):1==G%2&&(W=E(W,Q,G+1),K=E(K,Q,G+1));var ee=parseInt(W.rows/2),te=parseInt(W.columns/2),ne=W.subMatrix(0,ee-1,0,te-1),oe=K.subMatrix(0,ee-1,0,te-1),se=W.subMatrix(0,ee-1,te,W.columns-1),le=K.subMatrix(0,ee-1,te,K.columns-1),ae=W.subMatrix(ee,W.rows-1,0,te-1),de=K.subMatrix(ee,K.rows-1,0,te-1),ue=W.subMatrix(ee,W.rows-1,te,W.columns-1),pe=K.subMatrix(ee,K.rows-1,te,K.columns-1),ce=I(Matrix.add(ne,ue),Matrix.add(oe,pe),ee,te),he=I(Matrix.add(ae,ue),oe,ee,te),me=I(ne,Matrix.sub(le,pe),ee,te),ge=I(ue,Matrix.sub(de,oe),ee,te),fe=I(Matrix.add(ne,se),pe,ee,te),ye=I(Matrix.sub(ae,ne),Matrix.add(oe,le),ee,te),xe=I(Matrix.sub(se,ue),Matrix.add(de,pe),ee,te),be=Matrix.add(ce,ge);be.sub(fe),be.add(xe);var _e=Matrix.add(me,fe),ke=Matrix.add(he,ge),we=Matrix.sub(ce,he);we.add(me),we.add(ye);var Ce=Matrix.zeros(2*be.rows,2*be.columns);return Ce=Ce.setSubMatrix(be,0,0),Ce=Ce.setSubMatrix(_e,be.rows,0),Ce=Ce.setSubMatrix(ke,0,be.columns),Ce=Ce.setSubMatrix(we,be.rows,be.columns),Ce.subMatrix(0,Q-1,0,G-1)}var R=this.clone(),P=R.rows,F=R.columns,T=D.rows,O=D.columns;F!==T&&console.warn(`Multiplying ${P} x ${F} and ${T} x ${O} matrix: dimensions do not match.`);var $=_Mathmax(P,T),Z=_Mathmax(F,O);return R=E(R,$,Z),D=E(D,$,Z),I(R,D,$,Z)}scaleRows(D,E){if(D=void 0===D?0:D,E=void 0===E?1:E,D>=E)throw new RangeError('min should be strictly smaller than max');for(var I=this.constructor.empty(this.rows,this.columns),R=0,P;R<this.rows;R++)P=arrayUtils.scale(this.getRow(R),{min:D,max:E}),I.setRow(R,P);return I}scaleColumns(D,E){if(D=void 0===D?0:D,E=void 0===E?1:E,D>=E)throw new RangeError('min should be strictly smaller than max');for(var I=this.constructor.empty(this.rows,this.columns),R=0,P;R<this.columns;R++)P=arrayUtils.scale(this.getColumn(R),{min:D,max:E}),I.setColumn(R,P);return I}kroneckerProduct(D){D=this.constructor.checkMatrix(D);for(var E=this.rows,I=this.columns,R=D.rows,P=D.columns,F=new this.constructor[Symbol.species](E*R,I*P),T=0;T<E;T++)for(var O=0;O<I;O++)for(var $=0;$<R;$++)for(var Z=0;Z<P;Z++)F[R*T+$][P*O+Z]=this.get(T,O)*D.get($,Z);return F}transpose(){for(var D=new this.constructor[Symbol.species](this.columns,this.rows),E=0;E<this.rows;E++)for(var I=0;I<this.columns;I++)D.set(I,E,this.get(E,I));return D}sortRows(D){D===void 0&&(D=compareNumbers);for(var E=0;E<this.rows;E++)this.setRow(E,this.getRow(E).sort(D));return this}sortColumns(D){D===void 0&&(D=compareNumbers);for(var E=0;E<this.columns;E++)this.setColumn(E,this.getColumn(E).sort(D));return this}subMatrix(D,E,I,R){util.checkRange(this,D,E,I,R);for(var P=new this.constructor[Symbol.species](E-D+1,R-I+1),F=D;F<=E;F++)for(var T=I;T<=R;T++)P[F-D][T-I]=this.get(F,T);return P}subMatrixRow(D,E,I){if(void 0===E&&(E=0),void 0===I&&(I=this.columns-1),E>I||0>E||E>=this.columns||0>I||I>=this.columns)throw new RangeError('Argument out of range');for(var R=new this.constructor[Symbol.species](D.length,I-E+1),P=0;P<D.length;P++)for(var F=E;F<=I;F++){if(0>D[P]||D[P]>=this.rows)throw new RangeError('Row index out of range: '+D[P]);R.set(P,F-E,this.get(D[P],F))}return R}subMatrixColumn(D,E,I){if(void 0===E&&(E=0),void 0===I&&(I=this.rows-1),E>I||0>E||E>=this.rows||0>I||I>=this.rows)throw new RangeError('Argument out of range');for(var R=new this.constructor[Symbol.species](I-E+1,D.length),P=0;P<D.length;P++)for(var F=E;F<=I;F++){if(0>D[P]||D[P]>=this.columns)throw new RangeError('Column index out of range: '+D[P]);R.set(F-E,P,this.get(F,D[P]))}return R}setSubMatrix(D,E,I){D=this.constructor.checkMatrix(D);var R=E+D.rows-1,P=I+D.columns-1;util.checkRange(this,E,R,I,P);for(var F=0;F<D.rows;F++)for(var T=0;T<D.columns;T++)this[E+F][I+T]=D.get(F,T);return this}selection(D,E){for(var I=util.checkIndices(this,D,E),R=new this.constructor[Symbol.species](D.length,E.length),P=0,F;P<I.row.length;P++){F=I.row[P];for(var T=0,O;T<I.column.length;T++)O=I.column[T],R[P][T]=this.get(F,O)}return R}trace(){for(var D=_Mathmin(this.rows,this.columns),E=0,I=0;I<D;I++)E+=this.get(I,I);return E}transposeView(){return new MatrixTransposeView(this)}rowView(D){return util.checkRowIndex(this,D),new MatrixRowView(this,D)}columnView(D){return util.checkColumnIndex(this,D),new MatrixColumnView(this,D)}flipRowView(){return new MatrixFlipRowView(this)}flipColumnView(){return new MatrixFlipColumnView(this)}subMatrixView(D,E,I,R){return new MatrixSubView(this,D,E,I,R)}selectionView(D,E){return new MatrixSelectionView(this,D,E)}det(){if(this.isSquare()){var D,E,I,R;if(2===this.columns)return D=this.get(0,0),E=this.get(0,1),I=this.get(1,0),R=this.get(1,1),D*R-E*I;if(3===this.columns){var P,F,T;return P=this.selectionView([1,2],[1,2]),F=this.selectionView([1,2],[0,2]),T=this.selectionView([1,2],[0,1]),D=this.get(0,0),E=this.get(0,1),I=this.get(0,2),D*P.det()-E*F.det()+I*T.det()}return new LuDecomposition(this).determinant}throw Error('Determinant can only be calculated for a square matrix.')}pseudoInverse(D){void 0===D&&(D=Number.EPSILON);for(var E=new SvDecomposition(this,{autoTranspose:!0}),I=E.leftSingularVectors,R=E.rightSingularVectors,P=E.diagonal,F=0;F<P.length;F++)P[F]=_Mathabs(P[F])>D?1/P[F]:0;return P=this.constructor[Symbol.species].diag(P),R.mmul(P.mmul(I.transposeView()))}}Matrix.prototype.klass='Matrix',Matrix.random=Matrix.rand,Matrix.diagonal=Matrix.diag,Matrix.prototype.diagonal=Matrix.prototype.diag,Matrix.identity=Matrix.eye,Matrix.prototype.negate=Matrix.prototype.neg,Matrix.prototype.tensorProduct=Matrix.prototype.kroneckerProduct,Matrix.prototype.determinant=Matrix.prototype.det;var inplaceOperator=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,inplaceOperatorScalar=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% value);
        }
    }
    return this;
})
`,inplaceOperatorMatrix=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, this.get(i, j) %op% matrix.get(i, j));
        }
    }
    return this;
})
`,staticOperator=`
(function %name%(matrix, value) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(value);
})
`,inplaceMethod=`
(function %name%() {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j)));
        }
    }
    return this;
})
`,staticMethod=`
(function %name%(matrix) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%();
})
`,inplaceMethodWithArgs=`
(function %name%(%args%) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), %args%));
        }
    }
    return this;
})
`,staticMethodWithArgs=`
(function %name%(matrix, %args%) {
    var newMatrix = new this[Symbol.species](matrix);
    return newMatrix.%name%(%args%);
})
`,inplaceMethodWithOneArgScalar=`
(function %name%S(value) {
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), value));
        }
    }
    return this;
})
`,inplaceMethodWithOneArgMatrix=`
(function %name%M(matrix) {
    matrix = this.constructor.checkMatrix(matrix);
    checkDimensions(this, matrix);
    for (var i = 0; i < this.rows; i++) {
        for (var j = 0; j < this.columns; j++) {
            this.set(i, j, %method%(this.get(i, j), matrix.get(i, j)));
        }
    }
    return this;
})
`,inplaceMethodWithOneArg=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,staticMethodWithOneArg=staticMethodWithArgs,operators=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']],i;for(var operator of operators){var inplaceOp=eval(fillTemplateFunction(inplaceOperator,{name:operator[1],op:operator[0]})),inplaceOpS=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[1]+'S',op:operator[0]})),inplaceOpM=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[1]+'M',op:operator[0]})),staticOp=eval(fillTemplateFunction(staticOperator,{name:operator[1]}));for(i=1;i<operator.length;i++)Matrix.prototype[operator[i]]=inplaceOp,Matrix.prototype[operator[i]+'S']=inplaceOpS,Matrix.prototype[operator[i]+'M']=inplaceOpM,Matrix[operator[i]]=staticOp}var methods=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(D){methods.push(['Math.'+D,D])});for(var method of methods){var inplaceMeth=eval(fillTemplateFunction(inplaceMethod,{name:method[1],method:method[0]})),staticMeth=eval(fillTemplateFunction(staticMethod,{name:method[1]}));for(i=1;i<method.length;i++)Matrix.prototype[method[i]]=inplaceMeth,Matrix[method[i]]=staticMeth}var methodsWithArgs=[['Math.pow',1,'pow']];for(var methodWithArg of methodsWithArgs){var args='arg0';for(i=1;i<methodWithArg[1];i++)args+=`, arg${i}`;if(1!==methodWithArg[1]){var inplaceMethWithArgs=eval(fillTemplateFunction(inplaceMethodWithArgs,{name:methodWithArg[2],method:methodWithArg[0],args:args})),staticMethWithArgs=eval(fillTemplateFunction(staticMethodWithArgs,{name:methodWithArg[2],args:args}));for(i=2;i<methodWithArg.length;i++)Matrix.prototype[methodWithArg[i]]=inplaceMethWithArgs,Matrix[methodWithArg[i]]=staticMethWithArgs}else{var tmplVar={name:methodWithArg[2],args:args,method:methodWithArg[0]},inplaceMethod2=eval(fillTemplateFunction(inplaceMethodWithOneArg,tmplVar)),inplaceMethodS=eval(fillTemplateFunction(inplaceMethodWithOneArgScalar,tmplVar)),inplaceMethodM=eval(fillTemplateFunction(inplaceMethodWithOneArgMatrix,tmplVar)),staticMethod2=eval(fillTemplateFunction(staticMethodWithOneArg,tmplVar));for(i=2;i<methodWithArg.length;i++)Matrix.prototype[methodWithArg[i]]=inplaceMethod2,Matrix.prototype[methodWithArg[i]+'M']=inplaceMethodM,Matrix.prototype[methodWithArg[i]+'S']=inplaceMethodS,Matrix[methodWithArg[i]]=staticMethod2}}return Matrix}module.exports=abstractMatrix;var LuDecomposition=__webpack_require__(46),SvDecomposition=__webpack_require__(47),arrayUtils=__webpack_require__(39),util=__webpack_require__(7),MatrixTransposeView=__webpack_require__(126),MatrixRowView=__webpack_require__(123),MatrixSubView=__webpack_require__(125),MatrixSelectionView=__webpack_require__(124),MatrixColumnView=__webpack_require__(120),MatrixFlipRowView=__webpack_require__(122),MatrixFlipColumnView=__webpack_require__(121)},function(D,E,I){'use strict';function R(F){if(!(this instanceof R))return new R(F);F=P.Matrix.checkMatrix(F);var T=F.clone(),O=T.rows,$=T.columns,Z=Array(O),W=1,K,Q,G,ee,te,ne,oe,se,le,ae;for(K=0;K<O;K++)Z[K]=K;for(le=Array(O),Q=0;Q<$;Q++){for(K=0;K<O;K++)le[K]=T[K][Q];for(K=0;K<O;K++){for(se=T[K],ae=_Mathmin(K,Q),te=0,G=0;G<ae;G++)te+=se[G]*le[G];se[Q]=le[K]-=te}for(ee=Q,K=Q+1;K<O;K++)_Mathabs(le[K])>_Mathabs(le[ee])&&(ee=K);if(ee!==Q){for(G=0;G<$;G++)ne=T[ee][G],T[ee][G]=T[Q][G],T[Q][G]=ne;oe=Z[ee],Z[ee]=Z[Q],Z[Q]=oe,W=-W}if(Q<O&&0!==T[Q][Q])for(K=Q+1;K<O;K++)T[K][Q]/=T[Q][Q]}this.LU=T,this.pivotVector=Z,this.pivotSign=W}var P=I(1);R.prototype={isSingular:function(){for(var F=this.LU,T=F.columns,O=0;O<T;O++)if(0===F[O][O])return!0;return!1},get determinant(){var F=this.LU;if(!F.isSquare())throw new Error('Matrix must be square');for(var T=this.pivotSign,O=F.columns,$=0;$<O;$++)T*=F[$][$];return T},get lowerTriangularMatrix(){for(var F=this.LU,T=F.rows,O=F.columns,$=new P.Matrix(T,O),Z=0;Z<T;Z++)for(var W=0;W<O;W++)$[Z][W]=Z>W?F[Z][W]:Z===W?1:0;return $},get upperTriangularMatrix(){for(var F=this.LU,T=F.rows,O=F.columns,$=new P.Matrix(T,O),Z=0;Z<T;Z++)for(var W=0;W<O;W++)$[Z][W]=Z<=W?F[Z][W]:0;return $},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(F){F=P.Matrix.checkMatrix(F);var T=this.LU,O=T.rows;if(O!==F.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var $=F.columns,Z=F.subMatrixRow(this.pivotVector,0,$-1),W=T.columns,K,Q,G;for(G=0;G<W;G++)for(K=G+1;K<W;K++)for(Q=0;Q<$;Q++)Z[K][Q]-=Z[G][Q]*T[K][G];for(G=W-1;0<=G;G--){for(Q=0;Q<$;Q++)Z[G][Q]/=T[G][G];for(K=0;K<G;K++)for(Q=0;Q<$;Q++)Z[K][Q]-=Z[G][Q]*T[K][G]}return Z}},D.exports=R},function(D,E,I){'use strict';function R($,Z){if(!(this instanceof R))return new R($,Z);$=P.Matrix.checkMatrix($),Z=Z||{};var W=$.rows,K=$.columns,Q=_Mathmin(W,K),G=!0,ee=!0;!1===Z.computeLeftSingularVectors&&(G=!1),!1===Z.computeRightSingularVectors&&(ee=!1);var te=!0===Z.autoTranspose,ne=!1,oe;if(!(W<K))oe=$.clone();else if(!te)oe=$.clone(),console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{oe=$.transpose(),W=oe.rows,K=oe.columns,ne=!0;var se=G;G=ee,ee=se}var le=Array(_Mathmin(W+1,K)),ae=O(W,Q,0),de=O(K,K,0),ue=Array(K),pe=Array(W),ce=_Mathmin(W-1,K),he=_Mathmax(0,_Mathmin(K-2,W)),me,ge,fe,ye,xe,be,_e,ke,we,Ce,je,ve,Se,De,Ee,Ie,Ae,He,Re,Pe,Fe;for(fe=0,Ce=_Mathmax(ce,he);fe<Ce;fe++){if(fe<ce){for(le[fe]=0,me=fe;me<W;me++)le[fe]=T(le[fe],oe[me][fe]);if(0!==le[fe]){for(0>oe[fe][fe]&&(le[fe]=-le[fe]),me=fe;me<W;me++)oe[me][fe]/=le[fe];oe[fe][fe]+=1}le[fe]=-le[fe]}for(ge=fe+1;ge<K;ge++){if(fe<ce&&0!==le[fe]){for(xe=0,me=fe;me<W;me++)xe+=oe[me][fe]*oe[me][ge];for(xe=-xe/oe[fe][fe],me=fe;me<W;me++)oe[me][ge]+=xe*oe[me][fe]}ue[ge]=oe[fe][ge]}if(G&&fe<ce)for(me=fe;me<W;me++)ae[me][fe]=oe[me][fe];if(fe<he){for(ue[fe]=0,me=fe+1;me<K;me++)ue[fe]=T(ue[fe],ue[me]);if(0!==ue[fe]){for(0>ue[fe+1]&&(ue[fe]=0-ue[fe]),me=fe+1;me<K;me++)ue[me]/=ue[fe];ue[fe+1]+=1}if(ue[fe]=-ue[fe],fe+1<W&&0!==ue[fe]){for(me=fe+1;me<W;me++)pe[me]=0;for(ge=fe+1;ge<K;ge++)for(me=fe+1;me<W;me++)pe[me]+=ue[ge]*oe[me][ge];for(ge=fe+1;ge<K;ge++)for(xe=-ue[ge]/ue[fe+1],me=fe+1;me<W;me++)oe[me][ge]+=xe*pe[me]}if(ee)for(me=fe+1;me<K;me++)de[me][fe]=ue[me]}}if(ye=_Mathmin(K,W+1),ce<K&&(le[ce]=oe[ce][ce]),W<ye&&(le[ye-1]=0),he+1<ye&&(ue[he]=oe[he][ye-1]),ue[ye-1]=0,G){for(ge=ce;ge<Q;ge++){for(me=0;me<W;me++)ae[me][ge]=0;ae[ge][ge]=1}for(fe=ce-1;0<=fe;fe--)if(0!==le[fe]){for(ge=fe+1;ge<Q;ge++){for(xe=0,me=fe;me<W;me++)xe+=ae[me][fe]*ae[me][ge];for(xe=-xe/ae[fe][fe],me=fe;me<W;me++)ae[me][ge]+=xe*ae[me][fe]}for(me=fe;me<W;me++)ae[me][fe]=-ae[me][fe];for(ae[fe][fe]=1+ae[fe][fe],me=0;me<fe-1;me++)ae[me][fe]=0}else{for(me=0;me<W;me++)ae[me][fe]=0;ae[fe][fe]=1}}if(ee)for(fe=K-1;0<=fe;fe--){if(fe<he&&0!==ue[fe])for(ge=fe+1;ge<K;ge++){for(xe=0,me=fe+1;me<K;me++)xe+=de[me][fe]*de[me][ge];for(xe=-xe/de[fe+1][fe],me=fe+1;me<K;me++)de[me][ge]+=xe*de[me][fe]}for(me=0;me<K;me++)de[me][fe]=0;de[fe][fe]=1}for(var Te=ye-1,ze=0,Oe=2.220446049250313e-16;0<ye;){for(fe=ye-2;-1<=fe&&-1!==fe;fe--)if(_Mathabs(ue[fe])<=Oe*(_Mathabs(le[fe])+_Mathabs(le[fe+1]))){ue[fe]=0;break}if(fe===ye-2)je=4;else{for(be=ye-1;be>=fe&&be!==fe;be--)if(xe=(be===ye?0:_Mathabs(ue[be]))+(be===fe+1?0:_Mathabs(ue[be-1])),_Mathabs(le[be])<=Oe*xe){le[be]=0;break}be===fe?je=3:be===ye-1?je=1:(je=2,fe=be)}switch(fe++,je){case 1:{for(_e=ue[ye-2],ue[ye-2]=0,ge=ye-2;ge>=fe;ge--)if(xe=T(le[ge],_e),ke=le[ge]/xe,we=_e/xe,le[ge]=xe,ge!==fe&&(_e=-we*ue[ge-1],ue[ge-1]=ke*ue[ge-1]),ee)for(me=0;me<K;me++)xe=ke*de[me][ge]+we*de[me][ye-1],de[me][ye-1]=-we*de[me][ge]+ke*de[me][ye-1],de[me][ge]=xe;break}case 2:{for(_e=ue[fe-1],ue[fe-1]=0,ge=fe;ge<ye;ge++)if(xe=T(le[ge],_e),ke=le[ge]/xe,we=_e/xe,le[ge]=xe,_e=-we*ue[ge],ue[ge]=ke*ue[ge],G)for(me=0;me<W;me++)xe=ke*ae[me][ge]+we*ae[me][fe-1],ae[me][fe-1]=-we*ae[me][ge]+ke*ae[me][fe-1],ae[me][ge]=xe;break}case 3:{for(ve=_Mathmax(_Mathmax(_Mathmax(_Mathmax(_Mathabs(le[ye-1]),_Mathabs(le[ye-2])),_Mathabs(ue[ye-2])),_Mathabs(le[fe])),_Mathabs(ue[fe])),Se=le[ye-1]/ve,De=le[ye-2]/ve,Ee=ue[ye-2]/ve,Ie=le[fe]/ve,Ae=ue[fe]/ve,He=((De+Se)*(De-Se)+Ee*Ee)/2,Re=Se*Ee*(Se*Ee),Pe=0,(0!==He||0!==Re)&&(Pe=_Mathsqrt(He*He+Re),0>He&&(Pe=-Pe),Pe=Re/(He+Pe)),_e=(Ie+Se)*(Ie-Se)+Pe,Fe=Ie*Ae,ge=fe;ge<ye-1;ge++){if(xe=T(_e,Fe),ke=_e/xe,we=Fe/xe,ge!==fe&&(ue[ge-1]=xe),_e=ke*le[ge]+we*ue[ge],ue[ge]=ke*ue[ge]-we*le[ge],Fe=we*le[ge+1],le[ge+1]=ke*le[ge+1],ee)for(me=0;me<K;me++)xe=ke*de[me][ge]+we*de[me][ge+1],de[me][ge+1]=-we*de[me][ge]+ke*de[me][ge+1],de[me][ge]=xe;if(xe=T(_e,Fe),ke=_e/xe,we=Fe/xe,le[ge]=xe,_e=ke*ue[ge]+we*le[ge+1],le[ge+1]=-we*ue[ge]+ke*le[ge+1],Fe=we*ue[ge+1],ue[ge+1]=ke*ue[ge+1],G&&ge<W-1)for(me=0;me<W;me++)xe=ke*ae[me][ge]+we*ae[me][ge+1],ae[me][ge+1]=-we*ae[me][ge]+ke*ae[me][ge+1],ae[me][ge]=xe}ue[ye-2]=_e,++ze;break}case 4:{if(0>=le[fe]&&(le[fe]=0>le[fe]?-le[fe]:0,ee))for(me=0;me<=Te;me++)de[me][fe]=-de[me][fe];for(;fe<Te&&!(le[fe]>=le[fe+1]);){if(xe=le[fe],le[fe]=le[fe+1],le[fe+1]=xe,ee&&fe<K-1)for(me=0;me<K;me++)xe=de[me][fe+1],de[me][fe+1]=de[me][fe],de[me][fe]=xe;if(G&&fe<W-1)for(me=0;me<W;me++)xe=ae[me][fe+1],ae[me][fe+1]=ae[me][fe],ae[me][fe]=xe;fe++}ze=0,ye--;break}}}if(ne){var Me=de;de=ae,ae=Me}this.m=W,this.n=K,this.s=le,this.U=ae,this.V=de}var P=I(1),F=I(15),T=F.hypotenuse,O=F.getFilled2DArray;R.prototype={get condition(){return this.s[0]/this.s[_Mathmin(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var Z=_Mathmax(this.m,this.n)*this.s[0]*2.220446049250313e-16,W=0,K=this.s,Q=0,G=K.length;Q<G;Q++)K[Q]>Z&&W++;return W},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*_Mathmax(this.m,this.n)*this.s[0]},get leftSingularVectors(){return P.Matrix.isMatrix(this.U)||(this.U=new P.Matrix(this.U)),this.U},get rightSingularVectors(){return P.Matrix.isMatrix(this.V)||(this.V=new P.Matrix(this.V)),this.V},get diagonalMatrix(){return P.Matrix.diag(this.s)},solve:function($){var W=this.threshold,K=this.s.length,Q=P.Matrix.zeros(K,K),G;for(G=0;G<K;G++)Q[G][G]=_Mathabs(this.s[G])<=W?0:1/this.s[G];var ee=this.U,te=this.rightSingularVectors,ne=te.mmul(Q),oe=te.rows,se=ee.length,le=P.Matrix.zeros(oe,se),ae,de,ue;for(G=0;G<oe;G++)for(ae=0;ae<se;ae++){for(ue=0,de=0;de<K;de++)ue+=ne[G][de]*ee[ae][de];le[G][ae]=ue}return le.mmul($)},solveForDiagonal:function($){return this.solve(P.Matrix.diag($))},inverse:function(){var $=this.V,Z=this.threshold,W=$.length,K=$[0].length,Q=new P.Matrix(W,this.s.length),G,ee;for(G=0;G<W;G++)for(ee=0;ee<K;ee++)Q[G][ee]=_Mathabs(this.s[ee])>Z?$[G][ee]/this.s[ee]:0;var te=this.U,ne=te.length,oe=te[0].length,se=new P.Matrix(W,ne),le,ae;for(G=0;G<W;G++)for(ee=0;ee<ne;ee++){for(ae=0,le=0;le<oe;le++)ae+=Q[G][le]*te[ee][le];se[G][ee]=ae}return se}},D.exports=R},function(D,E,I){'use strict';var pe=I(8);D.exports={transpose:function(ce){if('number'==typeof ce)return ce;var he=ce.clone();return he.transpose()},add:function(ce,he){if('number'==typeof ce&&'number'==typeof he)return ce+he;if('number'==typeof ce)return this.add(he,ce);var me=ce.clone();return me.add(he)},subtract:function(ce,he){if('number'==typeof ce&&'number'==typeof he)return ce-he;if('number'==typeof ce)return this.subtract(he,ce);var me=ce.clone();return me.sub(he)},multiply:function(ce,he){if('number'==typeof ce&&'number'==typeof he)return ce*he;if('number'==typeof ce)return this.multiply(he,ce);var me=ce.clone();return'number'==typeof he?me.mul(he):me=me.mmul(he),1==me.rows&&1==me.columns?me[0][0]:me},dotMultiply:function(ce,he){var me=ce.clone();return me.mul(he)},dotDivide:function(ce,he){var me=ce.clone();return me.div(he)},diag:function(ce){var he=null,me=ce.rows,ge=ce.columns,fe,ye;if('undefined'==typeof ge&&'object'==typeof ce)if(ce[0]&&ce[0].length)for(me=ce.length,ge=ce[0].length,ye=_Mathmin(me,ge),he=pe.zeros(ge,ge),fe=0;fe<ge;fe++)he[fe][fe]=ce[fe][fe];else for(ge=ce.length,he=pe.zeros(ge,ge),fe=0;fe<ge;fe++)he[fe][fe]=ce[fe];if(1==me)for(he=pe.zeros(ge,ge),fe=0;fe<ge;fe++)he[fe][fe]=ce[0][fe];else if(0<me&&0<ge)for(ye=_Mathmin(me,ge),he=Array(ye),fe=0;fe<ye;fe++)he[fe]=ce[fe][fe];return he},min:function(ce,he){if('number'==typeof ce&&'number'==typeof he)return _Mathmin(ce,he);for(var me=ce.rows,ge=ce.columns,fe=new pe(me,ge),ye=0;ye<me;ye++)for(var xe=0;xe<ge;xe++)fe[ye][xe]=ce[ye][xe]<he[ye][xe]?ce[ye][xe]:he[ye][xe];return fe},max:function(ce,he){if('number'==typeof ce&&'number'==typeof he)return _Mathmax(ce,he);for(var me=ce.rows,ge=ce.columns,fe=new pe(me,ge),ye=0;ye<me;ye++)for(var xe=0;xe<ge;xe++)fe[ye][xe]=ce[ye][xe]>he[ye][xe]?ce[ye][xe]:he[ye][xe];return fe},solve:function(ce,he){return ce.solve(he)},inv:function(ce){return'number'==typeof ce?1/ce:ce.inverse()},sqrt:function(ce){if('number'==typeof ce)return _Mathsqrt(ce);for(var he=ce.rows,me=ce.columns,ge=new pe(he,me),fe=0;fe<he;fe++)for(var ye=0;ye<me;ye++)ge[fe][ye]=_Mathsqrt(ce[fe][ye]);return ge},exp:function(ce){if('number'==typeof ce)return _Mathsqrt(ce);for(var he=ce.rows,me=ce.columns,ge=new pe(he,me),fe=0;fe<he;fe++)for(var ye=0;ye<me;ye++)ge[fe][ye]=_Mathexp(ce[fe][ye]);return ge},dotPow:function(ce,he){if('number'==typeof ce)return _Mathpow(ce,he);for(var me=ce.rows,ge=ce.columns,fe=new pe(me,ge),ye=0;ye<me;ye++)for(var xe=0;xe<ge;xe++)fe[ye][xe]=_Mathpow(ce[ye][xe],he);return fe},abs:function(ce){if('number'==typeof ce)return _Mathabs(ce);for(var he=ce.rows,me=ce.columns,ge=new pe(he,me),fe=0;fe<he;fe++)for(var ye=0;ye<me;ye++)ge[fe][ye]=_Mathabs(ce[fe][ye]);return ge},matrix:function(ce,he){return new pe(ce,he)},ones:function(ce,he){return pe.ones(ce,he)},zeros:function(ce,he){return pe.zeros(ce,he)},random:function(ce,he){return pe.rand(ce,he)},eye:function(ce,he){return pe.eye(ce,he)}}},function(D,E){'use strict';function R(P,F){return P-F}E.sum=function(F){for(var P=0,T=0;T<F.length;T++)P+=F[T];return P},E.max=function(F){for(var P=-Infinity,T=F.length,O=0;O<T;O++)F[O]>P&&(P=F[O]);return P},E.min=function(F){for(var P=Infinity,T=F.length,O=0;O<T;O++)F[O]<P&&(P=F[O]);return P},E.minMax=function(F){for(var T=Infinity,O=-Infinity,$=F.length,Z=0;Z<$;Z++)F[Z]<T&&(T=F[Z]),F[Z]>O&&(O=F[Z]);return{min:T,max:O}},E.arithmeticMean=function(F){for(var T=0,O=F.length,$=0;$<O;$++)T+=F[$];return T/O},E.mean=E.arithmeticMean,E.geometricMean=function(F){for(var T=1,O=F.length,$=0;$<O;$++)T*=F[$];return _Mathpow(T,1/O)},E.logMean=function(F){for(var T=0,O=F.length,$=0;$<O;$++)T+=_Mathlog(F[$]);return T/O},E.grandMean=function(F,T){for(var O=0,$=0,Z=F.length,W=0;W<Z;W++)O+=T[W]*F[W],$+=T[W];return O/$},E.truncatedMean=function(F,T,O){O===void 0&&(O=!1),O||(F=F.slice().sort(R));for(var $=F.length,Z=_Mathfloor($*T),W=0,K=Z;K<$-Z;K++)W+=F[K];return W/($-2*Z)},E.harmonicMean=function(F){for(var T=0,O=F.length,$=0;$<O;$++){if(0===F[$])throw new RangeError('value at index '+$+'is zero');T+=1/F[$]}return O/T},E.contraHarmonicMean=function(F){for(var T=0,O=0,$=F.length,Z=0;Z<$;Z++)T+=F[Z]*F[Z],O+=F[Z];if(0>O)throw new RangeError('sum of values is negative');return T/O},E.median=function(F,T){T===void 0&&(T=!1),T||(F=F.slice().sort(R));var O=F.length,$=_Mathfloor(O/2);return 0==O%2?0.5*(F[$-1]+F[$]):F[$]},E.variance=function(F,T){T===void 0&&(T=!0);for(var O=E.mean(F),$=0,Z=F.length,W=0,K;W<Z;W++)K=F[W]-O,$+=K*K;return T?$/(Z-1):$/Z},E.standardDeviation=function(F,T){return _Mathsqrt(E.variance(F,T))},E.standardError=function(F){return E.standardDeviation(F)/_Mathsqrt(F.length)},E.quartiles=function(F,T){'undefined'==typeof T&&(T=!1),T||(F=F.slice(),F.sort(R));var O=F.length/4,$=F[_Mathceil(O)-1],Z=E.median(F,!0),W=F[_Mathceil(3*O)-1];return{q1:$,q2:Z,q3:W}},E.pooledStandardDeviation=function(F,T){return _Mathsqrt(E.pooledVariance(F,T))},E.pooledVariance=function(F,T){'undefined'==typeof T&&(T=!0);for(var O=0,$=0,Z=F.length,W=0;W<Z;W++){var K=F[W],Q=E.variance(K);O+=(K.length-1)*Q,$+=T?K.length-1:K.length}return O/$},E.mode=function(F){var T=F.length,O=Array(T),$;for($=0;$<T;$++)O[$]=0;var Z=Array(T),W=0;for($=0;$<T;$++){var K=Z.indexOf(F[$]);0<=K?O[K]++:(Z[W]=F[$],O[W]=1,W++)}var Q=0,G=0;for($=0;$<W;$++)O[$]>Q&&(Q=O[$],G=$);return Z[G]},E.covariance=function(F,T,O){'undefined'==typeof O&&(O=!0);var $=E.mean(F),Z=E.mean(T);if(F.length!==T.length)throw'Vectors do not have the same dimensions';for(var W=0,K=F.length,Q=0;Q<K;Q++){var G=F[Q]-$,ee=T[Q]-Z;W+=G*ee}return O?W/(K-1):W/K},E.skewness=function(F,T){'undefined'==typeof T&&(T=!0);for(var O=E.mean(F),$=0,Z=0,W=F.length,K=0,Q;K<W;K++)Q=F[K]-O,$+=Q*Q,Z+=Q*Q*Q;var G=$/W,ee=Z/W,te=ee/_Mathpow(G,3/2);if(T){var ne=_Mathsqrt(W*(W-1));return ne/(W-2)*te}return te},E.kurtosis=function(F,T){'undefined'==typeof T&&(T=!0);for(var O=E.mean(F),$=F.length,Z=0,W=0,K=0,Q;K<$;K++)Q=F[K]-O,Z+=Q*Q,W+=Q*Q*Q*Q;var G=Z/$,ee=W/$;if(T){var te=Z/($-1),oe=W/(te*te);return $*($+1)/(($-1)*($-2)*($-3))*oe-3*(($-1)*($-1)/(($-2)*($-3)))}return ee/(G*G)-3},E.entropy=function(F,T){'undefined'==typeof T&&(T=0);for(var O=0,$=F.length,Z=0;Z<$;Z++)O+=F[Z]*_Mathlog(F[Z]+T);return-O},E.weightedMean=function(F,T){for(var O=0,$=F.length,Z=0;Z<$;Z++)O+=F[Z]*T[Z];return O},E.weightedStandardDeviation=function(F,T){return _Mathsqrt(E.weightedVariance(F,T))},E.weightedVariance=function(F,T){for(var O=E.weightedMean(F,T),$=0,Z=F.length,W=0,K=0,Q=0;Q<Z;Q++){var G=F[Q]-O,ee=T[Q];$+=ee*(G*G),K+=ee,W+=ee*ee}return $*(K/(K*K-W))},E.center=function(F,T){'undefined'==typeof T&&(T=!1);var O=F;T||(O=F.slice());for(var $=E.mean(O),Z=O.length,W=0;W<Z;W++)O[W]-=$},E.standardize=function(F,T,O){'undefined'==typeof T&&(T=E.standardDeviation(F)),'undefined'==typeof O&&(O=!1);for(var $=F.length,Z=O?F:Array($),W=0;W<$;W++)Z[W]=F[W]/T;return Z},E.cumulativeSum=function(F){var T=F.length,O=Array(T);O[0]=F[0];for(var $=1;$<T;$++)O[$]=O[$-1]+F[$];return O}},function(D){'use strict';function R(F){var T=_Mathsqrt(2*F.length+0.25)-0.5,O=[],$=Array(T),Z=T,W=0,K=[];for(W=T-1;0<=W;W--)$[W]=1;for(var Q=-1,G=[];0<Z;){if(0===G.length){for(K=Array(T),W=0;W<T;W++)K[W]=0;for(O.push(K),Q=0;0==$[Q];Q++);}else Q=G.splice(0,1);K[Q]=1,$[Q]=0,Z--;var ee=Array(T);for(W=0;W<T;W++){var te=_Mathmax(Q,W),ne=_Mathmin(Q,W);ee[W]=F[ne*(2*T-ne-1)/2+te],1==ee[W]&&1==$[W]&&0==K[W]&&(G.push(W),K[W]=1)}}return O}const P={threshold:0,out:'assignment'};D.exports=function(T,O){const $=Object.assign({},P,O);var Z,W,K,Q;if('number'==typeof T[0])Z=R(T);else if('object'==typeof T[0]){for(var G=T.length,ee=Array(G*(G+1)/2),te=0,W=0;W<G;W++)for(var K=W;K<G;K++)ee[te++]=T[W][K]>$.threshold?1:0;Z=R(ee)}if('indexes'===$.out||'values'===$.out){var ne=Array(Z.length);for(W=0;W<Z.length;W++)for(ne[W]=[],K=0;K<Z[W].length;K++)0!=Z[W][K]&&ne[W].push(K);if('values'===$.out){var oe=Array(ne.length);for(W=0;W<ne.length;W++)for(oe[W]=Array(ne[W].length),K=0;K<ne[W].length;K++)for(oe[W][K]=Array(ne[W].length),Q=0;Q<ne[W].length;Q++)oe[W][K][Q]=T[ne[W][K]][ne[W][Q]];return oe}return ne}return Z}},function(module,exports,__webpack_require__){function fillTemplateFunction(D,E){for(var I in E)D=D.replace(new RegExp('%'+I+'%','g'),E[I]);return D}const HashTable=__webpack_require__(105);class SparseMatrix{constructor(D,E,I={}){if(D instanceof SparseMatrix){const T=D;return void this._init(T.rows,T.columns,T.elements.clone(),T.threshold)}if(Array.isArray(D)){const T=D;D=T.length,I=E||{},E=T[0].length,this._init(D,E,new HashTable(I),I.threshold);for(var R=0;R<D;R++)for(var P=0,F;P<E;P++)F=T[R][P],this.threshold&&_Mathabs(F)<this.threshold&&(F=0),0!==F&&this.elements.set(R*E+P,T[R][P])}else this._init(D,E,new HashTable(I),I.threshold)}_init(D,E,I,R){this.rows=D,this.columns=E,this.elements=I,this.threshold=R||0}static eye(D=1,E=D){const I=_Mathmin(D,E),R=new SparseMatrix(D,E,{initialCapacity:I});for(var P=0;P<I;P++)R.set(P,P,1);return R}clone(){return new SparseMatrix(this)}to2DArray(){const D=Array(this.rows);for(var E=0;E<this.rows;E++){D[E]=Array(this.columns);for(var I=0;I<this.columns;I++)D[E][I]=this.get(E,I)}return D}isSquare(){return this.rows===this.columns}isSymmetric(){if(!this.isSquare())return!1;var D=!0;return this.forEachNonZero((E,I,R)=>{return this.get(I,E)===R?R:(D=!1,!1)}),D}get cardinality(){return this.elements.size}get size(){return this.rows*this.columns}get(D,E){return this.elements.get(D*this.columns+E)}set(D,E,I){return this.threshold&&_Mathabs(I)<this.threshold&&(I=0),0===I?this.elements.remove(D*this.columns+E):this.elements.set(D*this.columns+E,I),this}mmul(D){this.columns!==D.rows&&console.warn('Number of columns of left matrix are not equal to number of rows of right matrix.');const E=this.rows,I=D.columns,R=new SparseMatrix(E,I);return this.forEachNonZero((P,F,T)=>{return D.forEachNonZero((O,$,Z)=>{return F===O&&R.set(P,$,R.get(P,$)+T*Z),Z}),T}),R}kroneckerProduct(D){const E=this.rows,I=this.columns,R=D.rows,P=D.columns,F=new SparseMatrix(E*R,I*P,{initialCapacity:this.cardinality*D.cardinality});return this.forEachNonZero((T,O,$)=>{return D.forEachNonZero((Z,W,K)=>{return F.set(R*T+Z,P*O+W,$*K),K}),$}),F}forEachNonZero(D){return this.elements.forEachPair((E,I)=>{const R=0|E/this.columns,P=E%this.columns;let F=D(R,P,I);return!1!==F&&(this.threshold&&_Mathabs(F)<this.threshold&&(F=0),F!==I&&(0===F?this.elements.remove(E,!0):this.elements.set(E,F)),!0)}),this.elements.maybeShrinkCapacity(),this}getNonZeros(){const D=this.cardinality,E=Array(D),I=Array(D),R=Array(D);var P=0;return this.forEachNonZero((F,T,O)=>{return E[P]=F,I[P]=T,R[P]=O,P++,O}),{rows:E,columns:I,values:R}}setThreshold(D){return 0!==D&&D!==this.threshold&&(this.threshold=D,this.forEachNonZero((E,I,R)=>R)),this}}SparseMatrix.prototype.klass='Matrix',SparseMatrix.identity=SparseMatrix.eye,SparseMatrix.prototype.tensorProduct=SparseMatrix.prototype.kroneckerProduct,module.exports=SparseMatrix;var inplaceOperator=`
(function %name%(value) {
    if (typeof value === 'number') return this.%name%S(value);
    return this.%name%M(value);
})
`,inplaceOperatorScalar=`
(function %name%S(value) {
    this.forEachNonZero((i, j, v) => v %op% value);
    return this;
})
`,inplaceOperatorMatrix=`
(function %name%M(matrix) {
    matrix.forEachNonZero((i, j, v) => {
        this.set(i, j, this.get(i, j) %op% v);
        return v;
    });
    return this;
})
`,staticOperator=`
(function %name%(matrix, value) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%(value);
})
`,inplaceMethod=`
(function %name%() {
    this.forEachNonZero((i, j, v) => %method%(v));
    return this;
})
`,staticMethod=`
(function %name%(matrix) {
    var newMatrix = new SparseMatrix(matrix);
    return newMatrix.%name%();
})
`,operators=[['+','add'],['-','sub','subtract'],['*','mul','multiply'],['/','div','divide'],['%','mod','modulus'],['&','and'],['|','or'],['^','xor'],['<<','leftShift'],['>>','signPropagatingRightShift'],['>>>','rightShift','zeroFillRightShift']];for(var operator of operators)for(var i=1;i<operator.length;i++)SparseMatrix.prototype[operator[i]]=eval(fillTemplateFunction(inplaceOperator,{name:operator[i],op:operator[0]})),SparseMatrix.prototype[operator[i]+'S']=eval(fillTemplateFunction(inplaceOperatorScalar,{name:operator[i]+'S',op:operator[0]})),SparseMatrix.prototype[operator[i]+'M']=eval(fillTemplateFunction(inplaceOperatorMatrix,{name:operator[i]+'M',op:operator[0]})),SparseMatrix[operator[i]]=eval(fillTemplateFunction(staticOperator,{name:operator[i]}));var methods=[['~','not']];['abs','acos','acosh','asin','asinh','atan','atanh','cbrt','ceil','clz32','cos','cosh','exp','expm1','floor','fround','log','log1p','log10','log2','round','sign','sin','sinh','sqrt','tan','tanh','trunc'].forEach(function(D){methods.push(['Math.'+D,D])});for(var method of methods)for(var i=1;i<method.length;i++)SparseMatrix.prototype[method[i]]=eval(fillTemplateFunction(inplaceMethod,{name:method[i],method:method[0]})),SparseMatrix[method[i]]=eval(fillTemplateFunction(staticMethod,{name:method[i]}))},function(D,E){'use strict';function R(P,F){return P-F}E.sum=function(F){for(var P=0,T=0;T<F.length;T++)P+=F[T];return P},E.max=function(F){for(var P=F[0],T=F.length,O=1;O<T;O++)F[O]>P&&(P=F[O]);return P},E.min=function(F){for(var P=F[0],T=F.length,O=1;O<T;O++)F[O]<P&&(P=F[O]);return P},E.minMax=function(F){for(var T=F[0],O=F[0],$=F.length,Z=1;Z<$;Z++)F[Z]<T&&(T=F[Z]),F[Z]>O&&(O=F[Z]);return{min:T,max:O}},E.arithmeticMean=function(F){for(var T=0,O=F.length,$=0;$<O;$++)T+=F[$];return T/O},E.mean=E.arithmeticMean,E.geometricMean=function(F){for(var T=1,O=F.length,$=0;$<O;$++)T*=F[$];return _Mathpow(T,1/O)},E.logMean=function(F){for(var T=0,O=F.length,$=0;$<O;$++)T+=_Mathlog(F[$]);return T/O},E.grandMean=function(F,T){for(var O=0,$=0,Z=F.length,W=0;W<Z;W++)O+=T[W]*F[W],$+=T[W];return O/$},E.truncatedMean=function(F,T,O){O===void 0&&(O=!1),O||(F=[].concat(F).sort(R));for(var $=F.length,Z=_Mathfloor($*T),W=0,K=Z;K<$-Z;K++)W+=F[K];return W/($-2*Z)},E.harmonicMean=function(F){for(var T=0,O=F.length,$=0;$<O;$++){if(0===F[$])throw new RangeError('value at index '+$+'is zero');T+=1/F[$]}return O/T},E.contraHarmonicMean=function(F){for(var T=0,O=0,$=F.length,Z=0;Z<$;Z++)T+=F[Z]*F[Z],O+=F[Z];if(0>O)throw new RangeError('sum of values is negative');return T/O},E.median=function(F,T){T===void 0&&(T=!1),T||(F=[].concat(F).sort(R));var O=F.length,$=_Mathfloor(O/2);return 0==O%2?0.5*(F[$-1]+F[$]):F[$]},E.variance=function(F,T){T===void 0&&(T=!0);for(var O=E.mean(F),$=0,Z=F.length,W=0,K;W<Z;W++)K=F[W]-O,$+=K*K;return T?$/(Z-1):$/Z},E.standardDeviation=function(F,T){return _Mathsqrt(E.variance(F,T))},E.standardError=function(F){return E.standardDeviation(F)/_Mathsqrt(F.length)},E.robustMeanAndStdev=function(F){var T=0,O=0,$=F.length,Z=0;for(Z=0;Z<$;Z++)T+=F[Z];T/=$;var W=Array($);for(Z=0;Z<$;Z++)W[Z]=_Mathabs(F[Z]-T);return W.sort(R),O=1==$%2?W[($-1)/2]/0.6745:0.5*(W[$/2]+W[$/2-1])/0.6745,{mean:T,stdev:O}},E.quartiles=function(F,T){'undefined'==typeof T&&(T=!1),T||(F=[].concat(F).sort(R));var O=F.length/4,$=F[_Mathceil(O)-1],Z=E.median(F,!0),W=F[_Mathceil(3*O)-1];return{q1:$,q2:Z,q3:W}},E.pooledStandardDeviation=function(F,T){return _Mathsqrt(E.pooledVariance(F,T))},E.pooledVariance=function(F,T){'undefined'==typeof T&&(T=!0);for(var O=0,$=0,Z=F.length,W=0;W<Z;W++){var K=F[W],Q=E.variance(K);O+=(K.length-1)*Q,$+=T?K.length-1:K.length}return O/$},E.mode=function(F){var T=F.length,O=Array(T),$;for($=0;$<T;$++)O[$]=0;var Z=Array(T),W=0;for($=0;$<T;$++){var K=Z.indexOf(F[$]);0<=K?O[K]++:(Z[W]=F[$],O[W]=1,W++)}var Q=0,G=0;for($=0;$<W;$++)O[$]>Q&&(Q=O[$],G=$);return Z[G]},E.covariance=function(F,T,O){'undefined'==typeof O&&(O=!0);var $=E.mean(F),Z=E.mean(T);if(F.length!==T.length)throw'Vectors do not have the same dimensions';for(var W=0,K=F.length,Q=0;Q<K;Q++){var G=F[Q]-$,ee=T[Q]-Z;W+=G*ee}return O?W/(K-1):W/K},E.skewness=function(F,T){'undefined'==typeof T&&(T=!0);for(var O=E.mean(F),$=0,Z=0,W=F.length,K=0,Q;K<W;K++)Q=F[K]-O,$+=Q*Q,Z+=Q*Q*Q;var G=$/W,ee=Z/W,te=ee/_Mathpow(G,3/2);if(T){var ne=_Mathsqrt(W*(W-1));return ne/(W-2)*te}return te},E.kurtosis=function(F,T){'undefined'==typeof T&&(T=!0);for(var O=E.mean(F),$=F.length,Z=0,W=0,K=0,Q;K<$;K++)Q=F[K]-O,Z+=Q*Q,W+=Q*Q*Q*Q;var G=Z/$,ee=W/$;if(T){var te=Z/($-1),oe=W/(te*te);return $*($+1)/(($-1)*($-2)*($-3))*oe-3*(($-1)*($-1)/(($-2)*($-3)))}return ee/(G*G)-3},E.entropy=function(F,T){'undefined'==typeof T&&(T=0);for(var O=0,$=F.length,Z=0;Z<$;Z++)O+=F[Z]*_Mathlog(F[Z]+T);return-O},E.weightedMean=function(F,T){for(var O=0,$=F.length,Z=0;Z<$;Z++)O+=F[Z]*T[Z];return O},E.weightedStandardDeviation=function(F,T){return _Mathsqrt(E.weightedVariance(F,T))},E.weightedVariance=function(F,T){for(var O=E.weightedMean(F,T),$=0,Z=F.length,W=0,K=0,Q=0;Q<Z;Q++){var G=F[Q]-O,ee=T[Q];$+=ee*(G*G),K+=ee,W+=ee*ee}return $*(K/(K*K-W))},E.center=function(F,T){'undefined'==typeof T&&(T=!1);var O=F;T||(O=[].concat(F));for(var $=E.mean(O),Z=O.length,W=0;W<Z;W++)O[W]-=$},E.standardize=function(F,T,O){'undefined'==typeof T&&(T=E.standardDeviation(F)),'undefined'==typeof O&&(O=!1);for(var $=F.length,Z=O?F:Array($),W=0;W<$;W++)Z[W]=F[W]/T;return Z},E.cumulativeSum=function(F){var T=F.length,O=Array(T);O[0]=F[0];for(var $=1;$<T;$++)O[$]=O[$-1]+F[$];return O}},function(D,E,I){'use strict';E.SpinSystem=I(140),E.simulate1D=I(142),E.simulate2D=I(143)},function(D,E,I){'use strict';function R(F){if('number'!=typeof F||P(F))throw new TypeError('Expected a number')}var P=I(144);E.asc=function(F,T){return R(F),R(T),F-T},E.desc=function(F,T){return R(F),R(T),T-F}},function(D,E,I){'use strict';function R(Z,W){if(65537>W&&(Z.subarray&&T||!Z.subarray&&F))return _StringfromCharCode.apply(null,P.shrinkBuf(Z,W));for(var K='',Q=0;Q<W;Q++)K+=_StringfromCharCode(Z[Q]);return K}var P=I(2),F=!0,T=!0;try{_StringfromCharCode.apply(null,[0])}catch(Z){F=!1}try{_StringfromCharCode.apply(null,new Uint8Array(1))}catch(Z){T=!1}for(var O=new P.Buf8(256),$=0;256>$;$++)O[$]=252<=$?6:248<=$?5:240<=$?4:224<=$?3:192<=$?2:1;O[254]=O[254]=1,E.string2buf=function(Z){var te=Z.length,ne=0,W,K,Q,G,ee;for(G=0;G<te;G++)K=Z.charCodeAt(G),55296==(64512&K)&&G+1<te&&(Q=Z.charCodeAt(G+1),56320==(64512&Q)&&(K=65536+(K-55296<<10)+(Q-56320),G++)),ne+=128>K?1:2048>K?2:65536>K?3:4;for(W=new P.Buf8(ne),ee=0,G=0;ee<ne;G++)K=Z.charCodeAt(G),55296==(64512&K)&&G+1<te&&(Q=Z.charCodeAt(G+1),56320==(64512&Q)&&(K=65536+(K-55296<<10)+(Q-56320),G++)),128>K?W[ee++]=K:2048>K?(W[ee++]=192|K>>>6,W[ee++]=128|63&K):65536>K?(W[ee++]=224|K>>>12,W[ee++]=128|63&K>>>6,W[ee++]=128|63&K):(W[ee++]=240|K>>>18,W[ee++]=128|63&K>>>12,W[ee++]=128|63&K>>>6,W[ee++]=128|63&K);return W},E.buf2binstring=function(Z){return R(Z,Z.length)},E.binstring2buf=function(Z){for(var W=new P.Buf8(Z.length),K=0,Q=W.length;K<Q;K++)W[K]=Z.charCodeAt(K);return W},E.buf2string=function(Z,W){var K,Q,G,ee,te=W||Z.length,ne=Array(2*te);for(Q=0,K=0;K<te;){if(G=Z[K++],128>G){ne[Q++]=G;continue}if(ee=O[G],4<ee){ne[Q++]=65533,K+=ee-1;continue}for(G&=2===ee?31:3===ee?15:7;1<ee&&K<te;)G=G<<6|63&Z[K++],ee--;if(1<ee){ne[Q++]=65533;continue}65536>G?ne[Q++]=G:(G-=65536,ne[Q++]=55296|1023&G>>10,ne[Q++]=56320|1023&G)}return R(ne,Q)},E.utf8border=function(Z,W){var K;for(W=W||Z.length,W>Z.length&&(W=Z.length),K=W-1;0<=K&&128==(192&Z[K]);)K--;return 0>K?W:0===K?W:K+O[Z[K]]>W?K:W}},function(D){'use strict';D.exports=function(P,F,T,O){for(var $=0|65535&P,Z=0|65535&P>>>16,W=0;0!==T;){W=2e3<T?2e3:T,T-=W;do $=0|$+F[O++],Z=0|Z+$;while(--W);$%=65521,Z%=65521}return 0|($|Z<<16)}},function(D){'use strict';D.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(D){'use strict';var F=function(){for(var O=[],$=0,T;256>$;$++){T=$;for(var Z=0;8>Z;Z++)T=1&T?3988292384^T>>>1:T>>>1;O[$]=T}return O}();D.exports=function(T,O,$,Z){T^=-1;for(var Q=Z;Q<Z+$;Q++)T=T>>>8^F[255&(T^O[Q])];return-1^T}},function(D){'use strict';D.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg='',this.state=null,this.data_type=2,this.adler=0}},function(D){var I=function(){return this}();try{I=I||Function('return this')()||(1,eval)('this')}catch(R){'object'==typeof window&&(I=window)}D.exports=I},function(D){D.exports={cdcl3:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'ds',shift:7.26}],h2o:[{proton:'H2O',coupling:0,multiplicity:'bs',shift:1.56}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.1}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.17}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.1}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.36}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.28}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.19},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.22}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.98},{proton:'OHc',coupling:0,multiplicity:'s',shift:5.01},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.27},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.43}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.26}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.43}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.73}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.3}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.21},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.48}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.65},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.57},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.39}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.4},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.55}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.09},{proton:'NCH3',coupling:0,multiplicity:'s',shift:3.02},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.94}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:8.02},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.96},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.88}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.62}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.71}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.25},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.72},{proton:'OH',coupling:5,multiplicity:'s,t',shift:1.32}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.05},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.12},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.26}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.14},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.46},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.06}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.76}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.86},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.26}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.26}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.65}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.49},{proton:'OH',coupling:0,multiplicity:'s',shift:1.09}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.33}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:7},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.27}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.22},{proton:'CH',coupling:6,multiplicity:'sep',shift:4.04}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.62},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.29},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.68}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.07}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.85},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.76}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.36},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.17},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.25}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.03},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.53}]},'(cd3)2co':{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:2.05}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:2.84}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.96}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.09}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.05}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.36}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.18}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.13},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.13}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.96},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.22},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.41}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:8.02}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.43}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.87}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.63}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.11},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.41}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.56},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.47},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.28}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.28},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.46}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.97},{proton:'NCH3',coupling:0,multiplicity:'s',shift:3},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.83}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.96},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.94},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.78}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.52}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.59}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.12},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.57},{proton:'OH',coupling:5,multiplicity:'s,t',shift:3.39}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.97},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.05},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.2}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.07},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.45},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.96}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.28}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.87},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.29}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.28}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.59}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.31},{proton:'OH',coupling:0,multiplicity:'s',shift:3.12}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.43}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.27}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.1},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.9}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.58},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.35},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.76}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.13}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.79},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.63}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.32},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.5},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.5}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.96},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.45}]},dmso:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'quint',shift:2.5}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:3.33}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.91}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.09}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.07}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.37}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.11},{proton:'OHc',coupling:0,multiplicity:'s',shift:4.19}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.11},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.08}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.87},{proton:'OHc',coupling:0,multiplicity:'s',shift:6.65},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.18},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.36}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:8.32}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.4}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.9}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.76}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.09},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.38}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.51},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.38},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.24}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.24},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.43}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.96},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.94},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.78}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.95},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.89},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.73}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.54}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.57}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.06},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.44},{proton:'OH',coupling:5,multiplicity:'s,t',shift:4.63}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.99},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.03},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.17}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.07},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.43},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.91}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.34}],'grease^f':[],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.86},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.25}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.53}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.16},{proton:'OH',coupling:0,multiplicity:'s',shift:4.01}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.42}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.27}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.04},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.78}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.58},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.39},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.79}],silicone_greasei:[],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.76},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.6}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.3},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.18},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.25}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.93},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.43}]},c6d6:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:7.16}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:0.4}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.55}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.55}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.55}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.15}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.05},{proton:'OHc',coupling:0,multiplicity:'s',shift:1.55}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.07},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.04}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:7.05},{proton:'OHc',coupling:0,multiplicity:'s',shift:4.79},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.24},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.38}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:6.15}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.4}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:2.9}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:4.27}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.11},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.26}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.46},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.34},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.11}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.12},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.33}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.6},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.57},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.05}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.63},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.36},{proton:'CH3',coupling:0,multiplicity:'s',shift:1.86}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.68}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.35}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.96},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.34}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.65},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:3.89},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.92}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.58},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:1.81},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.85}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.41}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.92},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.36}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.89},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.24}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.4}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.07}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.94}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.86},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.23}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:0.95},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.67}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.53},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:6.66},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:6.98}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.29}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.4},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.57}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.11},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.02},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.13}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.96},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.4}]},cd3cn:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:1.94}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:2.13}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.96}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.08}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.96}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.37}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.16},{proton:'OHc',coupling:0,multiplicity:'s',shift:2.18}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.14},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.13}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.97},{proton:'OHc',coupling:0,multiplicity:'s',shift:5.2},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.22},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.39}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.58}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.44}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.81}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.44}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.12},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.42}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.53},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.45},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.29}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.28},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.45}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.97},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.96},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.83}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.92},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.89},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.77}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.5}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.6}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.12},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.54},{proton:'OH',coupling:5,multiplicity:'s,t',shift:2.47}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:1.97},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.06},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.2}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.06},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.43},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:0.96}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.51}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.86},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.27}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.89},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.28}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.57}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.28},{proton:'OH',coupling:0,multiplicity:'s',shift:2.16}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.31}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.87},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.29}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.09},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.87}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.57},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.33},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.73}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.08}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.8},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.64}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.33},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.2},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.2}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.96},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.45}]},cd3od:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:3.31}],h2o:[{proton:'H2O',coupling:0,multiplicity:'s',shift:4.87}],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.99}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.15}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.03}],benzene:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.33}],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.4}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.15},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.2}],bhtb:[{proton:'ArH',coupling:0,multiplicity:'s',shift:6.92},{proton:'ArCH3',coupling:0,multiplicity:'s',shift:2.21},{proton:'ArC(CH3)3',coupling:0,multiplicity:'s',shift:1.4}],chloroform:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.9}],cyclohexane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:1.45}],'1,2-dichloroethane':[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.78}],dichloromethane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:5.49}],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.18},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.49}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.61},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.58},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.35}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.35},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.52}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.07},{proton:'NCH3',coupling:0,multiplicity:'s',shift:3.31},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.92}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.97},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.99},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.86}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.65}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.66}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.19},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.6}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.01},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.09},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.24}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.12},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:2.5},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.01}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.59}],'grease^f':[{proton:'CH3',coupling:0,multiplicity:'m',shift:0.88},{proton:'CH2',coupling:0,multiplicity:'br_s',shift:1.29}],'n-hexane':[{proton:'CH3',coupling:0,multiplicity:'t',shift:0.9},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.29}],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.64}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.34}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.34}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.89},{proton:'CH2',coupling:0,multiplicity:'m',shift:1.29}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.5},{proton:'CH',coupling:6,multiplicity:'sep',shift:3.92}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.53},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.44},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.85}],silicone_greasei:[{proton:'CH3',coupling:0,multiplicity:'s',shift:0.1}],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.87},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.71}],toluene:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.32},{proton:'CH(o/p)',coupling:0,multiplicity:'m',shift:7.16},{proton:'CH(m)',coupling:0,multiplicity:'m',shift:7.16}],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.05},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.58}]},d2o:{tms:[{proton:'X',coupling:0,multiplicity:'',shift:0}],solvent_residual_peak:[{proton:'X',coupling:0,multiplicity:'',shift:4.79}],h2o:[],acetic_acid:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.08}],acetone:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.22}],acetonitrile:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.06}],benzene:[],'tert-butyl_alcohol':[{proton:'CH3',coupling:0,multiplicity:'s',shift:1.24}],'tert-butyl_methyl_ether':[{proton:'CCH3',coupling:0,multiplicity:'s',shift:1.21},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.22}],bhtb:[],chloroform:[],cyclohexane:[],'1,2-dichloroethane':[],dichloromethane:[],diethyl_ether:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.17},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.56}],diglyme:[{proton:'CH2',coupling:0,multiplicity:'m',shift:3.67},{proton:'CH2',coupling:0,multiplicity:'m',shift:3.61},{proton:'OCH3',coupling:0,multiplicity:'s',shift:3.37}],'1,2-dimethoxyethane':[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.37},{proton:'CH2',coupling:0,multiplicity:'s',shift:3.6}],dimethylacetamide:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.08},{proton:'NCH3',coupling:0,multiplicity:'s',shift:3.06},{proton:'NCH3',coupling:0,multiplicity:'s',shift:2.9}],dimethylformamide:[{proton:'CH',coupling:0,multiplicity:'s',shift:7.92},{proton:'CH3',coupling:0,multiplicity:'s',shift:3.01},{proton:'CH3',coupling:0,multiplicity:'s',shift:2.85}],dimethyl_sulfoxide:[{proton:'CH3',coupling:0,multiplicity:'s',shift:2.71}],dioxane:[{proton:'CH2',coupling:0,multiplicity:'s',shift:3.75}],ethanol:[{proton:'CH3',coupling:7,multiplicity:'t',shift:1.17},{proton:'CH2',coupling:7,multiplicity:'q',shift:3.65}],ethyl_acetate:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.07},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:4.14},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.24}],ethyl_methyl_ketone:[{proton:'CH3CO',coupling:0,multiplicity:'s',shift:2.19},{proton:'CH2CH3',coupling:7,multiplicity:'q',shift:3.18},{proton:'CH2CH3',coupling:7,multiplicity:'t',shift:1.26}],ethylene_glycol:[{proton:'CH',coupling:0,multiplicity:'s',shift:3.65}],'grease^f':[],'n-hexane':[],hmpag:[{proton:'CH3',coupling:9.5,multiplicity:'d',shift:2.61}],methanol:[{proton:'CH3',coupling:0,multiplicity:'s',shift:3.34}],nitromethane:[{proton:'CH3',coupling:0,multiplicity:'s',shift:4.4}],'n-pentane':[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.9}],'2-propanol':[{proton:'CH3',coupling:6,multiplicity:'d',shift:1.17},{proton:'CH',coupling:6,multiplicity:'sep',shift:4.02}],pyridine:[{proton:'CH(2)',coupling:0,multiplicity:'m',shift:8.52},{proton:'CH(3)',coupling:0,multiplicity:'m',shift:7.45},{proton:'CH(4)',coupling:0,multiplicity:'m',shift:7.87}],silicone_greasei:[],tetrahydrofuran:[{proton:'CH2',coupling:0,multiplicity:'m',shift:1.88},{proton:'CH2O',coupling:0,multiplicity:'m',shift:3.74}],toluene:[],triethylamine:[{proton:'CH3',coupling:7,multiplicity:'t',shift:0.99},{proton:'CH2',coupling:7,multiplicity:'q',shift:2.57}]}}},function(D,E,I){'use strict';const R=I(9),P=I(21),F=I(27),T=I(77),O=I(53),$=I(61);class Z extends R{constructor(W){super(W)}static fromSignals(W,K={}){K=Object.assign({},{nbPoints:16384,maxClusterSize:8,output:'xy'},K);const Q=O.SpinSystem.fromPrediction(W);Q.ensureClusterSize(K);var G=O.simulate1D(Q,K);return Z.fromXY(G.x,G.y,K)}static fromXY(W,K,Q){Q=Object.assign({},Q,{xUnit:'PPM',yUnit:'Intensity',dataType:'NMR'});var G=R.fromXY(W,K,Q),ee=G.sd.spectra[0];return ee.observeFrequency=Q.frequency||400,G.putParam('observeFrequency',ee.observeFrequency),G.putParam('.SOLVENTNAME',Q.solvent||'none'),G.putParam('.$SW_h',_Mathabs(ee.lastX-ee.firstX)*ee.observeFrequency),G.putParam('.$SW',_Mathabs(ee.lastX-ee.firstX)),G.putParam('.$TD',ee.nbPoints),G.sd.xType=Q.nucleus||'1H',new Z(G.sd)}static fromBruker(W,K){K=Object.assign({},{xy:!0,keepSpectra:!0,keepRecordsRegExp:/^.+$/},K);var Q=null;return Q=Array.isArray(W)?F.converFolder(W,K):F.convertZip(W,K),Q?Q.map(function(G){return new Z(G)}):null}getNucleus(W){return W&&0!==W&&1!==W?'':this.sd.xType}getSolventName(){return(this.sd.info['.SOLVENTNAME']||this.sd.info.$SOLVENT||'').replace('<','').replace('>','')}observeFrequencyX(){return this.sd.spectra[0].observeFrequency}getNMRPeakThreshold(W){return'1H'===W?3:'13C'===W?5:1}fourierTransform(){return P.fourierTransform(this)}postFourierTransform(W){return P.phaseCorrection(0,W)}zeroFilling(W,K){return P.zeroFilling(this,W,K)}brukerFilter(){return P.digitalFilter(this,{brukerFilter:!0})}digitalFilter(W){return P.digitalFilter(this,W)}apodization(W,K){return P.apodization(this,{functionName:W,lineBroadening:K})}echoAntiechoFilter(){return this}SNVFilter(){return this}powerFilter(W){var K=this.getMinY();return 1>W&&0>K&&this.YShift(-1*K),this}phaseCorrection(W,K){return P.phaseCorrection(this,W,K)}getRanges(W){if(this.ranges)return this.ranges;var K=this.getPeaks(W);W=Object.assign({},{nH:this.totalIntegral},W);var Q=T(this,K,W);return Q}createRanges(W){return this.ranges=null,this.peaks=null,this.ranges=this.getRanges(W),this.ranges}getResidual(W){return this.getImpurity(W,'solvent_residual_peak')}getImpurities(W){return this.getImpurity(W,null)}getImpurity(W,K){W=W.toLowerCase(),'(cd3)2so'===W&&(W='dmso');var Q=$[W];return K&&(Q=Q[K.toLocaleLowerCase()]),Q}}D.exports=Z},function(D,E,I){'use strict';const R=I(9),P=I(76),F=I(22),T=I(27),O=I(21),$=I(6).array,Z=I(53).simulate2D;class W extends R{constructor(K){super(K)}static fromPrediction(K,Q){var G=Z(K,Q),ee=W.fromMatrix(G,Q),te=ee.toJcamp({type:'NTUPLES'});return W.fromJcamp(te)}static fromBruker(K,Q){Q=Object.assign({},{xy:!0,keepSpectra:!0,keepRecordsRegExp:/^.+$/},Q);var G=null;return G=Array.isArray(K)?T.converFolder(K,Q):T.convertZip(K,Q),G?G.map(function(ee){return new W(ee)}):null}static fromMatrix(K,Q){var G={profiling:[],logs:[]},ee=[];let te=K[0].length;G.spectra=ee,G.info={};let ne=Q.firstY||0,oe=Q.lastY||K.length-1,se=(oe-ne)/(K.length-1),le=Q.firstX||0,ae=Q.lastX||te-1,ue=Q.x;if(!ue){ue=Array(te);for(let me=0;me<te;me++)ue[me]=le+(oe-ne)/(te-1)*me}let pe=Q.frequencyX||400,ce=_NumberMAX_SAFE_INTEGER,he=_NumberMIN_SAFE_INTEGER;return K.forEach((me,ge)=>{var fe={};fe.isXYdata=!0,fe.nbPoints=te,fe.firstX=le,fe.firstY=me[0],fe.lastX=ae,fe.lastY=me[fe.nbPoints-1],fe.xFactor=1,fe.yFactor=1,fe.deltaX=(fe.lastX-fe.firstX)/(fe.nbPoints-1),fe.title=Q.title||'spectra-data from matrix',fe.dataType=Q.dataType||'nD NMR SPECTRUM',fe.observeFrequency=pe,fe.data=[{x:ue,y:me}],fe.page=ne+ge*se,G.xType=Q.xType||Q.nucleusX||'1H',ee.push(fe);let ye=$.minMax(me);ce=_Mathmin(ce,ye.min),he=_Mathmax(he,ye.max)}),G.ntuples=[{units:Q.xUnit||'PPM'},{units:Q.yUnit||'PPM'},{units:Q.zUnit||'Intensity'}],G.info['2D_Y_FREQUENCY']=Q.frequencyY||400,G.info['2D_X_FREQUENCY']=Q.frequencyX||400,G.info.observefrequency=G.info['2D_X_FREQUENCY'],G.info.$BF1=G.info.observefrequency,G.info['.SOLVENTNAME']=Q.solvent||'none',G.info.$SW_h=_Mathabs(ae-le)*pe,G.info.$SW=_Mathabs(ae-le),G.info.$TD=te,G.info.firstY=ne,G.info.lastY=oe,G.minMax={minY:ne,maxY:oe,minX:le,maxX:ae,minZ:ce,maxZ:he},G.yType=Q.yType||Q.nucleusY||'1H',G.twoD=!0,new W(G)}isHomoNuclear(){return this.sd.xType===this.sd.yType}observeFrequencyX(){return this.sd.spectra[0].observeFrequency}observeFrequencyY(){return this.sd.indirectFrequency}getSolventName(){return(this.sd.info['.SOLVENTNAME']||this.sd.info.$SOLVENT).replace('<','').replace('>','')}getXUnits(){return this.sd.ntuples[1].units}getYUnits(){return this.sd.ntuples[0].units}getZUnits(){return this.sd.ntuples[2].units}getLastY(){return this.sd.minMax.maxY}getFirstY(){return this.sd.minMax.minY}getDeltaY(){return(this.getLastY()-this.getFirstY())/(this.getNbSubSpectra()-1)}getMinZ(){return this.sd.minMax.minZ}getMaxZ(){return this.sd.minMax.maxZ}getZones(K){K=K||{},K.thresholdFactor||(K.thresholdFactor=1);var Q=_Mathround(255*Math.random());K.idPrefix&&(Q=K.idPrefix);for(var G=P(this,K.thresholdFactor),ee=0;ee<G.length;ee++)G[ee]._highlight=[Q+'_'+ee],G[ee].signalID=Q+'_'+ee;if(K.references&&F.alignDimensions(G,K.references),'new'===K.format){for(var te=Array(G.length),ne=G.length-1,oe;0<=ne;ne--)oe=G[ne],te[ne]={fromTo:oe.fromTo,integral:oe.intensity||1,remark:'',signal:[{peak:oe.peaks,delta:[oe.shiftX,oe.shiftY]}],_highlight:oe._highlight,signalID:oe.signalID};G=te}return this.zones=G,this.zones}getNMRPeakThreshold(K){return'1H'===K?3:'13C'===K?5:1}getNucleus(K){return 1===K?this.sd.xType:2===K?this.sd.yType:this.sd.xType}zeroFilling(K,Q){return O.zeroFilling(this,K,Q)}brukerFilter(){return O.digitalFilter(this,{brukerFilter:!0})}digitalFilter(K){return O.digitalFilter(this,K)}fourierTransform(){return O.fourierTransform(this)}postFourierTransform(K){return O.phaseCorrection(0,K)}}D.exports=W},function(D){'use strict';D.exports=function(P,F){let T=Object.assign({},F);return T?P:P}},function(D,E,I){'use strict';var P=I(68);D.exports=function(F,T){let O=F.activeElement;var $=0;T.nbPoints?$=T.nbPoints:T.brukerFilter&&($=0);var Z=F.getNbSubSpectra();if(0!==$)for(var W=0;W<Z;W++)F.setActiveElement(W),P(F.getYData(),$),T.rotateX&&(P(F.getXData(),$),F.setFirstX(F.getX(0)),F.setLastX(F.getX(F.getNbPoints()-1)));return F.setActiveElement(O),F}},function(D,E,I){'use strict';function P(T,O){var $=T.getParamDouble('$BF1',NaN),Z=T.getParamDouble('$SFO1',NaN),W=T.getParamDouble('$SW',NaN),K=1e6*((Z-$)/$),Q=0.5*W*Z/$;T.setDataType(O),T.setFirstX(K+Q),T.setLastX(K-Q),T.setXUnits('PPM');var G=T.getXData(),ee=K+Q;Q=-2*Q/(G.length-1);for(var te=0;te<G.length;te++)G[te]=ee,ee+=Q}const F=I(42);D.exports=function(T){var O=T.getNbPoints(),$=T.getNbSubSpectra()/2,Z='NMR SPECTRUM',W=F.FFT;1<$&&(Z='nD NMR SPECTRUM'),W.init(O);for(var K=T.getParamDouble('$FCOR',0),Q=0;Q<$;Q++){var G=T.getYData(2*Q),ee=T.getYData(2*Q+1);G[0]*=K,ee[0]*=K,W.fft(G,ee),G=G.concat(G.slice(0,(O+1)/2)),G.splice(0,(O+1)/2),ee=ee.concat(ee.slice(0,(O+1)/2)),ee.splice(0,(O+1)/2),T.setActiveElement(2*Q),P(T,Z),T.setActiveElement(2*Q+1),P(T,Z)}return T.is2D(),T.setActiveElement(0),T}},function(D){'use strict';D.exports=function(P,F,T){F=_NumberisFinite(F)?F:0,T=_NumberisFinite(T)?T:0;for(var O=P.getNbPoints(),$=P.getYData(0),Z=P.getYData(1),W=T/O,K=2*_Mathpow(_Mathsin(W/2),2),Q=_Mathsin(W),G=Math.cos(F),ee=_Mathsin(F),ae=0,te,ne,oe,se,le;ae<O;ae++)le=O-ae-1,le=ae,oe=$[le]*G-Z[le]*ee,se=$[le]*ee+Z[le]*G,$[le]=oe,Z[le]=se,te=G-(K*G+Q*ee),ne=ee-(K*ee-Q*G),G=te,ee=ne;return P.resetMinMax(),P.putParam('PHC0',F),P.putParam('PHC1',T),P}},function(D){'use strict';function P(F,T){return 0>F&&(F+=T),F>=T&&(F-=T),F}D.exports=function(F,T){var O=F.length;if(T%=O,_Mathabs(T)>O/2&&(T=0<T?T-O:T+O),0!==T)for(var $=0,Z=T,W=O,K=F[$],G=T,ee=0<T?1:-1,Q;0<W;)Z=P(Z,O),Q=F[Z],F[Z]=K,Z+=T,K=Q,W--,Z===G&&(Z=P(Z+ee,O),G=Z,$=P(Z-T,O),K=F[$])}},function(D){'use strict';D.exports=function(P,F){var T=P.getNbSubSpectra(),O,$,Z,W,K,Q;if(0!==F)for(var G=0;G<T;G++){for(P.setActiveElement(G),O=P.getNbPoints(),Q=P.getYData(),K=P.getXData(),$=P.getLastX(),Z=($-K[0])/(O-1),W=O;W<F;W++)Q.push(0),K.push($+Z);F<O&&(Q.splice(F,Q.length-1),K.splice(F,K.length-1)),P.setFirstX(K[0]),P.setLastX(K[K.length-1])}return P.setActiveElement(0),P}},function(D,E,I){'use strict';E.SD=I(9),E.NMR=I(62),E.NMR2D=I(63),E.Ranges=I(20)},function(D,E,I){'use strict';function R(K,Q,G,ee,te){var ne='',oe=K.getSpectraVariable(0),se=K.getSpectraVariable(1),le=K.getSpectraVariable(2);ne+='##DATA CLASS= NTUPLES'+O,ne+='##NUM DIM= 2'+O;var ae=K.getDataType().trim(),de={},ue;for(ue=0;ue<K.getNbSubSpectra();ue++)K.setActiveElement(ue),de[K.getXUnits()]?de[K.getXUnits()].value++:de[K.getXUnits()]={value:1,index:ue};var pe=Object.keys(de),ce=pe[0],he=0;for(ue=1;ue<pe.length;ue++)de[pe[ue]].value>de[ce].value&&(ce=pe[ue],he=de[pe[ue]].index);var me=!1;K.setActiveElement(he);var ge=0<=K.getDataType().indexOf('NMR');ge&&(ne+='##.OBSERVE FREQUENCY= '+K.getParamDouble('observefrequency',0)+O,ne+='##.OBSERVE NUCLEUS= ^'+K.getNucleus()+O,ne+='##$DECIM= '+K.getParamDouble('$DECIM',0)+O,ne+='##$DSPFVS= '+K.getParamDouble('$DSPFVS',0)+O,ne+='##$FCOR= '+_Mathfloor(K.getParamDouble('$FCOR',0))+O,K.containsParam('$SW_h')?ne+='##$SW_h= '+K.getParamDouble('$SW_h',0)+O:K.containsParam('$SW_p')&&(ne+='##$SW_p= '+K.getParamDouble('$SW_p',0)+O),ne+='##$SW= '+K.getParamDouble('$SW',0)+O,ne+='##$TD= '+_Mathfloor(K.getParamDouble('$TD',0))+O,ne+='##$BF1= '+K.getParamDouble('$BF1',0)+O,ne+='##$GRPDLY= '+K.getParamDouble('$GRPDLY',0)+O,ne+='##.DIGITISER RES= '+K.getParamInt('.DIGITISER RES',0)+O,ne+='##.PULSE SEQUENCE= '+K.getParamString('.PULSE SEQUENCE','')+O,ne+='##.SOLVENT NAME= '+K.getSolventName()+O,ne+='##$NUC1= <'+K.getNucleus()+'>'+O,ne+=K.containsParam('2D_X_FREQUENCY')?'##$SFO1= '+K.getParamDouble('2D_X_FREQUENCY',0)+O:'##$SFO1= '+K.getParamDouble('$SFO1',0)+O,K.containsParam('2D_X_OFFSET')&&(ne+='##$OFFSET= '+K.getParamDouble('2D_X_OFFSET',0)+O),K.is2D()&&(ne+='$$Parameters for 2D NMR Spectrum'+O,ne+='##$NUC1= <'+K.getNucleus(2)+'>'+O,K.containsParam('2D_Y_FREQUENCY')&&(ne+='##$SFO1= '+K.getParamDouble('2D_Y_FREQUENCY',0)+O,ne+='##$SFO2= '+K.getParamDouble('2D_Y_FREQUENCY',0)+O,ne+='##$BF2= '+K.getParamDouble('2D_Y_FREQUENCY',0)+O),K.containsParam('2D_Y_OFFSET')&&(ne+='##$OFFSET= '+K.getParamDouble('2D_Y_OFFSET',0)+O),ne+='$$End of Parameters for 2D NMR Spectrum'+O)),ne+='##NTUPLES=\t'+ae+O;var fe=1,ye=1;if(!K.is2D()&&1<K.getNbSubSpectra()&&ge&&(me=!0),me?(ne+='##VAR_NAME=\t'+K.getXUnits()+',\t'+ae.substring(4)+'/REAL,\t'+ae.substring(4)+'/IMAG'+O,ne+='##SYMBOL=\tX,\tR,\tI'+O,ne+='##VAR_TYPE=\tINDEPENDENT,\tDEPENDENT,\tDEPENDENT'+O,ne+='CSV'!==ee||'PAC'!==ee?'##VAR_FORM=\tAFFN,\tASDF,\tASDF'+O:'##VAR_FORM=\tAFFN,\tAFFN,\tAFFN'+O,ne+='##VAR_DIM=\t'+K.getNbPoints()+',\t'+K.getNbPoints()+',\t'+K.getNbPoints()+O,ne+='##UNITS=\\tHZ,\\t'+K.getYUnits()+',\t'+le.units+O,ne+='##FACTOR=\t'+1/G+',\t'+1/Q+',\t'+1/Q+O,'PPM'===K.getXUnits()&&(fe=K.observeFrequencyX()),ne+='##FIRST=\t'+K.getFirstX()*fe+',\t'+K.getY(0)+',\t0'+O,ne+='##LAST=\t'+K.getLastX()*fe+',\t'+K.getLastY()+',\t0'+O):(fe=1,K.is2D()?(ne+='##VAR_NAME=\tFREQUENCY1,\tFREQUENCY2,\tSPECTRUM'+O,ne+='##SYMBOL=\tF1,\tF2,\tY'+O,ne+='##.NUCLEUS=\t'+K.getNucleus(2)+',\t'+K.getNucleus(1)+O,ne+='##VAR_TYPE=\tINDEPENDENT,\tINDEPENDENT,\tDEPENDENT'+O,ne+='CSV'!==ee||'PAC'!==ee?'##VAR_FORM=\tAFFN,\tAFFN,\tASDF'+O:'##VAR_FORM=\tAFFN,\tAFFN,\tASDF'+O,ne+='##VAR_DIM=\t'+K.getNbSubSpectra()+',\t'+K.getNbPoints()+',\t'+K.getNbPoints()+O,ne+='##UNITS=\tHZ,\tHZ,\t'+K.getZUnits()+O,'PPM'===K.getXUnits()&&(fe=K.getParamDouble('2D_Y_FREQUENCY',1)),'PPM'===K.getYUnits()&&(ye=K.getParamDouble('2D_X_FREQUENCY',1)),ne+='##FACTOR=\t1,\t'+ye/G+',\t'+1/Q+O,ne+='##FIRST=\t'+K.getParamDouble('firstY',0)*fe+',\t'+K.getFirstX()*ye+',\t'+K.getY(0)+O,ne+='##LAST=\t'+K.getParamDouble('lastY',0)*fe+',\t'+K.getLastX()*ye+',\t'+K.getY(K.getNbPoints()-1)+O):(ne+='##VAR_NAME=\t'+oe.varname+',\t'+se.varname+',\t'+oe.varname+O,ne+='##SYMBOL=\t'+oe.symbol+',\t'+se.symbol+',\t'+le.symbol+O,ne+='##VAR_TYPE=\t'+oe.vartype+',\t'+se.vartype+',\t'+le.vartype+O,ne+='CSV'!==ee||'PAC'!==ee?'##VAR_FORM=\tAFFN,\tASDF,\tASDF'+O:'##VAR_FORM=\tAFFN,\tAFFN,\tAFFN'+O,ne+='##VAR_DIM=\t'+oe.vardim+',\t'+se.vardim+',\t'+le.vardim+O,ne+='##UNITS=\\tHZ,\\t'+K.getYUnits()+',\t'+le.units+O,'PPM'===K.getXUnits()&&(fe=K.observeFrequencyX()),ne+='##FACTOR=\t'+1/G+',\t'+1/Q+O,ne+='##FIRST=\t'+oe.first*fe+',\t'+se.first+',\t'+le.first+O,ne+='##LAST=\t'+oe.last*fe+',\t'+se.last+',\t'+le.last+O)),null!==te)for(var xe=te.length-1;0<=xe;xe--)K.containsParam(te[xe])&&(ne+='##'+te[xe]+'= '+K.getParam(te[xe],'')+O);var be=0,_e=0,ke=1;for(K.is2D()&&ge&&(be=K.getParamDouble('firstY',0)*fe,_e=K.getParamDouble('lastY',0)*fe,ke=(_e-be)/(K.getNbSubSpectra()-1)),ue=0;ue<K.getNbSubSpectra();ue++)if(K.setActiveElement(ue),be=K.getParamDouble('firstY',0)*fe+ke*ue,ne+='##PAGE= '+be+O,K.is2D()&&ge&&(ne+='##FIRST=\t'+K.getParamDouble('firstY',0)*fe+',\t'+K.getFirstX()*ye+',\t'+K.getY(0)+O),ne+='##DATA TABLE= ',K.isDataClassPeak()){ne+='(XY..XY), PEAKS'+O;for(let je=0;je<K.getNbPoints();je++)ne+=K.getX(je)+', '+K.getY(je)+O}else if(K.isDataClassXY()){ne+=ge?K.is2D()?'(F2++(Y..Y)), PROFILE'+O:0==ue%2?'(X++(R..R)), XYDATA'+O:'(X++(I..I)), XYDATA'+O:'(X++(Y..Y)), XYDATA'+O;var we='',Ce=Array(K.getNbPoints());for(let je=Ce.length-1;0<=je;je--)Ce[je]=_Mathround(K.getY(je)*Q);we+=F.encode(Ce,K.getFirstX()*G,K.getDeltaX()*G,ee),ne+=we+O}return ne+='##END NTUPLES= '+ae+O,ne+='##END= ',K.setActiveElement(0),ne}function P(K,Q,G,ee,te){var ne='';if(K.isDataClassPeak()&&(ne+='##DATA CLASS= PEAK TABLE'+O),K.isDataClassXY()&&(ne+='##DATA CLASS= XYDATA'+O),K.setActiveElement(0),0<=K.getDataType().indexOf('NMR')&&(ne+='##.OBSERVE FREQUENCY= '+K.getParamDouble('observefrequency',0)+O,ne+='##.OBSERVE NUCLEUS= ^'+K.getNucleus()+O,ne+='##$DECIM= '+_Mathround(K.getParamDouble('$DECIM',0))+O,ne+='##$DSPFVS= '+_Mathround(K.getParamDouble('$DSPFVS',0))+O,ne+='##$FCOR= '+_Mathround(K.getParamDouble('$FCOR',0))+O,ne+='##$SW_h= '+K.getParamDouble('$SW_h',0)+O,ne+='##$SW= '+K.getParamDouble('$SW',0)+O,ne+='##$TD= '+_Mathround(K.getParamDouble('$TD',0))+O,ne+='##$GRPDLY= '+K.getParamDouble('$GRPDLY',0)+O,ne+='##$BF1= '+K.getParamDouble('$BF1',0)+O,ne+='##$SFO1= '+K.getParamDouble('$SFO1',0)+O,ne+='##$NUC1= <'+K.getNucleus()+'>'+O,ne+='##.SOLVENT NAME= '+K.getSolventName()+O),ne+='##XUNITS=\t'+K.getXUnits()+O,ne+='##YUNITS=\t'+K.getYUnits()+O,ne+='##NPOINTS=\t'+K.getNbPoints()+O,ne+='##FIRSTX=\t'+K.getFirstX()+O,ne+='##LASTX=\t'+K.getLastX()+O,ne+='##FIRSTY=\t'+K.getFirstY()+O,ne+='##LASTY=\t'+K.getLastY()+O,K.isDataClassPeak()?(ne+='##XFACTOR=1'+O,ne+='##YFACTOR=1'+O):K.isDataClassXY()&&(ne+='##XFACTOR= '+1/G+O,ne+='##YFACTOR= '+1/Q+O),ne+='##MAXY= '+K.getMaxY()+O,ne+='##MINY= '+K.getMinY()+O,null!==te)for(var oe=te.length-1;0<=oe;oe--)K.containsParam(te[oe])&&(ne+='##'+te[oe]+'= '+K.getParam(te[oe],'')+O);if(K.isDataClassPeak()){ne+='##PEAK TABLE= (XY..XY)'+O;for(var se=0;se<K.getNbPoints();se++)ne+=K.getX(se)+', '+K.getY(se)+O;ne+='##END '}else if(K.isDataClassXY()){ne+='##DELTAX= '+K.getDeltaX()+O,ne+='##XYDATA=(X++(Y..Y))'+O;var le='',ae=Array(K.getNbPoints());for(let de=ae.length-1;0<=de;de--)ae[de]=_Mathround(K.getY(de)*Q);le+=F.encode(ae,K.getFirstX()*G,K.getDeltaX()*G,ee),ne+=le+O,ne+='##END= '}return K.setActiveElement(0),ne}const F=I(72),T={MAX_VALUE:_NumberMAX_SAFE_INTEGER,MIN_VALUE:_NumberMIN_SAFE_INTEGER},O='\r\n',$='Cheminfo tools '+I(158).version,Z={encode:'DIFDUP',yFactor:1,type:'SIMPLE',keep:[]};D.exports=class{convert(K,Q){Q=Object.assign({},Z,Q);const G=Q.encode.toUpperCase().trim(),ee=Q.yFactor||1;let te=Q.type;const ne=Q.keep;(null===te||0===te.length)&&(te='SIMPLE');var oe='';K.setActiveElement(0);var se=ee/K.getParamDouble('YFACTOR',1);let le={};le=K.is2D()?{min:K.getMinZ(),max:K.getMaxZ()}:K.getMinMaxY(),le.max*se>=T.MAX_VALUE/2&&(se=T.MAX_VALUE/(2*le.max)),16>_Mathabs(le.max-le.min)*se&&(se=16/_Mathabs(le.max-le.min));var ae=_Mathabs(1/K.getDeltaX());return oe+='##TITLE= '+K.getTitle()+O,oe+='##JCAMP-DX= 5.00\t$$'+$+O,oe+='##OWNER= '+K.getParamString('##OWNER=','')+O,oe+='##DATA TYPE= '+K.getDataType()+O,'NTUPLES'===te&&(oe+=R(K,se,ae,G,ne)),'SIMPLE'===te&&(oe+=P(K,se,ae,G,ne)),oe}}},function(D){'use strict';function P(de,ue,pe){return F(de,ue,pe,',')}function F(de,ue,pe,ce){ce||(ce=' ');for(var he='',me=0,ge=de.length,fe;me<ge-7;){for(he+=_Mathceil(ue+me*pe),fe=0;8>fe;fe++)he+=ce+de[me++];he+=G}if(me<ge)for(he+=_Mathceil(ue+me*pe),fe=me;fe<ge;fe++)he+=ce+de[fe];return he}function T(de,ue,pe){for(var ce='',he=0,me=de.length,ge;he<me-7;){for(ce+=_Mathceil(ue+he*pe),ge=0;8>ge;ge++)ce+=0>de[he]?'-'+de[he++]:'+'+de[he++];ce+=G}if(he<me)for(ce+=_Mathceil(ue+he*pe),ge=he;ge<me;ge++)ce+=0>de[ge]?'-'+de[ge]:'+'+de[ge];return ce}function O(de,ue,pe){for(var ce='',he=0,me=de.length,ge;he<me-10;){for(ce+=_Mathceil(ue+he*pe),ge=0;10>ge;ge++)ce+=W(de[he++].toString());ce+=G}if(he<me)for(ce+=_Mathceil(ue+he*pe),ge=he;ge<me;ge++)ce+=W(de[ge].toString());return ce}function $(de,ue,pe){var ce=0,he=0,me=0,fe='',ye='',xe='',be=Array(de.length-1),ge;for(ge=0;ge<be.length;ge++)be[ge]=de[ge+1]-de[ge];for(var _e=be.length;he<_e;)0==me?(ye=_Mathceil(ue+he*pe)+W(de[he].toString())+K(be[he].toString()),fe+=ye,me+=ye.length):be[he-1]===be[he]?ce++:0<ce?(ce++,ye=Q(ce.toString()),fe+=ye,me+=ye.length,ce=0,he--):(ye=K(be[he].toString()),ye.length+me<ae?(fe+=ye,me+=ye.length):(fe+=G,xe=_Mathceil(ue+he*pe)+W(de[he].toString())+ye,fe+=xe,me=xe.length)),he++;return 0<ce&&(fe+=Q((ce+1).toString())),fe+=G+_Mathceil(ue+he*pe)+W(de[he].toString()),fe}function Z(de,ue,pe){var ce=0,he=0,ge='',fe='',ye='',xe=Array(de.length-1),me;for(me=0;me<xe.length;me++)xe[me]=de[me+1]-de[me];ce=0;for(var be=xe.length;ce<be;)0==he?(fe=_Mathceil(ue+ce*pe)+W(de[ce].toString())+K(xe[ce].toString()),ge+=fe,he+=fe.length):(fe=K(xe[ce].toString()),fe.length+he<ae?(ge+=fe,he+=fe.length):(ge+=G,ye=_Mathceil(ue+ce*pe)+W(de[ce].toString())+fe,ge+=ye,he=ye.length)),ce++;return ge+=G+_Mathceil(ue+ce*pe)+W(de[ce].toString()),ge}function W(de){var ue='';return'-'===de.charAt(0)?(ue+=ee[ne][de.charAt(1)],2<de.length&&(ue+=de.substring(2))):(ue+=ee[te][de.charAt(0)],1<de.length&&(ue+=de.substring(1))),ue}function K(de){var ue='';return'-'===de.charAt(0)?(ue+=ee[se][de.charAt(1)],2<de.length&&(ue+=de.substring(2))):(ue+=ee[oe][de.charAt(0)],1<de.length&&(ue+=de.substring(1))),ue}function Q(de){var ue='';return ue+=ee[le][de.charAt(0)],1<de.length&&(ue+=de.substring(1)),ue}const G='\r\n',ee=[['0','1','2','3','4','5','6','7','8','9'],['@','A','B','C','D','E','F','G','H','I'],['@','a','b','c','d','e','f','g','h','i'],['%','J','K','L','M','N','O','P','Q','R'],['%','j','k','l','m','n','o','p','q','r'],[' ','S','T','U','V','W','X','Y','Z','s']],te=1,ne=2,oe=3,se=4,le=5,ae=100;D.exports={encode:function(de,ue,pe,ce){return'FIX'===ce?F(de,ue,pe):'SQZ'===ce?O(de,ue,pe):'DIF'===ce?Z(de,ue,pe):'DIFDUP'===ce?$(de,ue,pe):'CSV'===ce?P(de,ue,pe):'PAC'===ce?T(de,ue,pe):Z(de,ue,pe)},fixEncoding:F,commaSeparatedValuesEncoding:P,packedEncoding:T,squeezedEncoding:O,differenceDuplicateEncoding:$,differenceEncoding:Z}},function(D,E,I){'use strict';function R(O,$,Z){for(var G=$.length,W,K,Q;G--;)for(W=O.length;W--;)if(!O[W].asymmetric&&(K=Z.error+_Mathabs(O[W].from-O[W].to)/2,Q=_Mathabs($[G].shift-_Mathabs(O[W].from+O[W].to)/2),Q<K)){O.splice(W,1);break}}const F=I(61),T=['solvent_residual_peak','H2O','TMS'];D.exports=function(O,$={}){var Z=$.solvent,W=Z===void 0?'':Z,K=$.nH,Q=K===void 0?99:K,G=$.sumObserved,ee=G===void 0?0:G,te=$.error,ne=te===void 0?0.025:te;W=W.toLowerCase(),'(cd3)2so'===W&&(W='dmso');var oe=F[W];if(oe){var se=!0,le=!1,ae;try{for(var de=T[Symbol.iterator](),ue;!(se=(ue=de.next()).done);se=!0){let ce=ue.value,he=oe[ce.toLowerCase()];R(O,he,{error:ne})}}catch(ce){le=!0,ae=ce}finally{try{!se&&de.return&&de.return()}finally{if(le)throw ae}}for(var pe=0;pe<O.length;pe++)ee+=O[pe].integral;if(ee!==Q)for(ee=Q/ee;pe--;)O[pe].integral*=ee}return O}},function(D){'use strict';function R(se,le){var ae=se.peaksComp,de=ae.length;se.startX=ae[0].x/se.observe-ae[0].width,se.stopX=ae[de-1].x/se.observe+ae[de-1].width,se.integralData.from=ae[0].x/se.observe-3*ae[0].width,se.integralData.to=ae[de-1].x/se.observe+3*ae[de-1].width,se.maskPattern=se.mask2,se.multiplicity=P(se,le),se.pattern=se.multiplicity}function P(se,le){var ue='',pe=1,ce=[],de;if(le&&0<le.length){for(le.sort(function(he,me){return me-he}),de=0;de<le.length-1;de++)_Mathabs(le[de]-le[de+1])<0.05?pe++:(ce.push({coupling:_Mathabs(le[de]),multiplicity:ee[pe]}),ue+=ee[pe],pe=1);ce.push({coupling:_Mathabs(le[de]),multiplicity:ee[pe]}),ue+=ee[pe],se.nmrJs=ce}else ue='s',16<_Mathabs(se.startX-se.stopX)*se.observe&&(ue='br s');return ue}function F(se){var le=_Mathpow(2,se.length),ae,de,ue=[{x:0,intensity:le}];for(ae=0;ae<se.length;ae++)for(de=ue.length-1;0<=de;de--)ue.push({x:ue[de].x+se[ae]/2,intensity:ue[de].intensity/2}),ue[de].x-=se[ae]/2,ue[de].intensity/=2;for(ue.sort(function(ce,he){return ce.x-he.x}),de=ue.length-2;0<=de;de--)0.1>_Mathabs(ue[de].x-ue[de+1].x)&&(ue[de].intensity+=ue[de+1].intensity,ue.splice(de+1,1));return ue}function T(se,le){for(var ae=_Mathceil(se.values.length/2),de=se.values.length,ue=0,pe,ce;ue!==le;){for(ce=!1;!ce;)if(ce=!0,se.currentIndex[se.active]++,se.currentIndex[se.active]>=se.values[se.active].length){if(se.active+1===ae)return null;se.currentIndex[se.active]=0,ce=!1,se.active++}else se.active=0;for(ue=0,pe=0;pe<ae;pe++)ue+=2*se.values[pe][se.currentIndex[pe]];0!=se.values.length%2&&(ue-=se.values[ae-1][se.currentIndex[ae-1]])}if(ue===le){var he=Array(de);for(pe=0;pe<ae;pe++)he[pe]=se.values[pe][se.currentIndex[pe]],he[de-pe-1]=se.values[pe][se.currentIndex[pe]];return he}return null}function O(se){var le=Array(se.length),ae=Array(se.length),de,ue;le[0]=[1],le[se.length-1]=[1],ae[0]=-1,ae[se.length-1]=0;for(var pe=1;pe<se.length-1;pe++){de=_Mathround(0.85*se[pe].intensity),ue=_Mathround(1.15*se[pe].intensity),le[pe]=[];for(var ce=de;ce<=ue;ce++)le[pe].push(ce);ae[pe]=0}return{values:le,currentIndex:ae,active:0}}function $(se,le,ae){var de=Z(se,le,ae),ue=se.peaksComp,pe=se.mask,ce=se.delta1;se.delta1=(se.peaks[0].x+se.peaks[se.peaks.length-1].x)/2;var he=Z(se,le,ae);return se.peaksComp.length>ue.length?he:(se.delta1=ce,se.peaksComp=ue,se.mask=pe,de)}function Z(se,le,ae){var ge=Array(se.peaks.length),de,ue,pe,ce,he,me;for(me=0;me<ge.length;me++)ge[me]={x:se.peaks[me].x*se.observe,intensity:se.peaks[me].intensity,width:se.peaks[me].width};for(me=ge.length-2;0<=me;me--)0.25>_Mathabs(ge[me].x-ge[me+1].x)&&(ge[me].x=ge[me].x*ge[me].intensity+ge[me+1].x*ge[me+1].intensity,ge[me].intensity+=ge[me+1].intensity,ge[me].x/=ge[me].intensity,ge[me].intensity/=2,ge[me].width+=ge[me+1].width,ge.splice(me+1,1));se.peaksComp=ge;var fe=ge.length,ye=Array(fe);se.mask=ye;var xe=0,be=ge.length-1,_e=se.delta1*se.observe,ke=[(ge[0].x+ge[fe-1].x)/2,1];le=W(_Mathabs(_e-ke[0]));for(var we=0,Ce=0;Ce<fe;Ce++)ye[Ce]=!0,we+=se.peaks[Ce].intensity;for(;xe<=be;){if(ye[xe]=!0,ye[be]=!0,xe==be)2<fe&&_Mathabs(ge[xe].x-_e)>le&&(ye[xe]=!1);else if(de=_Mathmax(ge[xe].intensity,ge[be].intensity),ue=_Mathmin(ge[xe].intensity,ge[be].intensity),ce=de/ue,ce>te)ge[xe].intensity===ue?(ye[xe]=!1,be++):(ye[be]=!1,xe--);else{var je=_Mathabs(ge[xe].x-_e),ve=_Mathabs(ge[be].x-_e);_Mathabs(je-ve)<le?(pe=_Mathmin(ge[xe].intensity,ge[be].intensity),he=_Mathmin(ge[xe].width,ge[be].width),ge[xe].intensity=ge[be].intensity=pe,ge[xe].width=ge[be].width=he,ke=[ke[0]+(ge[be].x+ge[xe].x)/2,ke[1]+1]):_Mathmax(je,ve)===ve?(ye[be]=!1,xe--):(ye[xe]=!1,be++)}if(xe++,be--,1===ae&&(_e=Q(ge,ye),isNaN(_e)))return 0;le=W(_Mathabs(_e-ke[0]/ke[1]))}for(Ce=fe-1;0<=Ce;Ce--)!1===ye[Ce]&&ge.splice(Ce,1);if(_e=Q(ge),isNaN(_e))return 0;se.delta1=_e/se.observe;let Se=0,De=0;if(1<ge.length){for(Ce=_Mathceil(ge.length/2)-1;0<=Ce;Ce--)Se+=(3+_Mathmin(_Mathabs(ge[Ce].x-_e),_Mathabs(ge[ge.length-1-Ce].x-_e)))/(3+_Mathmax(_Mathabs(ge[Ce].x-_e),_Mathabs(ge[ge.length-1-Ce].x-_e)))*ge[Ce].intensity,De+=ge[Ce].intensity;Se/=De}else 1===ge.length&&(Se=1);var Ee=0;for(Ce=0;Ce<ge.length;Ce++)Ee+=ge[Ce].intensity;if(Se-=0.12*((we-Ee)/we),0.8<Se&&0.97>Se&&2>ae)return Z(se,oe,2);if(1<ge.length){let Ie;for(Ce=_Mathceil(ge.length/2)-1;0<=Ce;Ce--)Ie=(ge[Ce].x-ge[ge.length-1-Ce].x)/2,ge[Ce].x=_e+Ie,ge[ge.length-1-Ce].x=_e-Ie}return Se}function W(se){var le=2.5*se;return 0.75>le&&(le=0.75),3<le&&(le=3),le}function K(se,le){var ae=JSON.parse(JSON.stringify(se.peaksComp)),de=0,ue=0,pe;for(pe=0;pe<ae.length;pe++)de+=ae[pe].intensity;de=_Mathpow(2,le)/de,se.mask2=JSON.parse(JSON.stringify(se.mask));var ce=se.mask2.length-1;for(pe=ae.length-1;0<=pe;pe--){for(ae[pe].intensity*=de;0<=ce&&!1===se.mask2[ce];)ce--;0.75>ae[pe].intensity?(ae.splice(pe,1),se.mask2[ce]=!1):ue+=ae[pe].intensity,ce--}for(ue=_Mathpow(2,le)/ue,pe=ae.length-1;0<=pe;pe--)ae[pe].intensity*=ue;return ae}function Q(se,le){var ae=0,de=0,ue,pe;if(le)for(ue=0;ue<se.length;ue++)!0===le[ue]&&(pe=G(se[ue]),ae+=pe,de+=pe*se[ue].x);else for(ue=0;ue<se.length;ue++)pe=G(se[ue]),ae+=pe,de+=pe*se[ue].x;return de/ae}function G(se){return _Mathabs(1.57*(se.intensity*se.width))}const ee=['s','d','t','q','quint','h','sept','o','n'];var te=1.5,oe=1;D.exports={compilePattern:function(le){if(le.multiplicity='m',le.symRank=$(le,2.5,1),le.asymmetric=!0,0.95<=le.symRank&&32>le.peaksComp.length){le.asymmetric=!1;var pe=1,he=[],ae,de,ue,ce,me,ge;for(ue=0;9>ue;ue++){var fe=K(le,ue),ye=!1;if(1===fe.length&&0===ue)ye=!0;else if(1>=fe.length)continue;var xe=O(fe);me=_Mathpow(2,ue);for(var be=null,_e;!ye&&null!==(be=T(xe,me));){for(_e=Array(be.length),pe=1,ae=0;ae<be.length;ae++)for(_e[ae]=Array(be[ae]),de=0;de<be[ae];de++)_e[ae][de]=pe++;he=[],de=1,he.push(fe[1].x-fe[0].x),ce=fe[0].x,_e[0].splice(0,1),_e[1].splice(0,1),pe=1;var ke=2;for(ge=_Mathpow(2,ue)-1;he.length<ue&&ke<ge&&pe<fe.length;){for(de++;pe<fe.length&&0===_e[pe].length;)pe++;if(pe<fe.length){he.push(fe[pe].x-fe[0].x),_e[pe].splice(0,1),ke++;for(var we=2,Ce;we<=de;we++){for(Ce=0,ae=0;ae<we;ae++)Ce+=he[ae];for(ae=1;ae<_e.length;ae++)if(0.25>_Mathabs(fe[ae].x-(ce+Ce))){_e[ae].splice(0,1),ke++;break}}}}var je=F(he);for(ye=!0,ae=0;ae<je.length;ae++)je[ae].intensity!==be[ae]&&(ye=!1)}ye&&R(le,he)}}for(ae=0;ae<le.peaksComp.length;ae++)le.peaksComp[ae].x/=le.observe}}},function(D,E,I){'use strict';function P(O,$){for(var Z=O.length-1;0<=Z;Z--)_Mathabs(O[Z].y)<$&&O.splice(Z,1);return O}const F=I(103),T={thresholdFactor:1,optimize:!1,minMaxRatio:0.01,broadRatio:2.5e-4,smoothY:!0,nL:4,functionType:'gaussian',broadWidth:0.25,sgOptions:{windowSize:9,polynomial:3}};D.exports=function(O,$={}){$=Object.assign({},T,$);var Z=_Mathabs(O.getNoiseLevel())*$.thresholdFactor,W=O.getXYData();$.from&&$.to&&(W=O.getVector($.from,$.to));var K=F.gsd(W[0],W[1],$);return $.broadWidth&&(K=F.post.joinBroadPeaks(K,{width:$.broadWidth})),$.optimize&&(K=F.post.optimizePeaks(K,W[0],W[1],$.nL,$.functionType)),P(K,Z)}},function(D,E,I){'use strict';function P(K){return K.isHomoNuclear()?1.5:3}function F(K,Q,G){var ee=Q.observeFrequencyX(),te=Q.observeFrequencyY(),ne=Q.getFirstY(),oe=Q.getDeltaY(),se;for(se=K.length-1;0<=se;se--)K[se].x=Q.arrayPointToUnits(K[se].x),K[se].y=ne+oe*K[se].y,(-1>K[se].y||210<=K[se].y)&&K.splice(se,1);var le=[],ae=0;for(G*=G,se=0;se<K.length;se++)for(var de=se;de<K.length;de++)ae=_Mathpow((K[se].x-K[de].x)*ee,2)+_Mathpow((K[se].y-K[de].y)*te,2),ae<G?le.push(1):le.push(0);var ue=O(le),pe=[];if(null!=K)for(var ce=0,he;ce<ue.length;ce++){he={nucleusX:Q.getNucleus(1),nucleusY:Q.getNucleus(2)},he.resolutionX=(Q.getLastX()-Q.getFirstX())/Q.getNbPoints(),he.resolutionY=oe;var me=[];he.shiftX=0,he.shiftY=0;for(var ge=[_NumberMAX_VALUE,0],fe=[_NumberMAX_VALUE,0],ye=0,xe=ue[ce].length-1;0<=xe;xe--)1===ue[ce][xe]&&(me.push({x:K[xe].x,y:K[xe].y,z:K[xe].z}),he.shiftX+=K[xe].x*K[xe].z,he.shiftY+=K[xe].y*K[xe].z,ye+=K[xe].z,K[xe].x<ge[0]&&(ge[0]=K[xe].x),K[xe].x>ge[1]&&(ge[1]=K[xe].x),K[xe].y<fe[0]&&(fe[0]=K[xe].y),K[xe].y>fe[1]&&(fe[1]=K[xe].y));he.fromTo=[{from:ge[0],to:ge[1]},{from:fe[0],to:fe[1]}],he.shiftX/=ye,he.shiftY/=ye,he.peaks=me,pe.push(he)}return pe}var T=I(22),O=I(50),$=I(114),Z=I(42).FFTUtils;const W=[[0,0,1,2,2,2,1,0,0],[0,1,4,7,7,7,4,1,0],[1,4,5,3,0,3,5,4,1],[2,7,3,-12,-23,-12,3,7,2],[2,7,0,-23,-40,-23,0,7,2],[2,7,3,-12,-23,-12,3,7,2],[1,4,5,3,0,3,5,4,1],[0,1,3,7,7,7,3,1,0],[0,0,1,2,2,2,1,0,0]];D.exports=function(K,Q){0===Q&&(Q=1),0>Q&&(Q=-Q);for(var G=K.getNbPoints(),ee=K.getNbSubSpectra(),te=Array(G*ee),ne=K.isHomoNuclear(),oe=0,se;oe<ee;oe++){se=K.getYData(oe);for(var le=0;le<G;le++)te[oe*G+le]=ne?0<se[le]?se[le]:0:_Mathabs(se[le])}var ae=P(K);if(ne){let pe=Z.convolute(te,W,ee,G),ce=$.findPeaks2DRegion(te,{filteredData:pe,rows:ee,cols:G,nStdDev:ae*Q});for(var de=$.findPeaks2DMax(te,{filteredData:pe,rows:ee,cols:G,nStdDev:(ae+0.5)*Q}),ue=0;ue<ce.length;ue++)de.push(ce[ue]);return T.enhanceSymmetry(F(de,K,24))}let pe=Z.convolute(te,W,ee,G),ce=$.findPeaks2DRegion(te,{filteredData:pe,rows:ee,cols:G,nStdDev:ae*Q});return F(T.clean(ce,0.05),K,24)}},function(D,E,I){'use strict';function P(W,K,Q={}){var G=Q.nH,ee=G===void 0?99:G,te=Q.integralType,ne=te===void 0?'sum':te,oe=Q.frequencyCluster,se=oe===void 0?16:oe,le=Q.frequency,ae=le===void 0?W.observeFrequencyX():le,de,ue,pe,ce,he=[],me={},ge=null,fe={x:1e5,y:0,width:0},ye=0;for(se/=ae,pe=0;pe<K.length;pe++){if(_Mathabs(K[pe].x-fe.x)>se)me={nbPeaks:1,units:'PPM',startX:K[pe].x-K[pe].width,stopX:K[pe].x+K[pe].width,multiplicity:'',pattern:'',observe:ae,nucleus:'1H',integralData:{from:K[pe].x-3*K[pe].width,to:K[pe].x+3*K[pe].width},peaks:[]},me.peaks.push({x:K[pe].x,intensity:K[pe].y,width:K[pe].width}),he.push(me);else{var xe=K[pe].x+K[pe].width;me.stopX=_Mathmax(me.stopX,xe),xe=K[pe].x-K[pe].width,me.startX=_Mathmin(me.startX,xe),me.nbPeaks++,me.peaks.push({x:K[pe].x,intensity:K[pe].y,width:K[pe].width}),me.integralData.from=_Mathmin(me.integralData.from,K[pe].x-3*K[pe].width),me.integralData.to=_Mathmax(me.integralData.to,K[pe].x+3*K[pe].width)}fe=K[pe]}for(pe=0;pe<he.length;pe++){ge=he[pe].peaks;let be=he[pe].integralData;for(de=0,ue=0,ce=0;ce<ge.length;ce++)de+=ge[ce].x*F(ge[ce]),ue+=F(ge[ce]);he[pe].delta1=de/ue,be.value='sum'===ne?W.getArea(be.from,be.to):ue,ye+=be.value}if(0!==ee)for(pe=0;pe<he.length;pe++){let be=he[pe].integralData;be.value*=ee/ye}return he}function F(W){return _Mathabs(1.57*(W.intensity*W.width))}const T=I(74),O=I(20),$=I(73),Z={nH:99,idPrefix:''};D.exports=function(W,K,Q){Q=Object.assign({},Z,Q,{frequency:W.observeFrequencyX()});var oe=Q.nH,se=P(W,K,Q),G,ee,te,ne;if(Q.clean||!1)for(G=se.length-1;0<=G;G--)0.5>se[G].integralData.value&&se.splice(G,1);if(Q.compile||!1){for(G=0;G<se.length;G++)if(T.compilePattern(se[G]),se[G].maskPattern&&'m'!==se[G].multiplicity&&''!==se[G].multiplicity){te=0,ne=0;var le=[];for(ee=se[G].maskPattern.length-1;0<=ee;ee--)if(ne+=F(se[G].peaks[ee]),!1===se[G].maskPattern[ee]){var ae=se[G].peaks.splice(ee,1)[0];le.push({x:ae.x,y:ae.intensity,width:ae.width}),se[G].mask.splice(ee,1),se[G].mask2.splice(ee,1),se[G].maskPattern.splice(ee,1),se[G].nbPeaks--,te+=F(ae)}if(0<le.length){te=te*se[G].integralData.value/ne,se[G].integralData.value-=te;var de=[];for(ee=le.length-1;0<=ee;ee--)de.push(le[ee]);Q.nH=te;let me=P(W,de,Q);for(ee=0;ee<me.length;ee++)se.push(me[ee])}}var ue=0,pe=0;for(G=0;G<se.length;G++)pe+=_Mathround(se[G].integralData.value);if(pe!==oe)for(ue=oe/pe,G=0;G<se.length;G++)se[G].integralData.value*=ue}if(se.sort(function(me,ge){return ge.delta1-me.delta1}),Q.clean||!1)for(G=se.length-1;0<=G;G--)0.5>se[G].integralData.value&&se.splice(G,1);for(G=0;G<se.length;G++)se[G].signalID=Q.idPrefix&&0<Q.idPrefix.length?Q.idPrefix+'_'+(G+1):G+1+'',se[G]._highlight=[se[G].signalID];let ce=Array(se.length);for(G=0;G<se.length;G++){var he=se[G];ce[G]={from:he.integralData.from,to:he.integralData.to,integral:he.integralData.value,signal:[{nbAtoms:0,diaID:[],multiplicity:he.multiplicity,peak:he.peaks,kind:'',remark:''}],signalID:he.signalID,_highlight:he._highlight},he.nmrJs&&(ce[G].signal[0].j=he.nmrJs),he.asymmetric&&'m'!==he.multiplicity||(ce[G].signal[0].delta=he.delta1)}return ce=$(ce,Q.removeImpurity),new O(ce)}},function(D){'use strict';var F={type:'rect',line:0,lineLabel:1,labelColor:'red',strokeColor:'red',strokeWidth:'1px',fillColor:'green',width:0.05,height:10,toFixed:1},T={type:'rect',labelColor:'red',strokeColor:'red',strokeWidth:'1px',fillColor:'green',width:'6px',height:'6px'};D.exports={annotations2D:function(O,$){for(var Z=Object.assign({},T,$),W=[],K=O.length-1;0<=K;K--){var Q=O[K],G={};G.type=Z.type,G._highlight=Q._highlight,G._highlight&&0!==G._highlight.length||(G._highlight=[Q.signalID]),Q._highlight=G._highlight,G.position=[{x:Q.fromTo[0].from-0.01,y:Q.fromTo[1].from-0.01,dx:Z.width,dy:Z.height},{x:Q.fromTo[0].to+0.01,y:Q.fromTo[1].to+0.01}],G.fillColor=Z.fillColor,G.label={text:Q.remark,position:{x:Q.signal[0].delta[0],y:Q.signal[0].delta[1]-0.025}},G.strokeColor=1===Q.integral?Z.strokeColor:'rgb(0,128,0)',G.strokeWidth=Z.strokeWidth,G.width=Z.width,G.height=Z.height,G.info=Q,W.push(G)}return W},annotations1D:function(O,$){for(var Z=Object.assign({},F,$),W=Z.height,K=[],Q=0;Q<O.length;Q++){var G=O[Q],ee={};K.push(ee),ee.line=Z.line,ee._highlight=G._highlight,ee._highlight&&0!==ee._highlight.length||(ee._highlight=[G.signalID],G.signal.forEach(function(te){for(let ne=0;ne<te.diaID.length;ne++)ee._highlight.push(te.diaID[ne])})),G._highlight=ee._highlight,ee.type=Z.type,ee.position=G.to&&G.from&&G.to!==G.from?[{x:G.to,y:Z.line*W+'px'},{x:G.from,y:Z.line*W+3+'px'}]:[{x:G.signal[0].delta-Z.width,y:Z.line*W+'px'},{x:G.signal[0].delta+Z.width,y:Z.line*W+3+'px'}],!Z.noLabel&&G.integral&&(ee.label={text:G.integral.toFixed(Z.toFixed),size:'11px',anchor:'middle',color:Z.labelColor,position:{x:(ee.position[0].x+ee.position[1].x)/2,y:(Z.line+Z.lineLabel)*W+'px',dy:'5px'}}),ee.strokeColor=Z.strokeColor,ee.strokeWidth=Z.strokeWidth,ee.fillColor=Z.fillColor,ee.info=G}return K}}},function(D,E){'use strict';function R(te){var ne=te.length;if(0<ne%4)throw new Error('Invalid string. Length must be a multiple of 4');return'='===te[ne-2]?2:'='===te[ne-1]?1:0}function T(te){return Z[63&te>>18]+Z[63&te>>12]+Z[63&te>>6]+Z[63&te]}function O(te,ne,oe){for(var le=[],ae=ne,se;ae<oe;ae+=3)se=(te[ae]<<16)+(te[ae+1]<<8)+te[ae+2],le.push(T(se));return le.join('')}E.byteLength=function(te){return 3*te.length/4-R(te)},E.toByteArray=function(te){var ue=te.length,ne,oe,se,le,ae,de;ae=R(te),de=new K(3*ue/4-ae),se=0<ae?ue-4:ue;var pe=0;for(ne=0,oe=0;ne<se;ne+=4,oe+=3)le=W[te.charCodeAt(ne)]<<18|W[te.charCodeAt(ne+1)]<<12|W[te.charCodeAt(ne+2)]<<6|W[te.charCodeAt(ne+3)],de[pe++]=255&le>>16,de[pe++]=255&le>>8,de[pe++]=255&le;return 2===ae?(le=W[te.charCodeAt(ne)]<<2|W[te.charCodeAt(ne+1)]>>4,de[pe++]=255&le):1===ae&&(le=W[te.charCodeAt(ne)]<<10|W[te.charCodeAt(ne+1)]<<4|W[te.charCodeAt(ne+2)]>>2,de[pe++]=255&le>>8,de[pe++]=255&le),de},E.fromByteArray=function(te){for(var oe=te.length,se=oe%3,le='',ae=[],de=16383,ue=0,pe=oe-se,ne;ue<pe;ue+=de)ae.push(O(te,ue,ue+de>pe?pe:ue+de));return 1==se?(ne=te[oe-1],le+=Z[ne>>2],le+=Z[63&ne<<4],le+='=='):2==se&&(ne=(te[oe-2]<<8)+te[oe-1],le+=Z[ne>>10],le+=Z[63&ne>>4],le+=Z[63&ne<<2],le+='='),ae.push(le),ae.join('')};for(var Z=[],W=[],K='undefined'==typeof Uint8Array?Array:Uint8Array,Q='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',G=0,ee=Q.length;G<ee;++G)Z[G]=Q[G],W[Q.charCodeAt(G)]=G;W['-'.charCodeAt(0)]=62,W['_'.charCodeAt(0)]=63},function(D,E,I){D.exports=I(81)},function(D,E){var R,P,F;(function(){var T,O,$,Z,W,K,Q,G,ee,te,ne,oe,se,le,ae;$=_Mathfloor,te=_Mathmin,O=function(de,ue){return de<ue?-1:de>ue?1:0},ee=function(de,ue,pe,ce,he){var me;if(null==pe&&(pe=0),null==he&&(he=O),0>pe)throw new Error('lo must be non-negative');for(null==ce&&(ce=de.length);pe<ce;)me=$((pe+ce)/2),0>he(ue,de[me])?ce=me:pe=me+1;return[].splice.apply(de,[pe,pe-pe].concat(ue)),ue},K=function(de,ue,pe){return null==pe&&(pe=O),de.push(ue),le(de,0,de.length-1,pe)},W=function(de,ue){var pe,ce;return null==ue&&(ue=O),pe=de.pop(),de.length?(ce=de[0],de[0]=pe,ae(de,0,ue)):ce=pe,ce},G=function(de,ue,pe){var ce;return null==pe&&(pe=O),ce=de[0],de[0]=ue,ae(de,0,pe),ce},Q=function(de,ue,pe){var ce;return null==pe&&(pe=O),de.length&&0>pe(de[0],ue)&&(ce=[de[0],ue],ue=ce[0],de[0]=ce[1],ae(de,0,pe)),ue},Z=function(de,ue){var pe,ce,me,fe,ye,xe;for(null==ue&&(ue=O),fe=function(){xe=[];for(var be=0,_e=$(de.length/2);0<=_e?be<_e:be>_e;0<=_e?be++:be--)xe.push(be);return xe}.apply(this).reverse(),ye=[],(ce=0,me=fe.length);ce<me;ce++)pe=fe[ce],ye.push(ae(de,pe,ue));return ye},se=function(de,ue,pe){var ce;if(null==pe&&(pe=O),ce=de.indexOf(ue),-1!==ce)return le(de,0,ce,pe),ae(de,ce,pe)},ne=function(de,ue,pe){var ce,he,me,ge,fe;if(null==pe&&(pe=O),he=de.slice(0,ue),!he.length)return he;for(Z(he,pe),fe=de.slice(ue),(me=0,ge=fe.length);me<ge;me++)ce=fe[me],Q(he,ce,pe);return he.sort(pe).reverse()},oe=function(de,ue,pe){var ce,he,me,ge,fe,ye,xe,be,_e,ke;if(null==pe&&(pe=O),10*ue<=de.length){if(ge=de.slice(0,ue).sort(pe),!ge.length)return ge;for(me=ge[ge.length-1],be=de.slice(ue),(fe=0,xe=be.length);fe<xe;fe++)ce=be[fe],0>pe(ce,me)&&(ee(ge,ce,0,null,pe),ge.pop(),me=ge[ge.length-1]);return ge}for(Z(de,pe),ke=[],(he=ye=0,_e=te(ue,de.length));0<=_e?ye<_e:ye>_e;he=0<=_e?++ye:--ye)ke.push(W(de,pe));return ke},le=function(de,ue,pe,ce){var he,me,ge;for(null==ce&&(ce=O),he=de[pe];pe>ue;){if(ge=pe-1>>1,me=de[ge],0>ce(he,me)){de[pe]=me,pe=ge;continue}break}return de[pe]=he},ae=function(de,ue,pe){var ce,he,me,ge,fe;for(null==pe&&(pe=O),he=de.length,fe=ue,me=de[ue],ce=2*ue+1;ce<he;)ge=ce+1,ge<he&&!(0>pe(de[ce],de[ge]))&&(ce=ge),de[ue]=de[ce],ue=ce,ce=2*ue+1;return de[ue]=me,le(de,fe,ue,pe)},T=function(){function de(ue){this.cmp=null==ue?O:ue,this.nodes=[]}return de.push=K,de.pop=W,de.replace=G,de.pushpop=Q,de.heapify=Z,de.updateItem=se,de.nlargest=ne,de.nsmallest=oe,de.prototype.push=function(ue){return K(this.nodes,ue,this.cmp)},de.prototype.pop=function(){return W(this.nodes,this.cmp)},de.prototype.peek=function(){return this.nodes[0]},de.prototype.contains=function(ue){return-1!==this.nodes.indexOf(ue)},de.prototype.replace=function(ue){return G(this.nodes,ue,this.cmp)},de.prototype.pushpop=function(ue){return Q(this.nodes,ue,this.cmp)},de.prototype.heapify=function(){return Z(this.nodes,this.cmp)},de.prototype.updateItem=function(ue){return se(this.nodes,ue,this.cmp)},de.prototype.clear=function(){return this.nodes=[]},de.prototype.empty=function(){return 0===this.nodes.length},de.prototype.size=function(){return this.nodes.length},de.prototype.clone=function(){var ue;return ue=new de,ue.nodes=this.nodes.slice(0),ue},de.prototype.toArray=function(){return this.nodes.slice(0)},de.prototype.insert=de.prototype.push,de.prototype.top=de.prototype.peek,de.prototype.front=de.prototype.peek,de.prototype.has=de.prototype.contains,de.prototype.copy=de.prototype.clone,de}(),function(de,ue){return P=[],R=ue,F='function'==typeof R?R.apply(E,P):R,!(void 0!==F&&(D.exports=F))}(this,function(){return T})}).call(this)},function(D,E){E.read=function(I,R,P,F,T){var O,$,Z=8*T-F-1,W=(1<<Z)-1,K=W>>1,Q=-7,G=P?T-1:0,ee=P?-1:1,te=I[R+G];for(G+=ee,O=te&(1<<-Q)-1,te>>=-Q,Q+=Z;0<Q;O=256*O+I[R+G],G+=ee,Q-=8);for($=O&(1<<-Q)-1,O>>=-Q,Q+=F;0<Q;$=256*$+I[R+G],G+=ee,Q-=8);if(0===O)O=1-K;else{if(O===W)return $?NaN:(te?-1:1)*Infinity;$+=_Mathpow(2,F),O-=K}return(te?-1:1)*$*_Mathpow(2,O-F)},E.write=function(I,R,P,F,T,O){var $,Z,W,K=8*O-T-1,Q=(1<<K)-1,G=Q>>1,ee=23===T?5.960464477539063e-8-6.617444900424222e-24:0,te=F?0:O-1,ne=F?1:-1,oe=0>R||0===R&&0>1/R?1:0;for(R=_Mathabs(R),isNaN(R)||R===Infinity?(Z=isNaN(R)?1:0,$=Q):($=_Mathfloor(_Mathlog(R)/Math.LN2),1>R*(W=_Mathpow(2,-$))&&($--,W*=2),R+=1<=$+G?ee/W:ee*_Mathpow(2,1-G),2<=R*W&&($++,W/=2),$+G>=Q?(Z=0,$=Q):1<=$+G?(Z=(R*W-1)*_Mathpow(2,T),$+=G):(Z=R*_Mathpow(2,G-1)*_Mathpow(2,T),$=0));8<=T;I[P+te]=255&Z,te+=ne,Z/=256,T-=8);for($=$<<T|Z,K+=T;0<K;I[P+te]=255&$,te+=ne,$/=256,K-=8);I[P+te-ne]|=128*oe}},function(D){'use strict';const R=8192,P=[];D.exports=class{constructor(T,O){O=O||{},T===void 0&&(T=R),'number'==typeof T&&(T=new ArrayBuffer(T));let $=T.byteLength;const Z=O.offset?O.offset>>>0:0;T.buffer&&($=T.byteLength-Z,T=T.byteLength===T.buffer.byteLength?Z?T.buffer.slice(Z):T.buffer:T.buffer.slice(T.byteOffset+Z,T.byteOffset+T.byteLength)),this.buffer=T,this.length=$,this.byteLength=$,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=$||R,this._mark=0}available(T){return void 0===T&&(T=1),this.offset+T<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){this.littleEndian=!0}isBigEndian(){return!this.littleEndian}setBigEndian(){this.littleEndian=!1}skip(T){T===void 0&&(T=1),this.offset+=T}seek(T){this.offset=T}mark(){this._mark=this.offset}reset(){this.offset=this._mark}rewind(){this.offset=0}ensureAvailable(T){if(void 0===T&&(T=1),!this.available(T)){const O=this._increment+this._increment;this._increment=O;const $=this.length+O,Z=new Uint8Array($);Z.set(new Uint8Array(this.buffer)),this.buffer=Z.buffer,this.length=$,this._data=new DataView(this.buffer)}}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(T){T===void 0&&(T=1);for(var O=new Uint8Array(T),$=0;$<T;$++)O[$]=this.readByte();return O}readInt16(){var T=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,T}readUint16(){var T=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,T}readInt32(){var T=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,T}readUint32(){var T=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,T}readFloat32(){var T=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,T}readFloat64(){var T=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,T}readChar(){return _StringfromCharCode(this.readInt8())}readChars(T){T===void 0&&(T=1),P.length=T;for(var O=0;O<T;O++)P[O]=this.readChar();return P.join('')}writeBoolean(T){this.writeUint8(T?255:0)}writeInt8(T){this.ensureAvailable(1),this._data.setInt8(this.offset++,T)}writeUint8(T){this.ensureAvailable(1),this._data.setUint8(this.offset++,T)}writeByte(T){this.writeUint8(T)}writeBytes(T){this.ensureAvailable(T.length);for(var O=0;O<T.length;O++)this._data.setUint8(this.offset++,T[O])}writeInt16(T){this.ensureAvailable(2),this._data.setInt16(this.offset,T,this.littleEndian),this.offset+=2}writeUint16(T){this.ensureAvailable(2),this._data.setUint16(this.offset,T,this.littleEndian),this.offset+=2}writeInt32(T){this.ensureAvailable(4),this._data.setInt32(this.offset,T,this.littleEndian),this.offset+=4}writeUint32(T){this.ensureAvailable(4),this._data.setUint32(this.offset,T,this.littleEndian),this.offset+=4}writeFloat32(T){this.ensureAvailable(4),this._data.setFloat32(this.offset,T,this.littleEndian),this.offset+=4}writeFloat64(T){this.ensureAvailable(8),this._data.setFloat64(this.offset,T,this.littleEndian),this.offset+=8}writeChar(T){this.writeUint8(T.charCodeAt(0))}writeChars(T){for(var O=0;O<T.length;O++)this.writeUint8(T.charCodeAt(O))}toArray(){return new Uint8Array(this.buffer,0,this.offset)}}},function(D){var I={}.toString;D.exports=Array.isArray||function(R){return'[object Array]'==I.call(R)}},function(D){'use strict';var R=/[,\t \+-]*(?=[^\d,\t \.])|[ \t]+(?=[\d+\.-])/,P=/\$\$.*/;D.exports=function(T,O){T.deltaX||(T.deltaX=(T.lastX-T.firstX)/(T.nbPoints-1)),T.isXYdata=!0;var Z=[],W=0;T.data=[Z];var K=T.firstX,Q=T.firstY,G=O.split(/[\r\n]+/),ee,te,ne;te=[];for(var se=1,le=G.length;se<le;se++)if(te=G[se].trim().replace(P,'').split(R),0<te.length)for(var de=1,ue=te.length;de<ue;de++)if(1===de&&(ee||0===ee))ee=null,ne=te[de].charCodeAt(0),!1;else if(0<te[de].length)if(ne=te[de].charCodeAt(0),43===ne||45===ne||46===ne||47<ne&&58>ne)ee=null,Q=+te[de],Z[W++]=K,Z[W++]=Q*T.yFactor,K+=T.deltaX;else if(63<ne&&74>ne)ee=null,Q=+(_StringfromCharCode(ne-16)+te[de].substring(1)),Z[W++]=K,Z[W++]=Q*T.yFactor,K+=T.deltaX;else if(96<ne&&106>ne)ee=null,Q=1*-(_StringfromCharCode(ne-48)+te[de].substring(1)),Z[W++]=K,Z[W++]=Q*T.yFactor,K+=T.deltaX;else if(82<ne&&91>ne||115===ne){var pe=_StringfromCharCode(ne-34)+te[de].substring(1)-1;115===ne&&(pe='9'+te[de].substring(1)-1);for(var ce=0;ce<pe;ce++)ee&&(Q+=ee),Z[W++]=K,Z[W++]=Q*T.yFactor,K+=T.deltaX}else 37===ne?(ee=+('0'+te[de].substring(1)),Q+=ee,Z[W++]=K,Z[W++]=Q*T.yFactor,K+=T.deltaX):73<ne&&83>ne?(ee=1*(_StringfromCharCode(ne-25)+te[de].substring(1)),Q+=ee,Z[W++]=K,Z[W++]=Q*T.yFactor,K+=T.deltaX):105<ne&&115>ne&&(ee=1*-(_StringfromCharCode(ne-57)+te[de].substring(1)),Q+=ee,Z[W++]=K,Z[W++]=Q*T.yFactor,K+=T.deltaX)}},function(D,E,I){'use strict';var R=I(0),P=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918000,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];D.exports=function(T,O){if('undefined'==typeof T||!T.length)return 0;var $='string'!==R.getTypeOf(T);'undefined'==typeof O&&(O=0);var Z=0,W=0,K=0;O^=-1;for(var Q=0,G=T.length;Q<G;Q++)K=$?T[Q]:T.charCodeAt(Q),W=255&(O^K),Z=P[W],O=O>>>8^Z;return-1^O}},function(D,E,I){'use strict';var R=I(0);E.string2binary=function(P){return R.string2binary(P)},E.string2Uint8Array=function(P){return R.transformTo('uint8array',P)},E.uint8Array2String=function(P){return R.transformTo('string',P)},E.string2Blob=function(P){var F=R.transformTo('arraybuffer',P);return R.arrayBuffer2Blob(F)},E.arrayBuffer2Blob=function(P){return R.arrayBuffer2Blob(P)},E.transformTo=function(P,F){return R.transformTo(P,F)},E.getTypeOf=function(P){return R.getTypeOf(P)},E.checkSupport=function(P){return R.checkSupport(P)},E.MAX_VALUE_16BITS=R.MAX_VALUE_16BITS,E.MAX_VALUE_32BITS=R.MAX_VALUE_32BITS,E.pretty=function(P){return R.pretty(P)},E.findCompression=function(P){return R.findCompression(P)},E.isRegExp=function(P){return R.isRegExp(P)}},function(D,E,I){'use strict';var R='undefined'!=typeof Uint8Array&&'undefined'!=typeof Uint16Array&&'undefined'!=typeof Uint32Array,P=I(145);E.uncompressInputType=R?'uint8array':'array',E.compressInputType=R?'uint8array':'array',E.magic='\b\0',E.compress=function(F,T){return P.deflateRaw(F,{level:T.level||-1})},E.uncompress=function(F){return P.inflateRaw(F)}},function(D,E,I){'use strict';function R(F,T){return this instanceof R?void(this.files={},this.comment=null,this.root='',F&&this.load(F,T),this.clone=function(){var O=new R;for(var $ in this)'function'!=typeof this[$]&&(O[$]=this[$]);return O}):new R(F,T)}var P=I(10);R.prototype=I(13),R.prototype.load=I(90),R.support=I(5),R.defaults=I(34),R.utils=I(87),R.base64={encode:function(F){return P.encode(F)},decode:function(F){return P.decode(F)}},R.compressions=I(11),D.exports=R},function(D,E,I){'use strict';var R=I(10),P=I(38),F=I(0),T=I(94);D.exports=function(O,$){var Z,W,K,Q;for($=F.extend($||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:P.utf8decode}),$.base64&&(O=R.decode(O)),W=new T(O,$),Z=W.files,K=0;K<Z.length;K++)Q=Z[K],this.file(Q.fileNameStr,Q.decompressed,{binary:!0,optimizedBinaryString:!0,date:Q.date,dir:Q.dir,comment:Q.fileCommentStr.length?Q.fileCommentStr:null,unixPermissions:Q.unixPermissions,dosPermissions:Q.dosPermissions,createFolders:$.createFolders});return W.zipComment.length&&(this.comment=W.zipComment),this}},function(D,E,I){'use strict';function R(F){this.data=F,this.length=this.data.length,this.index=0,this.zero=0}var P=I(37);R.prototype=new P,R.prototype.readData=function(F){this.checkOffset(F);var T=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,T},D.exports=R},function(D,E,I){'use strict';var R=I(0),P=function(){this.data=[]};P.prototype={append:function(F){F=R.transformTo('string',F),this.data.push(F)},finalize:function(){return this.data.join('')}},D.exports=P},function(D,E,I){'use strict';var R=I(0),P=function(F){this.data=new Uint8Array(F),this.index=0};P.prototype={append:function(F){0!==F.length&&(F=R.transformTo('uint8array',F),this.data.set(F,this.index),this.index+=F.length)},finalize:function(){return this.data}},D.exports=P},function(D,E,I){'use strict';function R(G,ee){this.files=[],this.loadOptions=ee,G&&this.load(G)}var P=I(36),F=I(91),T=I(37),O=I(31),$=I(0),Z=I(35),W=I(95),K=I(5),Q=I(13);R.prototype={checkSignature:function(G){var ee=this.reader.readString(4);if(ee!==G)throw new Error('Corrupted zip or bug : unexpected signature ('+$.pretty(ee)+', expected '+$.pretty(G)+')')},isSignature:function(G,ee){var te=this.reader.index;this.reader.setIndex(G);var ne=this.reader.readString(4);return this.reader.setIndex(te),ne===ee},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var G=this.reader.readData(this.zipCommentLength),ee=K.uint8array?'uint8array':'array',te=$.transformTo(ee,G);this.zipComment=this.loadOptions.decodeFileName(te)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var G=this.zip64EndOfCentralSize-44,te,ne,oe;0<G;)te=this.reader.readInt(2),ne=this.reader.readInt(4),oe=this.reader.readString(ne),this.zip64ExtensibleData[te]={id:te,length:ne,value:oe}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error('Multi-volumes zip are not supported')},readLocalFiles:function(){var G,ee;for(G=0;G<this.files.length;G++)ee=this.files[G],this.reader.setIndex(ee.localHeaderOffset),this.checkSignature(Z.LOCAL_FILE_HEADER),ee.readLocalPart(this.reader),ee.handleUTF8(),ee.processAttributes()},readCentralDir:function(){var G;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===Z.CENTRAL_FILE_HEADER;)G=new W({zip64:this.zip64},this.loadOptions),G.readCentralPart(this.reader),this.files.push(G);if(this.centralDirRecords!==this.files.length)if(0!==this.centralDirRecords&&0===this.files.length)throw new Error('Corrupted zip or bug: expected '+this.centralDirRecords+' records in central dir, got '+this.files.length);else;},readEndOfCentral:function(){var G=this.reader.lastIndexOfSignature(Z.CENTRAL_DIRECTORY_END);if(0>G){var ee=!this.isSignature(0,Z.LOCAL_FILE_HEADER);if(ee)throw new Error('Can\\\'t find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html');else throw new Error('Corrupted zip : can\'t find end of central directory')}this.reader.setIndex(G);var te=G;if(this.checkSignature(Z.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===$.MAX_VALUE_16BITS||this.diskWithCentralDirStart===$.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===$.MAX_VALUE_16BITS||this.centralDirRecords===$.MAX_VALUE_16BITS||this.centralDirSize===$.MAX_VALUE_32BITS||this.centralDirOffset===$.MAX_VALUE_32BITS){if(this.zip64=!0,G=this.reader.lastIndexOfSignature(Z.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>G)throw new Error('Corrupted zip : can\'t find the ZIP64 end of central directory locator');if(this.reader.setIndex(G),this.checkSignature(Z.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Z.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Z.ZIP64_CENTRAL_DIRECTORY_END),0>this.relativeOffsetEndOfZip64CentralDir))throw new Error('Corrupted zip : can\'t find the ZIP64 end of central directory');this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Z.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var ne=this.centralDirOffset+this.centralDirSize;this.zip64&&(ne+=20,ne+=12+this.zip64EndOfCentralSize);var oe=te-ne;if(0<oe)this.isSignature(te,Z.CENTRAL_FILE_HEADER)||(this.reader.zero=oe);else if(0>oe)throw new Error('Corrupted zip: missing '+_Mathabs(oe)+' bytes.')},prepareReader:function(G){var ee=$.getTypeOf(G);if($.checkSupport(ee),'string'===ee&&!K.uint8array)this.reader=new P(G,this.loadOptions.optimizedBinaryString);else if('nodebuffer'===ee)this.reader=new F(G);else if(K.uint8array)this.reader=new T($.transformTo('uint8array',G));else if(K.array)this.reader=new O($.transformTo('array',G));else throw new Error('Unexpected error: unsupported type \''+ee+'\'')},load:function(G){this.prepareReader(G),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},D.exports=R},function(D,E,I){'use strict';function R(K,Q){this.options=K,this.loadOptions=Q}var P=I(36),F=I(0),T=I(32),O=I(13),$=I(5);R.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(K,Q,G){return function(){var ee=K.index;K.setIndex(Q);var te=K.readData(G);return K.setIndex(ee),te}},prepareContent:function(K,Q,G,ee,te){return function(){var ne=F.transformTo(ee.uncompressInputType,this.getCompressedContent()),oe=ee.uncompress(ne);if(oe.length!==te)throw new Error('Bug : uncompressed data size mismatch');return oe}},readLocalPart:function(K){var Q,G;if(K.skip(22),this.fileNameLength=K.readInt(2),G=K.readInt(2),this.fileName=K.readData(this.fileNameLength),K.skip(G),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error('Bug or corrupted zip : didn\\\'t get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)');if(Q=F.findCompression(this.compressionMethod),null===Q)throw new Error('Corrupted zip : compression '+F.pretty(this.compressionMethod)+' unknown (inner file : '+F.transformTo('string',this.fileName)+')');if(this.decompressed=new T,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(K,K.index,this.compressedSize,Q),this.decompressed.getContent=this.prepareContent(K,K.index,this.compressedSize,Q,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=F.transformTo('string',this.decompressed.getContent()),O.crc32(this.decompressed)!==this.crc32))throw new Error('Corrupted zip : CRC32 mismatch')},readCentralPart:function(K){if(this.versionMadeBy=K.readInt(2),this.versionNeeded=K.readInt(2),this.bitFlag=K.readInt(2),this.compressionMethod=K.readString(2),this.date=K.readDate(),this.crc32=K.readInt(4),this.compressedSize=K.readInt(4),this.uncompressedSize=K.readInt(4),this.fileNameLength=K.readInt(2),this.extraFieldsLength=K.readInt(2),this.fileCommentLength=K.readInt(2),this.diskNumberStart=K.readInt(2),this.internalFileAttributes=K.readInt(2),this.externalFileAttributes=K.readInt(4),this.localHeaderOffset=K.readInt(4),this.isEncrypted())throw new Error('Encrypted zip are not supported');this.fileName=K.readData(this.fileNameLength),this.readExtraFields(K),this.parseZIP64ExtraField(K),this.fileComment=K.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var K=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),K==0&&(this.dosPermissions=63&this.externalFileAttributes),K==3&&(this.unixPermissions=65535&this.externalFileAttributes>>16),this.dir||'/'!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var Q=new P(this.extraFields[1].value);this.uncompressedSize===F.MAX_VALUE_32BITS&&(this.uncompressedSize=Q.readInt(8)),this.compressedSize===F.MAX_VALUE_32BITS&&(this.compressedSize=Q.readInt(8)),this.localHeaderOffset===F.MAX_VALUE_32BITS&&(this.localHeaderOffset=Q.readInt(8)),this.diskNumberStart===F.MAX_VALUE_32BITS&&(this.diskNumberStart=Q.readInt(4))}},readExtraFields:function(K){var Q=K.index,G,ee,te;for(this.extraFields=this.extraFields||{};K.index<Q+this.extraFieldsLength;)G=K.readInt(2),ee=K.readInt(2),te=K.readString(ee),this.extraFields[G]={id:G,length:ee,value:te}},handleUTF8:function(){var K=$.uint8array?'uint8array':'array';if(this.useUTF8())this.fileNameStr=O.utf8decode(this.fileName),this.fileCommentStr=O.utf8decode(this.fileComment);else{var Q=this.findExtraFieldUnicodePath();if(null!==Q)this.fileNameStr=Q;else{var G=F.transformTo(K,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(G)}var ee=this.findExtraFieldUnicodeComment();if(null!==ee)this.fileCommentStr=ee;else{var te=F.transformTo(K,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(te)}}},findExtraFieldUnicodePath:function(){var K=this.extraFields[28789];if(K){var Q=new P(K.value);return 1===Q.readInt(1)?O.crc32(this.fileName)===Q.readInt(4)?O.utf8decode(Q.readString(K.length-5)):null:null}return null},findExtraFieldUnicodeComment:function(){var K=this.extraFields[25461];if(K){var Q=new P(K.value);return 1===Q.readInt(1)?O.crc32(this.fileComment)===Q.readInt(4)?O.utf8decode(Q.readString(K.length-5)):null:null}return null}},D.exports=R},function(D,E,I){'use strict';function T(K){for(var Q=Array(K[0].length),G=0;G<Q.length;++G)Q[G]=Array(K.length);for(G=0;G<K.length;++G)for(var ee=0;ee<K[0].length;++ee)Q[ee][G]=K[G][ee];return Q}const W=I(6).array;D.exports={coordArrayToPoints:function(K,Q){if(0!=K.length%Q)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var G=K.length/Q,ee=Array(G),te=0,ne=0,oe;ne<K.length;ne+=Q){oe=Array(Q);for(var se=0;se<Q;++se)oe[se]=K[ne+se];ee[te]=oe,te++}return ee},coordArrayToCoordMatrix:function(K,Q){if(0!=K.length%Q)throw new RangeError('Dimensions number must be accordance with the size of the array.');for(var G=Array(Q),ee=K.length/Q,te=0;te<G.length;te++)G[te]=Array(ee);for(te=0;te<K.length;te+=Q)for(var ne=0,oe;ne<Q;++ne)oe=_Mathfloor(te/Q),G[ne][oe]=K[te+ne];return G},coordMatrixToCoordArray:function(K){for(var Q=Array(K.length*K[0].length),G=0,ee=0;ee<K[0].length;++ee)for(var te=0;te<K.length;++te)Q[G]=K[te][ee],++G;return Q},coordMatrixToPoints:T,pointsToCoordArray:function(K){for(var Q=Array(K.length*K[0].length),G=0,ee=0;ee<K.length;++ee)for(var te=0;te<K[0].length;++te)Q[G]=K[ee][te],++G;return Q},pointsToCoordMatrix:T,applyDotProduct:function(K,Q){var G,ee;K.length<=Q.length?(ee=K,G=Q):(ee=Q,G=K);for(var te=G.length-ee.length+1,ne=Array(te),oe=0,se;oe<te;++oe){se=0;for(var le=0;le<ee.length;++le)se+=ee[le]*G[oe+le];ne[oe]=se}return ne},scale:function(K,Q){var G=Q.inPlace?K:Array(K.length);const ee=Q.max,te=Q.min;if('number'==typeof ee){if('number'==typeof te)for(var ne=W.minMax(K),oe=(ee-te)/(ne.max-ne.min),se=0;se<G.length;se++)G[se]=(K[se]-ne.min)*oe+te;else for(var le=W.max(K),oe=ee/le,se=0;se<G.length;se++)G[se]=K[se]*oe;}else if('number'==typeof te)for(var le=W.min(K),oe=te/le,se=0;se<G.length;se++)G[se]=K[se]*oe;return G}}},function(D,E){'use strict';function P(O,$,Z,W,K){function Q(we,Ce,je,ve){return(ve-Ce)/(je-we)}var G=O.length,ee=(W-Z)/(K-1),ne=Z-ee/2,oe=Array(K),se=O[1]-O[0],le=O[O.length-1]-O[O.length-2],ae=ne,de=ne+ee,ue=_NumberMIN_VALUE,pe=0,ce=O[0]-se,he=0,me=0,ge=0,fe=0,ye=0,xe=0,be=0,_e=0;main:for(;;){for(;0<=ce-de;){var ke=T(0,de-ue,ge,pe);if(xe=me+ke,oe[_e]=(xe-ye)/ee,_e++,_e===K)break main;ae=de,de+=ee,ye=xe}ue<=ae&&ae<=ce&&(ke=T(0,ae-ue,ge,pe),ye=me+ke),me+=T(ue,ce,ge,fe),ue=ce,pe=he,be<G?(ce=O[be],he=$[be],be++):be===G&&(ce+=le,he=0),ge=Q(ue,pe,ce,he),fe=-ge*ue+pe}return oe}function F(O,$,Z,W,K){var Q=O.length,G=(W-Z)/(K-1),te=O[O.length-1]-O[O.length-2],ne=Z-G/2,oe=Array(K),se=ne,le=ne+G,ae=-_NumberMAX_VALUE,de=0,ue=O[0],pe=$[0],ce=0,he=!0,me=0,ge=0,fe=1,ye=0;main:for(;;){if(ae>=ue)throw new Error('x must be an increasing serie');for(;0<ae-le;){if(he&&(ge++,he=!1),oe[ye]=0>=ge?0:me/ge,ye++,ye===K)break main;se=le,le+=G,me=0,ge=0}ae>se&&(me+=de,ge++),(ae==-_NumberMAX_VALUE||1<ce)&&ge--,ae=ue,de=pe,fe<Q?(ue=O[fe],pe=$[fe],fe++):(ue+=te,pe=0,ce++)}return oe}function T(O,$,Z,W){return 0.5*Z*$*$+W*$-(0.5*Z*O*O+W*O)}E.getEquallySpacedData=function(O,$,Z){1<O.length&&O[0]>O[1]&&(O=O.slice().reverse(),$=$.slice().reverse());var W=O.length;if(W!==$.length)throw new RangeError('the x and y vector doesn\'t have the same size.');Z===void 0&&(Z={});var K=Z.from===void 0?O[0]:Z.from;if(isNaN(K)||!isFinite(K))throw new RangeError('\'From\' value must be a number');var Q=Z.to===void 0?O[O.length-1]:Z.to;if(isNaN(Q)||!isFinite(Q))throw new RangeError('\'To\' value must be a number');var G=K>Q;if(G){var ee=K;K=Q,Q=ee}var te=Z.numberOfPoints===void 0?100:Z.numberOfPoints;if(isNaN(te)||!isFinite(te))throw new RangeError('\'Number of points\' value must be a number');if(1>te)throw new RangeError('the number of point must be higher than 1');var ne='slot'===Z.variant?'slot':'smooth',oe='slot'==ne?F(O,$,K,Q,te):P(O,$,K,Q,te);return G?oe.reverse():oe},E.integral=T},function(D,E,I){'use strict';E.SNV=function(F){for(var T=P.mean(F),O=P.standardDeviation(F),$=F.slice(),Z=0;Z<F.length;Z++)$[Z]=($[Z]-T)/O;return $};var P=I(6).array},function(D){'use strict';function R(F){this.value=F,this.parent=null,this.rank=0}D.exports=class{constructor(){this.nodes=new Map}add(F){var T=this.nodes.get(F);return T||(T=new R(F),this.nodes.set(F,T)),T}union(F,T){const O=this.find(F),$=this.find(T);O===$||(O.rank<$.rank?O.parent=$:O.rank>$.rank?$.parent=O:($.parent=O,O.rank++))}find(F){for(var T=F;null!==T.parent;)T=T.parent;for(var O=F,$;null!==O.parent;)$=O,O=O.parent,$.parent=T;return T}connected(F,T){return this.find(F)===this.find(T)}}},function(D){'use strict';D.exports=function(P,F){const T=P.length;let O=Array.from({length:T}).map(()=>Array.from({length:T}));for(let $=0;$<T;$++)for(let Z=0;Z<=$;Z++)O[$][Z]=F(P[$],P[Z]);for(let $=0;$<T;$++)for(let Z=$+1;Z<T;Z++)O[$][Z]=O[Z][$];return O}},function(D,E,I){'use strict';var R=I(41);D.exports={DEBUG:!1,ifft2DArray:function(F,T,O){var $=Array(T*O),Z=T/2,W=2*(O-1);R.init(Z);for(var K={re:Array(Z),im:Array(Z)},Q=0;Q<O;Q++){for(var G=Z-1;0<=G;G--)K.re[G]=F[2*G*O+Q],K.im[G]=F[(2*G+1)*O+Q];R.bt(K.re,K.im);for(var G=Z-1;0<=G;G--)$[2*G*O+Q]=K.re[G],$[(2*G+1)*O+Q]=K.im[G]}var ee=Array(Z*W);R.init(W);for(var te={re:Array(W),im:Array(W)},G=0;G<T;G+=2){te.re[0]=$[G*O],te.im[0]=$[(G+1)*O];for(var Q=1;Q<O;Q++)te.re[Q]=$[G*O+Q],te.im[Q]=$[(G+1)*O+Q],te.re[W-Q]=$[G*O+Q],te.im[W-Q]=-$[(G+1)*O+Q];R.bt(te.re,te.im);for(var oe=G/2*W,Q=W-1;0<=Q;Q--)ee[oe+Q]=te.re[Q]/(W*Z)}return ee},fft2DArray:function(F,T,O){var Z=Object.assign({},{inplace:!0}),W=O/2+1,K=2*T,Q=Array(K*W);R.init(O);for(var G={re:Array(O),im:Array(O)},ee={re:Array(O),im:Array(O)},te={re:Array(O),im:Array(O)},de=0,ne,oe,se,le,ae;de<T/2;de++){ne=2*de*O,G.re=F.slice(ne,ne+O),ne=(2*de+1)*O,G.im=F.slice(ne,ne+O),R.fft1d(G.re,G.im),this.reconstructTwoRealFFT(G,ee,te),oe=4*de*W,se=(4*de+1)*W,le=(4*de+2)*W,ae=(4*de+3)*W;for(var ue=W-1;0<=ue;ue--)Q[oe+ue]=ee.re[ue],Q[se+ue]=ee.im[ue],Q[le+ue]=te.re[ue],Q[ae+ue]=te.im[ue]}ee=null,te=null;var pe=Array(K*W);R.init(T);for(var ce={re:Array(T),im:Array(T)},he=W-1;0<=he;he--){for(var de=T-1;0<=de;de--)ce.re[de]=Q[2*de*W+he],ce.im[de]=Q[(2*de+1)*W+he],isNaN(ce.re[de])&&(ce.re[de]=0),isNaN(ce.im[de])&&(ce.im[de]=0);R.fft1d(ce.re,ce.im);for(var de=T-1;0<=de;de--)pe[2*de*W+he]=ce.re[de],pe[(2*de+1)*W+he]=ce.im[de]}return pe},reconstructTwoRealFFT:function(F,T,O){var $=F.re.length;T.re[0]=F.re[0],T.im[0]=0,O.re[0]=F.im[0],O.im[0]=0;for(var ee=$/2,Z,W,K,Q,G;0<ee;ee--)G=$-ee,Z=0.5*(F.re[ee]-F.re[G]),W=0.5*(F.re[ee]+F.re[G]),K=0.5*(F.im[ee]-F.im[G]),Q=0.5*(F.im[ee]+F.im[G]),T.re[ee]=W,T.im[ee]=K,T.re[G]=W,T.im[G]=-K,O.re[ee]=Q,O.im[ee]=-Z,O.re[G]=Q,O.im[G]=Z},convolute2DI:function(F,T,O,$){for(var K=0,Z,W;K<O/2;K++)for(var Q=0;Q<$;Q++)Z=F[2*K*$+Q]*T[2*K*$+Q]-F[(2*K+1)*$+Q]*T[(2*K+1)*$+Q],W=F[2*K*$+Q]*T[(2*K+1)*$+Q]+F[(2*K+1)*$+Q]*T[2*K*$+Q],F[2*K*$+Q]=Z,F[(2*K+1)*$+Q]=W},convolute:function(F,T,O,$){for(var W=Array($*O),K=0;K<O*$;K++)W[K]=F[K];W=this.fft2DArray(W,O,$);for(var Q=T.length,G=T[0].length,ee=Array($*O),K=0;K<$*O;K++)ee[K]=0;for(var oe=_Mathfloor((Q-1)/2),se=_Mathfloor((G-1)/2),le=0,te,ne;le<Q;le++){te=(le-oe+O)%O;for(var ae=0;ae<G;ae++)ne=(ae-se+$)%$,ee[te*$+ne]=T[le][ae]}ee=this.fft2DArray(ee,O,$);var de=2*O,ue=$/2+1;return this.convolute2DI(W,ee,de,ue),this.ifft2DArray(W,de,ue)},toRadix2:function(F,T,O){var $,Z,W,K,Q=O,G=T,ee=0,te=0;if(0===O||0!=(O&O-1)){for(Q=0;0!=O>>++Q;);Q=1<<Q,te=Q-O}if(0===T||0!=(T&T-1)){for(G=0;0!=T>>++G;);G=1<<G,ee=(G-T)*Q}if(G==T&&Q==O)return{data:F,rows:T,cols:O};var ne=Array(G*Q),oe=_Mathfloor((G-T)/2)-T,se=_Mathfloor((Q-O)/2)-O;for($=0;$<G;$++)for(W=$*Q,K=($-oe)%T*O,Z=0;Z<Q;Z++)ne[W+Z]=F[K+(Z-se)%O];return{data:ne,rows:G,cols:Q}},crop:function(F,T,O,$,Z,W){if(T==$&&O==Z)return F;var K=Object.assign({},W),Q=Array(Z*$),G=_Mathfloor((T-$)/2),ee=_Mathfloor((O-Z)/2),te,ne,oe,se;for(oe=0;oe<$;oe++)for(te=oe*Z,ne=(oe+G)*O,se=0;se<Z;se++)Q[te+se]=F[ne+(se+ee)];return Q}}},function(D,E,I){'use strict';function P(Z){var W=0,K=0,Q=Z.length;for(let ee=0;ee<Q;++ee)W+=Z[ee];W/=Q;var G=Array(Q);for(let ee=0;ee<Q;++ee)G[ee]=_Mathabs(Z[ee]-W);return G.sort(),K=1==Q%2?G[(Q-1)/2]/0.6745:0.5*(G[Q/2]+G[Q/2-1])/0.6745,K}function F(Z,W,K){for(var oe=0,Q,G,ee,te,ne;oe<Z.length;oe++)ne=Z[oe].i,K[ne-1]>=K[ne-2]&&K[ne-1]>=K[ne]?ne--:K[ne+1]>=K[ne]&&K[ne+1]>=K[ne+2]?ne++:K[ne-2]>=K[ne-3]&&K[ne-2]>=K[ne-1]?ne-=2:K[ne+2]>=K[ne+1]&&K[ne+2]>=K[ne+3]&&(ne+=2),0<K[ne-1]&&0<K[ne+1]&&K[ne]>=K[ne-1]&&K[ne]>=K[ne+1]&&(Q=20*_Mathlog2(K[ne-1]),G=20*_Mathlog2(K[ne]),ee=20*_Mathlog2(K[ne+1]),te=0.5*(Q-ee)/(Q-2*G+ee),Z[oe].x=W[ne]+(W[ne]-W[ne-1])*te,Z[oe].y=K[ne]-0.25*(K[ne-1]-K[ne+1])*te)}const T=I(29),O=I(138),$={sgOptions:{windowSize:9,polynomial:3},minMaxRatio:2.5e-4,broadRatio:0,maxCriteria:!0,smoothY:!0,realTopDetection:!1,heightFactor:0,boundaries:!1,derivativeThreshold:-1};D.exports=function(Z,W,K){K=T({},$,K);let Q=K.sgOptions;const G=[].concat(W);if(!('noiseLevel'in K)){var ee=0,te=_NumberMAX_VALUE,ne;for(let He=0;He<Z.length-1;++He)ne=_Mathabs(Z[He+1]-Z[He]),ne<te&&(te=ne),ne>ee&&(ee=ne);K.noiseLevel=0.05>(ee-te)/ee?P(G):0}const oe={m:1,b:K.noiseLevel};K.maxCriteria||(oe.m=-1,oe.b*=-1);for(let He=0;He<G.length;He++)G[He]=oe.m*G[He]-oe.b;for(let He=0;He<G.length;He++)0>G[He]&&(G[He]=0);let se=G,le,ae;0.05>(ee-te)/ee?(K.smoothY&&(se=O(G,Z[1]-Z[0],{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:0})),le=O(G,Z[1]-Z[0],{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:1}),ae=O(G,Z[1]-Z[0],{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:2})):(K.smoothY&&(se=O(G,Z,{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:0})),le=O(G,Z,{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:1}),ae=O(G,Z,{windowSize:Q.windowSize,polynomial:Q.polynomial,derivative:2}));const de=Z,ue=Z[1]-Z[0];var pe=0,ce=0;for(let He=0;He<se.length;He++)_Mathabs(ae[He])>pe&&(pe=_Mathabs(ae[He])),_Mathabs(se[He])>ce&&(ce=_Mathabs(se[He]));var he=null,me=null,ge=Array(se.length-2),fe=Array(se.length),ye=Array(se.length),xe=Array(se.length-2),be=0,_e=0,ke=0,we=0;for(let He=1;He<se.length-1;++He)_Mathabs(le[He])>K.derivativeThreshold&&((le[He]<le[He-1]&&le[He]<=le[He+1]||le[He]<=le[He-1]&&le[He]<le[He+1])&&(me={x:de[He],index:He},0<ue&&null!=he&&(fe[_e++]=he,ye[ke++]=me)),(le[He]>=le[He-1]&&le[He]>le[He+1]||le[He]>le[He-1]&&le[He]>=le[He+1])&&(he={x:de[He],index:He},0>ue&&null!==me&&(fe[_e++]=he,ye[ke++]=me))),ae[He]<ae[He-1]&&ae[He]<ae[He+1]&&(ge[be++]=He,xe[we++]=_Mathabs(ae[He])<=K.broadRatio*pe);ge.length=be,fe.length=_e,ye.length=ke,xe.length=we;let Ce=Array(ge.length),je=0,ve=-1,Se,De,Ee,Ie,Ae;for(let He=0;He<ge.length;++He){De=de[ge[He]],Se=-1;let Re=ve+1;for(Ie=_NumberMAX_VALUE,Ee=0,Ae=!0;-1===Se&&Re<fe.length&&Ae;)Ee=_Mathabs(De-(fe[Re].x+ye[Re].x)/2),Ee<Ie?Ie=Ee:Ae=!1,Ee<_Mathabs(fe[Re].x-ye[Re].x)/2&&(Se=Re,ve=Re),++Re;if(-1!==Se&&_Mathabs(se[ge[He]])>K.minMaxRatio*ce&&(Ce[je++]={index:ge[He],x:De,y:(se[ge[He]]+oe.b)/oe.m,width:_Mathabs(ye[Se].x-fe[Se].x),soft:xe[He]},K.boundaries&&(Ce[je-1].left=fe[Se],Ce[je-1].right=ye[Se]),K.heightFactor)){let Pe=se[fe[Se].index],Fe=se[ye[Se].index];Ce[je-1].height=K.heightFactor*(Ce[je-1].y-(Pe+Fe)/2)}}Ce.length=je,K.realTopDetection&&F(Ce,de,se);for(let He=0;He<Ce.length;He++)Ce[He].base=K.noiseLevel;return Ce.sort(function(He,Re){return He.x-Re.x}),Ce}},function(D,E,I){'use strict';D.exports.post=I(104),D.exports.gsd=I(102)},function(D,E,I){'use strict';function R($,Z,W,K,Q){var G=W.length,ee=[],te=[],ne=_Mathsign(W[1]-W[0]);-1===ne&&(Q[0]=W.length-1);for(var oe=_Mathabs(Z-$)/2,se=($+Z)/2,le=!1,ae=Q[0];!le&&ae<G&&0<=ae;)_Mathabs(W[ae]-se)<=oe?(ee.push(W[ae]),te.push(K[ae]),ae+=ne):1===_Mathsign(se-W[ae])?ae+=ne:le=!0;return Q[0]=ae,[ee,te]}function F($,Z){var W=[],K=[],Q,G,ee=[$[0].x,Z*$[0].width],te,ne;for(Q=0;Q<$.length;Q++)_Mathabs($[Q].x-ee[0])<Z*$[Q].width+ee[1]?(W.push($[Q]),te=ee[0]+ee[1],$[Q].x+Z*$[Q].width>te&&(te=$[Q].x+Z*$[Q].width),ne=ee[0]-ee[1],$[Q].x-Z*$[Q].width<ne&&(ne=$[Q].x-Z*$[Q].width),ee=[(te+ne)/2,_Mathabs(te-ne)/2]):(K.push({limits:ee,group:W}),W=[$[Q]],ee=[$[Q].x,Z*$[Q].width]);for(K.push({limits:ee,group:W}),Q=K.length-2;0<=Q;Q--)if(_Mathabs(K[Q].limits[0]-K[Q+1].limits[0])<(K[Q].limits[1]+K[Q+1].limits[1])/2){for(G=0;G<K[Q+1].group.length;G++)K[Q].group.push(K[Q+1].group[G]);te=K[Q].limits[0]+K[Q].limits[1],K[Q+1].limits[0]+K[Q+1].limits[1]>te&&(te=K[Q+1].limits[0]+K[Q+1].limits[1]),ne=K[Q].limits[0]-K[Q].limits[1],K[Q+1].limits[0]-K[Q+1].limits[1]<ne&&(ne=K[Q+1].limits[0]-K[Q+1].limits[1]),K[Q].limits=[(te+ne)/2,_Mathabs(te-ne)/2],K.splice(Q+1,1)}return K}var O=I(135);D.exports={optimizePeaks:function($,Z,W,K,Q){var te=[0],G,ee,ne=F($,K),oe=[],se=1;'gaussian'===Q&&(se=1.17741);var le,ae,de;for(G=0;G<ne.length;G++){var ue=ne[G].group;if(1<ue.length){if(le=R(ne[G].limits[0]-ne[G].limits[1],ne[G].limits[0]+ne[G].limits[1],Z,W,te),5<le[0].length){ae=ue[0].width/1e3,de=[3,100,ae,ae,ae,10*ae,10*ae,11,9,1];var pe=[];for('gaussian'===Q?pe=O.optimizeGaussianSum(le,ue,de):'lorentzian'===Q&&(pe=O.optimizeLorentzianSum(le,ue,de)),ee=0;ee<pe.length;ee++)oe.push({x:pe[ee][0][0],y:pe[ee][1][0],width:pe[ee][2][0]*se})}}else if(ue=ue[0],le=R(ue.x-K*ue.width,ue.x+K*ue.width,Z,W,te),5<le[0].length){ae=ue.width/1e3,de=[3,100,ae,ae,ae,10*ae,10*ae,11,9,1];var ce=[];'gaussian'===Q?ce=O.optimizeSingleGaussian([le[0],le[1]],ue,de):'lorentzian'===Q&&(ce=O.optimizeSingleLorentzian([le[0],le[1]],ue,de)),oe.push({x:ce[0][0],y:ce[1][0],width:ce[2][0]*se})}}return oe},joinBroadPeaks:function($,Z){var W=Z.width,K=[],Q=0,G=0,ee=1;for(let se=$.length-1;0<=se;se--)$[se].soft&&K.push($.splice(se,1)[0]);K.push({x:_NumberMAX_VALUE});var te=[[K[0].x,K[0].y]],ne=[0];for(let se=1;se<K.length;se++)if(_Mathabs(K[se-1].x-K[se].x)<W)te.push([K[se].x,K[se].y]),K[se].y>Q&&(Q=K[se].y,G=se),ne.push(se),ee++;else{if(2<ee){var oe=O.optimizeSingleLorentzian(te,{x:K[G].x,y:Q,width:_Mathabs(te[0][0]-te[te.length-1][0])});$.push({x:oe[0][0],y:oe[1][0],width:oe[2][0],soft:!1})}else ne.map(function(le){$.push(K[le])});te=[[K[se].x,K[se].y]],ne=[se],Q=K[se].y,G=se,ee=1}return $.sort(function(se,le){return se.x-le.x}),$}}},function(D,E,I){'use strict';function R(se,le){return 0|se*le}function P(se,le){return _Mathmin(se-2,0|se*le)}function F(se,le,ae){return Z(_Mathmax(se+1,0|4*se/(3*le+ae)))}function T(se,le,ae){return Z(_Mathmax(se+1,0|4*se/(le+3*ae)))}const O=I(18),$=I(106),Z=$.nextPrime,W=$.largestPrime,K=0,Q=1,G=2;class oe{constructor(se={}){if(se instanceof oe)return this.table=se.table.slice(),this.values=se.values.slice(),this.state=se.state.slice(),this.minLoadFactor=se.minLoadFactor,this.maxLoadFactor=se.maxLoadFactor,this.distinct=se.distinct,this.freeEntries=se.freeEntries,this.lowWaterMark=se.lowWaterMark,void(this.highWaterMark=se.maxLoadFactor);const le=se.initialCapacity===void 0?150:se.initialCapacity;if(0>le)throw new RangeError(`initial capacity must not be less than zero: ${le}`);const ae=se.minLoadFactor===void 0?1/6:se.minLoadFactor,de=se.maxLoadFactor===void 0?2/3:se.maxLoadFactor;if(0>ae||1<=ae)throw new RangeError(`invalid minLoadFactor: ${ae}`);if(0>=de||1<=de)throw new RangeError(`invalid maxLoadFactor: ${de}`);if(ae>=de)throw new RangeError(`minLoadFactor (${ae}) must be smaller than maxLoadFactor (${de})`);let ue=le;ue=0|ue/de,ue=Z(ue),0===ue&&(ue=1),this.table=O(ue,0),this.values=O(ue,0),this.state=O(ue,0),this.minLoadFactor=ae,this.maxLoadFactor=ue===W?1:de,this.distinct=0,this.freeEntries=ue,this.lowWaterMark=0,this.highWaterMark=P(ue,this.maxLoadFactor)}clone(){return new oe(this)}get size(){return this.distinct}get(se){const le=this.indexOfKey(se);return 0>le?0:this.values[le]}set(se,le){let ae=this.indexOfInsertion(se);if(0>ae)return ae=-ae-1,this.values[ae]=le,!1;if(this.distinct>this.highWaterMark){const de=F(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);return this.rehash(de),this.set(se,le)}if(this.table[ae]=se,this.values[ae]=le,this.state[ae]===K&&this.freeEntries--,this.state[ae]=Q,this.distinct++,1>this.freeEntries){const de=F(this.distinct+1,this.minLoadFactor,this.maxLoadFactor);this.rehash(de)}return!0}remove(se,le){const ae=this.indexOfKey(se);return!(0>ae)&&(this.state[ae]=G,this.distinct--,le||this.maybeShrinkCapacity(),!0)}delete(se,le){const ae=this.indexOfKey(se);return!(0>ae)&&(this.state[ae]=K,this.distinct--,le||this.maybeShrinkCapacity(),!0)}maybeShrinkCapacity(){if(this.distinct<this.lowWaterMark){const se=T(this.distinct,this.minLoadFactor,this.maxLoadFactor);this.rehash(se)}}containsKey(se){return 0<=this.indexOfKey(se)}indexOfKey(se){const le=this.table,ae=this.state,de=this.table.length,ue=2147483647&se;let pe=ue%de,ce=ue%(de-2);for(0==ce&&(ce=1);ae[pe]!==K&&(ae[pe]===G||le[pe]!==se);)pe-=ce,0>pe&&(pe+=de);return ae[pe]===K?-1:pe}containsValue(se){return 0<=this.indexOfValue(se)}indexOfValue(se){const le=this.values,ae=this.state;for(var de=0;de<ae.length;de++)if(ae[de]===Q&&le[de]===se)return de;return-1}indexOfInsertion(se){const le=this.table,ae=this.state,de=le.length,ue=2147483647&se;let pe=ue%de,ce=ue%(de-2);for(0==ce&&(ce=1);ae[pe]===Q&&le[pe]!==se;)pe-=ce,0>pe&&(pe+=de);if(ae[pe]===G){const he=pe;for(;ae[pe]!==K&&(ae[pe]===G||le[pe]!==se);)pe-=ce,0>pe&&(pe+=de);ae[pe]===K&&(pe=he)}return ae[pe]===Q?-pe-1:pe}ensureCapacity(se){if(this.table.length<se){const le=Z(se);this.rehash(le)}}rehash(se){const le=this.table.length;if(se<=this.distinct)throw new Error('Unexpected');const ae=this.table,de=this.values,ue=this.state,pe=O(se,0),ce=O(se,0),he=O(se,0);this.lowWaterMark=R(se,this.minLoadFactor),this.highWaterMark=P(se,this.maxLoadFactor),this.table=pe,this.values=ce,this.state=he,this.freeEntries=se-this.distinct;for(var me=0;me<le;me++)if(ue[me]===Q){var ge=ae[me],fe=this.indexOfInsertion(ge);pe[fe]=ge,ce[fe]=de[me],he[fe]=Q}}forEachKey(se){for(var le=0;le<this.state.length;le++)if(this.state[le]===Q&&!se(this.table[le]))return!1;return!0}forEachValue(se){for(var le=0;le<this.state.length;le++)if(this.state[le]===Q&&!se(this.values[le]))return!1;return!0}forEachPair(se){for(var le=0;le<this.state.length;le++)if(this.state[le]===Q&&!se(this.table[le],this.values[le]))return!1;return!0}}D.exports=oe},function(D,E,I){const P=I(26),F=I(54).asc,T=2147483647,O=[T,5,11,23,47,97,197,397,797,1597,3203,6421,12853,25717,51437,102877,205759,411527,823117,1646237,3292489,6584983,13169977,26339969,52679969,105359939,210719881,421439783,842879579,1685759167,433,877,1759,3527,7057,14143,28289,56591,113189,226379,452759,905551,1811107,3622219,7244441,14488931,28977863,57955739,115911563,231823147,463646329,927292699,1854585413,953,1907,3821,7643,15287,30577,61169,122347,244703,489407,978821,1957651,3915341,7830701,15661423,31322867,62645741,125291483,250582987,501165979,1002331963,2004663929,1039,2081,4177,8363,16729,33461,66923,133853,267713,535481,1070981,2141977,4283963,8567929,17135863,34271747,68543509,137087021,274174111,548348231,1096696463,31,67,137,277,557,1117,2237,4481,8963,17929,35863,71741,143483,286973,573953,1147921,2295859,4591721,9183457,18366923,36733847,73467739,146935499,293871013,587742049,1175484103,599,1201,2411,4831,9677,19373,38747,77509,155027,310081,620171,1240361,2480729,4961459,9922933,19845871,39691759,79383533,158767069,317534141,635068283,1270136683,311,631,1277,2557,5119,10243,20507,41017,82037,164089,328213,656429,1312867,2625761,5251529,10503061,21006137,42012281,84024581,168049163,336098327,672196673,1344393353,3,7,17,37,79,163,331,673,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,43,89,179,359,719,1439,2879,5779,11579,23159,46327,92657,185323,370661,741337,1482707,2965421,5930887,11861791,23723597,47447201,94894427,189788857,379577741,759155483,1518310967,379,761,1523,3049,6101,12203,24407,48817,97649,195311,390647,781301,1562611,3125257,6250537,12501169,25002389,50004791,100009607,200019221,400038451,800076929,1600153859,13,29,59,127,257,521,1049,2099,4201,8419,16843,33703,67409,134837,269683,539389,1078787,2157587,4315183,8630387,17260781,34521589,69043189,138086407,276172823,552345671,1104691373,19,41,83,167,337,677,1361,2729,5471,10949,21911,43853,87719,175447,350899,701819,1403641,2807303,5614657,11229331,22458671,44917381,89834777,179669557,359339171,718678369,1437356741,53,107,223,449,907,1823,3659,7321,14653,29311,58631,117269,234539,469099,938207,1876417,3752839,7505681,15011389,30022781,60045577,120091177,240182359,480364727,960729461,1921458943];O.sort(F),E.nextPrime=function($){let Z=P(O,$,F);return 0>Z&&(Z=~Z),O[Z]},E.largestPrime=T},function(D,E,I){'use strict';function R(ne,oe,se){for(var le=1e101,ae=0;ae<ne.length;ae++)for(var de=0,ue;de<oe.length;de++)ue=se[ne[ae]][oe[de]],le=_Mathmin(ue,le);return le}function P(ne,oe,se){for(var le=-1,ae=0;ae<ne.length;ae++)for(var de=0,ue;de<oe.length;de++)ue=se[ne[ae]][oe[de]],le=_Mathmax(ue,le);return le}function F(ne,oe,se){for(var le=0,ae=0;ae<ne.length;ae++)for(var de=0;de<oe.length;de++)le+=se[ne[ae]][oe[de]];return le/(ne.length*oe.length)}function T(ne,oe,se){for(var le=Array(ne.length*oe.length),ae=0;ae<ne.length;ae++)for(var de=0;de<oe.length;de++)le[ae*oe.length+de]=se[ne[ae]][oe[de]];return Z(le)}function O(ne,oe,se){return T(ne,oe,se)*ne.length*oe.length/(ne.length+oe.length)}function $(ne,oe){return ne-oe}function Z(ne,oe){oe===void 0&&(oe=!1),oe||(ne=[].concat(ne).sort($));var se=ne.length,le=_Mathfloor(se/2);return 0==se%2?0.5*(ne[le-1]+ne[le]):ne[le]}const K=I(40),Q=I(43),G=I(14),ee=I(100);var te={disFunc:K,kind:'single',isDistanceMatrix:!1};D.exports=function(ne,oe){oe=Object.assign({},te,oe);var se=ne.length,le=ne;if(oe.isDistanceMatrix||(le=ee(ne,oe.disFunc)),'string'==typeof oe.kind)switch(oe.kind){case'single':oe.kind=R;break;case'complete':oe.kind=P;break;case'average':oe.kind=F;break;case'centroid':oe.kind=T;break;case'ward':oe.kind=O;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof oe.kind)throw new TypeError('Undefined kind of similarity');for(var ae=Array(se),de=0;de<le.length;de++)ae[de]=new Q(de);for(var ue=1e6,pe={},ce=0;1<ae.length;){pe={},ue=1e6;for(var he=0;he<ae.length;he++)for(var me=he+1;me<ae.length;me++){var ge,fe;if(ae[he]instanceof Q)ge=[ae[he].index];else{ge=Array(ae[he].index.length);for(var ye=0;ye<ge.length;ye++)ge[ye]=ae[he].index[ye].index}if(ae[me]instanceof Q)fe=[ae[me].index];else{fe=Array(ae[me].index.length);for(var xe=0;xe<fe.length;xe++)fe[xe]=ae[me].index[xe].index}ce=oe.kind(ge,fe,le).toFixed(4),ce in pe?pe[ce].push([ae[he],ae[me]]):pe[ce]=[[ae[he],ae[me]]],ue=_Mathmin(ce,ue)}for(var be=pe[ue.toFixed(4)],_e=Array(be.length),we=0,ke;0<be.length;){ke=be.shift();for(var Ce=0,je;Ce<be.length;Ce++)if(je=be[Ce].filter(function(Ae){return-1!==ke.indexOf(Ae)}),0<je.length){var ve=be[Ce].filter(function(Ae){return-1===ke.indexOf(Ae)});ke=ke.concat(ve),be.splice(Ce--,1)}_e[we++]=ke}_e.length=we;for(var Se=0,De;Se<_e.length;Se++){De=new G,De.children=_e[Se].concat(),De.distance=ue,De.index=Array(se);for(var Ee=0,Ie=0;Ie<_e[Se].length;Ie++)_e[Se][Ie]instanceof Q?De.index[Ee++]=_e[Se][Ie]:(Ee+=_e[Se][Ie].index.length,De.index=_e[Se][Ie].index.concat(De.index)),ae.splice(ae.indexOf(_e[Se][Ie]),1);De.index.length=Ee,ae.push(De)}}return ae[0]}},function(D,E,I){'use strict';function R(te,ne,oe){for(var se=1e101,le=0;le<te.length;le++)for(var ae=le,de;ae<ne.length;ae++)de=oe(te[le],ne[ae]),se=_Mathmin(de,se);return se}function P(te,ne,oe){for(var se=-1,le=0;le<te.length;le++)for(var ae=le,de;ae<ne.length;ae++)de=oe(te[le],ne[ae]),se=_Mathmax(de,se);return se}function F(te,ne,oe){for(var se=0,le=0;le<te.length;le++)for(var ae=0;ae<ne.length;ae++)se+=oe(te[le],ne[ae]);return se/(te.length*ne.length)}function T(te,ne,oe){for(var se=0,le=0,ae=0,de=0,ue=0;ue<te.length;ue++)se+=te[ue][0],le+=te[ue][1];for(var pe=0;pe<ne.length;pe++)ae+=ne[pe][0],de+=ne[pe][1];return se/=te.length,le/=te.length,ae/=ne.length,de/=ne.length,oe([se,le],[ae,de])}function O(te,ne,oe){for(var se=0,le=0,ae=0,de=0,ue=0;ue<te.length;ue++)se+=te[ue][0],le+=te[ue][1];for(var pe=0;pe<ne.length;pe++)ae+=ne[pe][0],de+=ne[pe][1];return se/=te.length,le/=te.length,ae/=ne.length,de/=ne.length,oe([se,le],[ae,de])*te.length*ne.length/(te.length+ne.length)}function $(te,ne,oe){for(var se={d:0,p:0},le=Array(te[0].length),ae=0;ae<te[0].length;ae++)le[ae]=ne[te[0][ae]];for(var de=Array(te[1].length),ue=0;ue<te[1].length;ue++)de[ue]=ne[te[1][ue]];for(var he=0,pe,ce;he<le.length;he++){pe=0;for(var me=0;me<le.length;me++)he!==me&&(pe+=oe(le[he],le[me]));pe/=le.length-1,ce=0;for(var ge=0;ge<de.length;ge++)ce+=oe(le[he],de[ge]);ce/=de.length,pe-ce>se.d&&(se.d=pe-ce,se.p=he)}return se}function Z(te,ne,oe){for(var se=0,le=0,ae=0;ae<te.length;ae++)for(var de=ae;de<te.length;de++)se+=oe(ne[te[ae].index],ne[te[de].index]),le++;return se/le}const K=I(40),Q=I(43),G=I(14);var ee={dist:K,kind:'single'};D.exports=function(te,ne){if(ne=Object.assign({},ee,ne),'string'==typeof ne.kind)switch(ne.kind){case'single':ne.kind=R;break;case'complete':ne.kind=P;break;case'average':ne.kind=F;break;case'centroid':ne.kind=T;break;case'ward':ne.kind=O;break;default:throw new RangeError('Unknown kind of similarity');}else if('function'!=typeof ne.kind)throw new TypeError('Undefined kind of similarity');var oe=new G;oe.children=Array(te.length),oe.index=Array(te.length);for(var se=0;se<te.length;se++)oe.children[se]=new Q(se),oe.index[se]=new Q(se);oe.distance=Z(oe.index,te,ne.dist);for(var ce=[oe],le,ae,de,ue,pe;0<ce.length;){ae=0,de=0;for(var he=0;he<ce.length;he++){le=0;for(var me=0;me<ce[he].length;me++)for(var ge=me+1;ge<ce[he].length;ge++)le=_Mathmax(ne.dist(te[ce[he].index[me].index],te[ce[he].index[ge].index]),le);le>ae&&(ae=le,de=he)}if(ae=0,2===ce[de].index.length)ce[de].children=[ce[de].index[0],ce[de].index[1]],ce[de].distance=ne.dist(te[ce[de].index[0].index],te[ce[de].index[1].index]);else if(3===ce[de].index.length){ce[de].children=[ce[de].index[0],ce[de].index[1],ce[de].index[2]];var fe=[ne.dist(te[ce[de].index[0].index],te[ce[de].index[1].index]),ne.dist(te[ce[de].index[1].index],te[ce[de].index[2].index])];ce[de].distance=(fe[0]+fe[1])/2}else{for(var ye=new G,xe=new G,be=[Array(ce[de].index.length),[]],_e=0;_e<be[0].length;_e++)be[0][_e]=_e;for(var ke=0;ke<be[0].length;ke++){ue=0;for(var we=0;we<be[0].length;we++)ke!==we&&(ue+=ne.dist(te[ce[de].index[be[0][we]].index],te[ce[de].index[be[0][ke]].index]));ue/=be[0].length-1,ue>ae&&(ae=ue,pe=ke)}for(be[1]=[pe],be[0].splice(pe,1),ue=$(be,te,ne.dist);0<ue.d;)be[1].push(be[0][ue.p]),be[0].splice(ue.p,1),ue=$(be,te,ne.dist);var Ce=Array(be[0].length);ye.index=Array(be[0].length);for(var je=0;je<Ce.length;je++)Ce[je]=te[ce[de].index[be[0][je]].index],ye.index[je]=ce[de].index[be[0][je]],ye.children[je]=ce[de].index[be[0][je]];var ve=Array(be[1].length);xe.index=Array(be[1].length);for(var Se=0;Se<ve.length;Se++)ve[Se]=te[ce[de].index[be[1][Se]].index],xe.index[Se]=ce[de].index[be[1][Se]],xe.children[Se]=ce[de].index[be[1][Se]];ye.distance=Z(ye.index,te,ne.dist),xe.distance=Z(xe.index,te,ne.dist),ce.push(ye),ce.push(xe),ce[de].children=[ye,xe]}ce.splice(de,1)}return oe}},function(D,E,I){'use strict';E.agnes=I(107),E.diana=I(108)},function(D,E,I){'use strict';var R=I(44);D.exports={DEBUG:!1,ifft2DArray:function(F,T,O){var $=Array(T*O),Z=T/2,W=2*(O-1);R.init(Z);for(var K={re:Array(Z),im:Array(Z)},Q=0;Q<O;Q++){for(var G=Z-1;0<=G;G--)K.re[G]=F[2*G*O+Q],K.im[G]=F[(2*G+1)*O+Q];R.bt(K.re,K.im);for(var G=Z-1;0<=G;G--)$[2*G*O+Q]=K.re[G],$[(2*G+1)*O+Q]=K.im[G]}var ee=Array(Z*W);R.init(W);for(var te={re:Array(W),im:Array(W)},G=0;G<T;G+=2){te.re[0]=$[G*O],te.im[0]=$[(G+1)*O];for(var Q=1;Q<O;Q++)te.re[Q]=$[G*O+Q],te.im[Q]=$[(G+1)*O+Q],te.re[W-Q]=$[G*O+Q],te.im[W-Q]=-$[(G+1)*O+Q];R.bt(te.re,te.im);for(var oe=G/2*W,Q=W-1;0<=Q;Q--)ee[oe+Q]=te.re[Q]/(W*Z)}return ee},fft2DArray:function(F,T,O){var Z=Object.assign({},{inplace:!0}),W=O/2+1,K=2*T,Q=Array(K*W);R.init(O);for(var G={re:Array(O),im:Array(O)},ee={re:Array(O),im:Array(O)},te={re:Array(O),im:Array(O)},de=0,ne,oe,se,le,ae;de<T/2;de++){ne=2*de*O,G.re=F.slice(ne,ne+O),ne=(2*de+1)*O,G.im=F.slice(ne,ne+O),R.fft1d(G.re,G.im),this.reconstructTwoRealFFT(G,ee,te),oe=4*de*W,se=(4*de+1)*W,le=(4*de+2)*W,ae=(4*de+3)*W;for(var ue=W-1;0<=ue;ue--)Q[oe+ue]=ee.re[ue],Q[se+ue]=ee.im[ue],Q[le+ue]=te.re[ue],Q[ae+ue]=te.im[ue]}ee=null,te=null;var pe=Array(K*W);R.init(T);for(var ce={re:Array(T),im:Array(T)},he=W-1;0<=he;he--){for(var de=T-1;0<=de;de--)ce.re[de]=Q[2*de*W+he],ce.im[de]=Q[(2*de+1)*W+he],isNaN(ce.re[de])&&(ce.re[de]=0),isNaN(ce.im[de])&&(ce.im[de]=0);R.fft1d(ce.re,ce.im);for(var de=T-1;0<=de;de--)pe[2*de*W+he]=ce.re[de],pe[(2*de+1)*W+he]=ce.im[de]}return pe},reconstructTwoRealFFT:function(F,T,O){var $=F.re.length;T.re[0]=F.re[0],T.im[0]=0,O.re[0]=F.im[0],O.im[0]=0;for(var ee=$/2,Z,W,K,Q,G;0<ee;ee--)G=$-ee,Z=0.5*(F.re[ee]-F.re[G]),W=0.5*(F.re[ee]+F.re[G]),K=0.5*(F.im[ee]-F.im[G]),Q=0.5*(F.im[ee]+F.im[G]),T.re[ee]=W,T.im[ee]=K,T.re[G]=W,T.im[G]=-K,O.re[ee]=Q,O.im[ee]=-Z,O.re[G]=Q,O.im[G]=Z},convolute2DI:function(F,T,O,$){for(var K=0,Z,W;K<O/2;K++)for(var Q=0;Q<$;Q++)Z=F[2*K*$+Q]*T[2*K*$+Q]-F[(2*K+1)*$+Q]*T[(2*K+1)*$+Q],W=F[2*K*$+Q]*T[(2*K+1)*$+Q]+F[(2*K+1)*$+Q]*T[2*K*$+Q],F[2*K*$+Q]=Z,F[(2*K+1)*$+Q]=W},convolute:function(F,T,O,$){for(var W=Array($*O),K=0;K<O*$;K++)W[K]=F[K];W=this.fft2DArray(W,O,$);for(var Q=T.length,G=T[0].length,ee=Array($*O),K=0;K<$*O;K++)ee[K]=0;for(var oe=_Mathfloor((Q-1)/2),se=_Mathfloor((G-1)/2),le=0,te,ne;le<Q;le++){te=(le-oe+O)%O;for(var ae=0;ae<G;ae++)ne=(ae-se+$)%$,ee[te*$+ne]=T[le][ae]}ee=this.fft2DArray(ee,O,$);var de=2*O,ue=$/2+1;return this.convolute2DI(W,ee,de,ue),this.ifft2DArray(W,de,ue)},toRadix2:function(F,T,O){var $,Z,W,K,Q=O,G=T,ee=0,te=0;if(0===O||0!=(O&O-1)){for(Q=0;0!=O>>++Q;);Q=1<<Q,te=Q-O}if(0===T||0!=(T&T-1)){for(G=0;0!=T>>++G;);G=1<<G,ee=(G-T)*Q}if(G==T&&Q==O)return{data:F,rows:T,cols:O};var ne=Array(G*Q),oe=_Mathfloor((G-T)/2)-T,se=_Mathfloor((Q-O)/2)-O;for($=0;$<G;$++)for(W=$*Q,K=($-oe)%T*O,Z=0;Z<Q;Z++)ne[W+Z]=F[K+(Z-se)%O];return{data:ne,rows:G,cols:Q}},crop:function(F,T,O,$,Z,W){if(T==$&&O==Z)return F;var K=Object.assign({},W),Q=Array(Z*$),G=_Mathfloor((T-$)/2),ee=_Mathfloor((O-Z)/2),te,ne,oe,se;for(oe=0;oe<$;oe++)for(te=oe*$,ne=(oe+G)*O,se=0;se<Z;se++)Q[te+se]=F[ne+(se+ee)];return Q}}},function(D,E,I){'use strict';E.FFTUtils=I(110),E.FFT=I(44)},function(D,E,I){'use strict;';function T($){var Z=$,W,K;if('number'!=typeof $[0]){W=$.length,K=$[0].length,Z=Array(W*K);for(var Q=0;Q<W;Q++)for(var G=0;G<K;G++)Z[Q*K+G]=$[Q][G]}else{var ee=_Mathsqrt($.length);_NumberisInteger(ee)&&(W=ee,K=ee)}return{data:Z,rows:W,cols:K}}var O=I(111).FFTUtils;D.exports={fft:function($,Z,W){var K=T($),Q=K.data,G=Object.assign({normalize:!1,divisor:1,rows:K.rows,cols:K.cols},W),ee,te;if(G.rows&&G.cols)ee=G.rows,te=G.cols;else throw new Error('Invalid number of rows or columns '+ee+' '+te);var ne=G.divisor,le=Z.length,ae=Z[0].length,oe,se;if(G.normalize)for(ne=0,oe=0;oe<le;oe++)for(se=0;se<ae;se++)ne+=Z[oe][se];if(0===ne)throw new RangeError('convolution: The divisor is equal to zero');var de=O.toRadix2(Q,ee,te),ue=O.convolute(de.data,Z,de.rows,de.cols);if(ue=O.crop(ue,de.rows,de.cols,ee,te),0!=ne)for(oe=0;oe<ue.length;oe++)ue[oe]/ne;return ue},direct:function($,Z,W){var K=T($),Q=K.data,G=Object.assign({normalize:!1,divisor:1,rows:K.rows,cols:K.cols},W),ee,te;if(G.rows&&G.cols)ee=G.rows,te=G.cols;else throw new Error('Invalid number of rows or columns '+ee+' '+te);var ne=G.divisor,oe=Z.length,se=Z[0].length,le,ae,de,ue,pe,ce,he,me,ge;if(G.normalize)for(ne=0,le=0;le<oe;le++)for(ae=0;ae<se;ae++)ne+=Z[le][ae];if(0===ne)throw new RangeError('convolution: The divisor is equal to zero');var fe=Array(ee*te),ye=_Mathfloor(oe/2),xe=_Mathfloor(se/2);for(ue=0;ue<ee;ue++)for(de=0;de<te;de++){for(ce=0,ae=0;ae<oe;ae++)for(le=0;le<se;le++)he=Z[oe-ae-1][se-le-1],me=(ue+ae-ye+ee)%ee,ge=(de+le-xe+te)%te,pe=me*te+ge,ce+=Q[pe]*he;pe=ue*te+de,fe[pe]=ce/ne}return fe},kernelFactory:{LoG:function($,Z,W){var K=1e3;W&&W.factor&&(K=W.factor);var Q=Array(Z),G,ee,te,ne;K*=-1;var se=(Z-1)/2;for(G=0;G<Z;G++)for(Q[G]=Array(Z),ne=(G-se)*(G-se),ee=0;ee<Z;ee++)te=-((ee-se)*(ee-se)+ne)/(2*$*$),Q[G][ee]=_Mathround(K*(1+te)*_Mathexp(te));return Q}},matrix2Array:T}},function(D,E,I){'use strict';const P=I(99),F=[-1,0],T=[0,-1],O=[null,null],$=[-1,-1,0,1],Z=[0,-1,-1,-1],W=[null,null,null,null];D.exports=function(K,Q,G,ee){ee=ee||{};const te=ee.neighbours||8;var ne,oe,se;if(8===te)ne=$,oe=Z,se=W;else if(4===te)ne=F,oe=T,se=O;else throw new RangeError('unsupported neighbours count: '+te);const le=K.length,ae=Array(le),de=new Int16Array(le),ue=new P;for(var ce=1,he=0,pe;he<G;he++)for(var me=0,ge;me<Q;me++)if(ge=null,pe=me+he*Q,K[pe]){for(var fe=0;fe<se.length;fe++){var ye=me+ne[fe],xe=he+oe[fe];if(0<=ye&&0<=xe&&ye<Q&&xe<G){var be=ae[ye+xe*Q];be?(se[fe]=be,(!ge||se[fe].value<ge.value)&&(ge=se[fe])):se[fe]=null}}if(!ge)ae[pe]=ue.add(ce++);else{ae[pe]=ge;for(var fe=0;fe<se.length;fe++)se[fe]&&se[fe]!==ge&&ue.union(ge,se[fe])}}for(var he=0;he<G;he++)for(var me=0;me<Q;me++)pe=me+he*Q,K[pe]&&(de[pe]=ue.find(ae[pe]).value);return de}},function(D,E,I){'use strict';function F(K,Q,G,ee){var te={},ne,oe,se,le;for(le=0;le<K.length;le++)0!=K[le]&&(oe=le%ee,ne=(le-oe)/ee,te[K[le]]?(se=te[K[le]],se.x+=oe*Q[le],se.y+=ne*Q[le],se.z+=Q[le],oe<se.minX&&(se.minX=oe),oe>se.maxX&&(se.maxX=oe),ne<se.minY&&(se.minY=ne),ne>se.maxY&&(se.maxY=ne)):te[K[le]]={x:oe*Q[le],y:ne*Q[le],z:Q[le],minX:oe,maxX:oe,minY:ne,maxY:ne});var ae=Object.keys(te),de=Array(ae.length);for(le=0;le<ae.length;le++)de[le]=te[ae[le]],de[le].x/=de[le].z,de[le].y/=de[le].z;return de}var T=I(6).array,O=I(112),$=I(113);const Z=[[0,0,1,2,2,2,1,0,0],[0,1,4,7,7,7,4,1,0],[1,4,5,3,0,3,5,4,1],[2,7,3,-12,-23,-12,3,7,2],[2,7,0,-23,-40,-23,0,7,2],[2,7,3,-12,-23,-12,3,7,2],[1,4,5,3,0,3,5,4,1],[0,1,3,7,7,7,3,1,0],[0,0,1,2,2,2,1,0,0]];D.exports={findPeaks2DRegion:function(K,Q){var G=Object.assign({},{nStdev:3,kernel:Z},Q),ee=O.matrix2Array(K),te=ee.data,ne;ee.rows&&ee.cols&&(G.rows=ee.rows,G.cols=ee.cols);var oe=G.rows,se=G.cols;if(!oe||!se)throw new Error('Invalid number of rows or columns '+oe+' '+se);var le=G.kernel,ae=G.filteredData;ae||(ae=O.fft(te,le,G));var de=G.nStdev,ue=0;for(ne=se*oe-2;0<=ne;ne--)ue+=_Mathpow(ae[ne]-ae[ne+1],2);ue=-_Mathsqrt(ue),ue*=de/oe;var pe=Array(se*oe);for(ne=se*oe-1;0<=ne;ne--)pe[ne]=0;var ce=0;for(ne=ae.length-1;0<=ne;ne--)ae[ne]<ue&&(pe[ne]=1,ce++);var he=$(pe,se,oe,{neighbours:8}),me=F(he,te,oe,se);return 0<me.length,me},findPeaks2DMax:function(K,Q){var G=Object.assign({},{nStdev:3,kernel:Z},Q),ee=O.matrix2Array(K),te=ee.data;ee.rows&&ee.cols&&(G.rows=ee.rows,G.cols=ee.cols);var ne=G.rows,oe=G.cols;if(!ne||!oe)throw new Error('Invalid number of rows or columns '+ne+' '+oe);var se=G.kernel,le=G.filteredData;le||(le=O.fft(te,se,G));for(var ae=G.nStdev,de=0,ue=oe*ne-2;0<=ue;ue--)de+=_Mathpow(le[ue]-le[ue+1],2);de=-_Mathsqrt(de),de*=ae/ne;for(var he=[],me=0,ue=0,pe,ce;ue<le.length;ue++)le[ue]<de&&(pe=_Mathfloor(ue/oe),ce=ue%oe,0<pe&&pe+1<ne&&ce+1<oe&&0<ce&&le[ue]<le[ue+1]&&le[ue]<le[ue-1]&&(me=(pe-1)*oe+ce,le[ue]<le[me-1]&&le[ue]<le[me]&&le[ue]<le[me+1]&&(me=(pe+1)*oe+ce,le[ue]<le[me-1]&&le[ue]<le[me]&&le[ue]<le[me+1]&&he.push({x:ce,y:pe,z:te[ue]}))));return he}}},function(D,E,I){'use strict';function R(F){if(!(this instanceof R))return new R(F);if(F=P.checkMatrix(F),!F.isSymmetric())throw new Error('Matrix is not symmetric');var T=F,O=T.rows,$=new P(O,O),Z=!0,W,K,Q;for(K=0;K<O;K++){var G=$[K],ee=0;for(Q=0;Q<K;Q++){var te=$[Q],ne=0;for(W=0;W<Q;W++)ne+=te[W]*G[W];G[Q]=ne=(T[K][Q]-ne)/$[Q][Q],ee+=ne*ne}for(ee=T[K][K]-ee,Z&=0<ee,$[K][K]=_Mathsqrt(_Mathmax(ee,0)),Q=K+1;Q<O;Q++)$[K][Q]=0}if(!Z)throw new Error('Matrix is not positive definite');this.L=$}var P=I(1).Matrix;R.prototype={get lowerTriangularMatrix(){return this.L},solve:function(F){F=P.checkMatrix(F);var T=this.L,O=T.rows;if(F.rows!==O)throw new Error('Matrix dimensions do not match');var $=F.columns,Z=F.clone(),W,K,Q;for(Q=0;Q<O;Q++)for(K=0;K<$;K++){for(W=0;W<Q;W++)Z[Q][K]-=Z[W][K]*T[Q][W];Z[Q][K]/=T[Q][Q]}for(Q=O-1;0<=Q;Q--)for(K=0;K<$;K++){for(W=Q+1;W<O;W++)Z[Q][K]-=Z[W][K]*T[W][Q];Z[Q][K]/=T[Q][Q]}return Z}},D.exports=R},function(D,E,I){'use strict';function R(ee,te){if(te=Object.assign({},G,te),!(this instanceof R))return new R(ee,te);if(ee=Z.checkMatrix(ee),!ee.isSquare())throw new Error('Matrix is not a square matrix');var ne=ee.columns,oe=Q(ne,ne,0),se=Array(ne),le=Array(ne),ae=ee,pe=!1,de,ue;if(pe=!!te.assumeSymmetric||ee.isSymmetric(),pe){for(de=0;de<ne;de++)for(ue=0;ue<ne;ue++)oe[de][ue]=ae.get(de,ue);P(ne,le,se,oe),F(ne,le,se,oe)}else{var ce=Q(ne,ne,0),he=Array(ne);for(ue=0;ue<ne;ue++)for(de=0;de<ne;de++)ce[de][ue]=ae.get(de,ue);T(ne,ce,he,oe),O(ne,le,se,oe,ce)}this.n=ne,this.e=le,this.d=se,this.V=oe}function P(ee,te,ne,oe){var se,le,ae,de,ue,pe,ce,he;for(ue=0;ue<ee;ue++)ne[ue]=oe[ee-1][ue];for(de=ee-1;0<de;de--){for(he=0,ae=0,pe=0;pe<de;pe++)he+=_Mathabs(ne[pe]);if(0===he)for(te[de]=ne[de-1],ue=0;ue<de;ue++)ne[ue]=oe[de-1][ue],oe[de][ue]=0,oe[ue][de]=0;else{for(pe=0;pe<de;pe++)ne[pe]/=he,ae+=ne[pe]*ne[pe];for(se=ne[de-1],le=_Mathsqrt(ae),0<se&&(le=-le),te[de]=he*le,ae-=se*le,ne[de-1]=se-le,ue=0;ue<de;ue++)te[ue]=0;for(ue=0;ue<de;ue++){for(se=ne[ue],oe[ue][de]=se,le=te[ue]+oe[ue][ue]*se,pe=ue+1;pe<=de-1;pe++)le+=oe[pe][ue]*ne[pe],te[pe]+=oe[pe][ue]*se;te[ue]=le}for(se=0,ue=0;ue<de;ue++)te[ue]/=ae,se+=te[ue]*ne[ue];for(ce=se/(ae+ae),ue=0;ue<de;ue++)te[ue]-=ce*ne[ue];for(ue=0;ue<de;ue++){for(se=ne[ue],le=te[ue],pe=ue;pe<=de-1;pe++)oe[pe][ue]-=se*te[pe]+le*ne[pe];ne[ue]=oe[de-1][ue],oe[de][ue]=0}}ne[de]=ae}for(de=0;de<ee-1;de++){if(oe[ee-1][de]=oe[de][de],oe[de][de]=1,ae=ne[de+1],0!==ae){for(pe=0;pe<=de;pe++)ne[pe]=oe[pe][de+1]/ae;for(ue=0;ue<=de;ue++){for(le=0,pe=0;pe<=de;pe++)le+=oe[pe][de+1]*oe[pe][ue];for(pe=0;pe<=de;pe++)oe[pe][ue]-=le*ne[pe]}}for(pe=0;pe<=de;pe++)oe[pe][de+1]=0}for(ue=0;ue<ee;ue++)ne[ue]=oe[ee-1][ue],oe[ee-1][ue]=0;oe[ee-1][ee-1]=1,te[0]=0}function F(ee,te,ne,oe){var se,le,ae,de,ue,pe,ce,he,me,ge,fe,ye,xe,be,_e,ke,we;for(ae=1;ae<ee;ae++)te[ae-1]=te[ae];te[ee-1]=0;var Ce=0,je=0,ve=2.220446049250313e-16;for(pe=0;pe<ee;pe++){for(je=_Mathmax(je,_Mathabs(ne[pe])+_Mathabs(te[pe])),ce=pe;ce<ee&&!(_Mathabs(te[ce])<=ve*je);)ce++;if(ce>pe){we=0;do{for(++we,se=ne[pe],he=(ne[pe+1]-se)/(2*te[pe]),me=K(he,1),0>he&&(me=-me),ne[pe]=te[pe]/(he+me),ne[pe+1]=te[pe]*(he+me),ge=ne[pe+1],le=se-ne[pe],ae=pe+2;ae<ee;ae++)ne[ae]-=le;for(Ce+=le,he=ne[ce],fe=1,ye=fe,xe=fe,be=te[pe+1],_e=0,ke=0,ae=ce-1;ae>=pe;ae--)for(xe=ye,ye=fe,ke=_e,se=fe*te[ae],le=fe*he,me=K(he,te[ae]),te[ae+1]=_e*me,_e=te[ae]/me,fe=he/me,he=fe*ne[ae]-_e*se,ne[ae+1]=le+_e*(fe*se+_e*ne[ae]),ue=0;ue<ee;ue++)le=oe[ue][ae+1],oe[ue][ae+1]=_e*oe[ue][ae]+fe*le,oe[ue][ae]=fe*oe[ue][ae]-_e*le;he=-_e*ke*xe*be*te[pe]/ge,te[pe]=_e*he,ne[pe]=fe*he}while(_Mathabs(te[pe])>ve*je)}ne[pe]+=Ce,te[pe]=0}for(ae=0;ae<ee-1;ae++){for(ue=ae,he=ne[ae],de=ae+1;de<ee;de++)ne[de]<he&&(ue=de,he=ne[de]);if(ue!==ae)for(ne[ue]=ne[ae],ne[ae]=he,de=0;de<ee;de++)he=oe[de][ae],oe[de][ae]=oe[de][ue],oe[de][ue]=he}}function T(ee,te,ne,oe){var se=0,le=ee-1,ae,de,ue,pe,ce,he,me;for(he=se+1;he<=le-1;he++){for(me=0,pe=he;pe<=le;pe++)me+=_Mathabs(te[pe][he-1]);if(0!==me){for(ue=0,pe=le;pe>=he;pe--)ne[pe]=te[pe][he-1]/me,ue+=ne[pe]*ne[pe];for(de=_Mathsqrt(ue),0<ne[he]&&(de=-de),ue-=ne[he]*de,ne[he]-=de,ce=he;ce<ee;ce++){for(ae=0,pe=le;pe>=he;pe--)ae+=ne[pe]*te[pe][ce];for(ae/=ue,pe=he;pe<=le;pe++)te[pe][ce]-=ae*ne[pe]}for(pe=0;pe<=le;pe++){for(ae=0,ce=le;ce>=he;ce--)ae+=ne[ce]*te[pe][ce];for(ae/=ue,ce=he;ce<=le;ce++)te[pe][ce]-=ae*ne[ce]}ne[he]=me*ne[he],te[he][he-1]=me*de}}for(pe=0;pe<ee;pe++)for(ce=0;ce<ee;ce++)oe[pe][ce]=pe===ce?1:0;for(he=le-1;he>=se+1;he--)if(0!==te[he][he-1]){for(pe=he+1;pe<=le;pe++)ne[pe]=te[pe][he-1];for(ce=he;ce<=le;ce++){for(de=0,pe=he;pe<=le;pe++)de+=ne[pe]*oe[pe][ce];for(de=de/ne[he]/te[he][he-1],pe=he;pe<=le;pe++)oe[pe][ce]+=de*ne[pe]}}}function O(ee,te,ne,oe,se){var le=ee-1,ae=0,de=ee-1,ue=2.220446049250313e-16,pe=0,ce=0,he=0,me=0,ge=0,fe=0,ye=0,xe=0,be,_e,ke,we,Ce,je,ve,Se,De,Ee,Ie,Ae,He,Re,Pe;for(be=0;be<ee;be++)for((be<ae||be>de)&&(ne[be]=se[be][be],te[be]=0),_e=_Mathmax(be-1,0);_e<ee;_e++)ce+=_Mathabs(se[be][_e]);for(;le>=ae;){for(we=le;we>ae&&(fe=_Mathabs(se[we-1][we-1])+_Mathabs(se[we][we]),0===fe&&(fe=ce),!(_Mathabs(se[we][we-1])<ue*fe));)we--;if(we===le)se[le][le]+=pe,ne[le]=se[le][le],te[le]=0,le--,xe=0;else if(we===le-1){if(ve=se[le][le-1]*se[le-1][le],he=(se[le-1][le-1]-se[le][le])/2,me=he*he+ve,ye=_Mathsqrt(_Mathabs(me)),se[le][le]+=pe,se[le-1][le-1]=se[le-1][le-1]+pe,Se=se[le][le],0<=me){for(ye=0<=he?he+ye:he-ye,ne[le-1]=Se+ye,ne[le]=ne[le-1],0!==ye&&(ne[le]=Se-ve/ye),te[le-1]=0,te[le]=0,Se=se[le][le-1],fe=_Mathabs(Se)+_Mathabs(ye),he=Se/fe,me=ye/fe,ge=_Mathsqrt(he*he+me*me),he/=ge,me/=ge,_e=le-1;_e<ee;_e++)ye=se[le-1][_e],se[le-1][_e]=me*ye+he*se[le][_e],se[le][_e]=me*se[le][_e]-he*ye;for(be=0;be<=le;be++)ye=se[be][le-1],se[be][le-1]=me*ye+he*se[be][le],se[be][le]=me*se[be][le]-he*ye;for(be=ae;be<=de;be++)ye=oe[be][le-1],oe[be][le-1]=me*ye+he*oe[be][le],oe[be][le]=me*oe[be][le]-he*ye}else ne[le-1]=Se+he,ne[le]=Se+he,te[le-1]=ye,te[le]=-ye;le-=2,xe=0}else{if(Se=se[le][le],De=0,ve=0,we<le&&(De=se[le-1][le-1],ve=se[le][le-1]*se[le-1][le]),10==xe){for(pe+=Se,be=ae;be<=le;be++)se[be][be]-=Se;fe=_Mathabs(se[le][le-1])+_Mathabs(se[le-1][le-2]),Se=De=0.75*fe,ve=-0.4375*fe*fe}if(30==xe&&(fe=(De-Se)/2,fe=fe*fe+ve,0<fe)){for(fe=_Mathsqrt(fe),De<Se&&(fe=-fe),fe=Se-ve/((De-Se)/2+fe),be=ae;be<=le;be++)se[be][be]-=fe;pe+=fe,Se=De=ve=0.964}for(++xe,Ce=le-2;Ce>=we&&(ye=se[Ce][Ce],ge=Se-ye,fe=De-ye,he=(ge*fe-ve)/se[Ce+1][Ce]+se[Ce][Ce+1],me=se[Ce+1][Ce+1]-ye-ge-fe,ge=se[Ce+2][Ce+1],fe=_Mathabs(he)+_Mathabs(me)+_Mathabs(ge),he/=fe,me/=fe,ge/=fe,Ce!==we)&&!(_Mathabs(se[Ce][Ce-1])*(_Mathabs(me)+_Mathabs(ge))<ue*(_Mathabs(he)*(_Mathabs(se[Ce-1][Ce-1])+_Mathabs(ye)+_Mathabs(se[Ce+1][Ce+1]))));)Ce--;for(be=Ce+2;be<=le;be++)se[be][be-2]=0,be>Ce+2&&(se[be][be-3]=0);for(ke=Ce;ke<=le-1&&(Re=ke!==le-1,ke!==Ce&&(he=se[ke][ke-1],me=se[ke+1][ke-1],ge=Re?se[ke+2][ke-1]:0,Se=_Mathabs(he)+_Mathabs(me)+_Mathabs(ge),0!==Se&&(he/=Se,me/=Se,ge/=Se)),0!==Se);ke++)if(fe=_Mathsqrt(he*he+me*me+ge*ge),0>he&&(fe=-fe),0!==fe){for(ke===Ce?we!==Ce&&(se[ke][ke-1]=-se[ke][ke-1]):se[ke][ke-1]=-fe*Se,he+=fe,Se=he/fe,De=me/fe,ye=ge/fe,me/=he,ge/=he,_e=ke;_e<ee;_e++)he=se[ke][_e]+me*se[ke+1][_e],Re&&(he+=ge*se[ke+2][_e],se[ke+2][_e]=se[ke+2][_e]-he*ye),se[ke][_e]-=he*Se,se[ke+1][_e]=se[ke+1][_e]-he*De;for(be=0;be<=_Mathmin(le,ke+3);be++)he=Se*se[be][ke]+De*se[be][ke+1],Re&&(he+=ye*se[be][ke+2],se[be][ke+2]=se[be][ke+2]-he*ge),se[be][ke]-=he,se[be][ke+1]=se[be][ke+1]-he*me;for(be=ae;be<=de;be++)he=Se*oe[be][ke]+De*oe[be][ke+1],Re&&(he+=ye*oe[be][ke+2],oe[be][ke+2]=oe[be][ke+2]-he*ge),oe[be][ke]-=he,oe[be][ke+1]=oe[be][ke+1]-he*me}}}if(0!==ce){for(le=ee-1;0<=le;le--)if(he=ne[le],me=te[le],0===me)for(we=le,se[le][le]=1,be=le-1;0<=be;be--){for(ve=se[be][be]-he,ge=0,_e=we;_e<=le;_e++)ge+=se[be][_e]*se[_e][le];if(0>te[be])ye=ve,fe=ge;else if(we=be,0===te[be]?se[be][le]=0===ve?-ge/(ue*ce):-ge/ve:(Se=se[be][be+1],De=se[be+1][be],me=(ne[be]-he)*(ne[be]-he)+te[be]*te[be],je=(Se*fe-ye*ge)/me,se[be][le]=je,se[be+1][le]=_Mathabs(Se)>_Mathabs(ye)?(-ge-ve*je)/Se:(-fe-De*je)/ye),je=_Mathabs(se[be][le]),1<ue*je*je)for(_e=be;_e<=le;_e++)se[_e][le]/=je}else if(0>me)for(we=le-1,_Mathabs(se[le][le-1])>_Mathabs(se[le-1][le])?(se[le-1][le-1]=me/se[le][le-1],se[le-1][le]=-(se[le][le]-he)/se[le][le-1]):(Pe=$(0,-se[le-1][le],se[le-1][le-1]-he,me),se[le-1][le-1]=Pe[0],se[le-1][le]=Pe[1]),se[le][le-1]=0,se[le][le]=1,be=le-2;0<=be;be--){for(Ee=0,Ie=0,_e=we;_e<=le;_e++)Ee+=se[be][_e]*se[_e][le-1],Ie+=se[be][_e]*se[_e][le];if(ve=se[be][be]-he,0>te[be])ye=ve,ge=Ee,fe=Ie;else if(we=be,0===te[be]?(Pe=$(-Ee,-Ie,ve,me),se[be][le-1]=Pe[0],se[be][le]=Pe[1]):(Se=se[be][be+1],De=se[be+1][be],Ae=(ne[be]-he)*(ne[be]-he)+te[be]*te[be]-me*me,He=2*(ne[be]-he)*me,0===Ae&&0===He&&(Ae=ue*ce*(_Mathabs(ve)+_Mathabs(me)+_Mathabs(Se)+_Mathabs(De)+_Mathabs(ye))),Pe=$(Se*ge-ye*Ee+me*Ie,Se*fe-ye*Ie-me*Ee,Ae,He),se[be][le-1]=Pe[0],se[be][le]=Pe[1],_Mathabs(Se)>_Mathabs(ye)+_Mathabs(me)?(se[be+1][le-1]=(-Ee-ve*se[be][le-1]+me*se[be][le])/Se,se[be+1][le]=(-Ie-ve*se[be][le]-me*se[be][le-1])/Se):(Pe=$(-ge-De*se[be][le-1],-fe-De*se[be][le],ye,me),se[be+1][le-1]=Pe[0],se[be+1][le]=Pe[1])),je=_Mathmax(_Mathabs(se[be][le-1]),_Mathabs(se[be][le])),1<ue*je*je)for(_e=be;_e<=le;_e++)se[_e][le-1]=se[_e][le-1]/je,se[_e][le]/=je}for(be=0;be<ee;be++)if(be<ae||be>de)for(_e=be;_e<ee;_e++)oe[be][_e]=se[be][_e];for(_e=ee-1;_e>=ae;_e--)for(be=ae;be<=de;be++){for(ye=0,ke=ae;ke<=_Mathmin(_e,de);ke++)ye+=oe[be][ke]*se[ke][_e];oe[be][_e]=ye}}}function $(ee,te,ne,oe){var se,le;return _Mathabs(ne)>_Mathabs(oe)?(se=oe/ne,le=ne+se*oe,[(ee+se*te)/le,(te-se*ee)/le]):(se=ne/oe,le=oe+se*ne,[(se*ee+te)/le,(se*te-ee)/le])}const Z=I(1).Matrix,W=I(15),K=W.hypotenuse,Q=W.getFilled2DArray,G={assumeSymmetric:!1};R.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return Z.isMatrix(this.V)||(this.V=new Z(this.V)),this.V},get diagonalMatrix(){var ee=this.n,te=this.e,ne=this.d,oe=new Z(ee,ee),se,le;for(se=0;se<ee;se++){for(le=0;le<ee;le++)oe[se][le]=0;oe[se][se]=ne[se],0<te[se]?oe[se][se+1]=te[se]:0>te[se]&&(oe[se][se-1]=te[se])}return oe}},D.exports=R},function(D,E,I){'use strict';function R(T){if(!(this instanceof R))return new R(T);T=P.checkMatrix(T);var O=T.clone(),$=T.rows,Z=T.columns,W=Array(Z),K,Q,G,ee;for(G=0;G<Z;G++){var te=0;for(K=G;K<$;K++)te=F(te,O[K][G]);if(0!==te){for(0>O[G][G]&&(te=-te),K=G;K<$;K++)O[K][G]/=te;for(O[G][G]+=1,Q=G+1;Q<Z;Q++){for(ee=0,K=G;K<$;K++)ee+=O[K][G]*O[K][Q];for(ee=-ee/O[G][G],K=G;K<$;K++)O[K][Q]+=ee*O[K][G]}}W[G]=-te}this.QR=O,this.Rdiag=W}var P=I(1).Matrix,F=I(15).hypotenuse;R.prototype={solve:function(T){T=P.checkMatrix(T);var O=this.QR,$=O.rows;if(T.rows!==$)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var Z=T.columns,W=T.clone(),K=O.columns,Q,G,ee,te;for(ee=0;ee<K;ee++)for(G=0;G<Z;G++){for(te=0,Q=ee;Q<$;Q++)te+=O[Q][ee]*W[Q][G];for(te=-te/O[ee][ee],Q=ee;Q<$;Q++)W[Q][G]+=te*O[Q][ee]}for(ee=K-1;0<=ee;ee--){for(G=0;G<Z;G++)W[ee][G]/=this.Rdiag[ee];for(Q=0;Q<ee;Q++)for(G=0;G<Z;G++)W[Q][G]-=W[ee][G]*O[Q][ee]}return W.subMatrix(0,K-1,0,Z-1)},isFullRank:function(){for(var T=this.QR.columns,O=0;O<T;O++)if(0===this.Rdiag[O])return!1;return!0},get upperTriangularMatrix(){var T=this.QR,O=T.columns,$=new P(O,O),Z,W;for(Z=0;Z<O;Z++)for(W=0;W<O;W++)$[Z][W]=Z<W?T[Z][W]:Z===W?this.Rdiag[Z]:0;return $},get orthogonalMatrix(){var T=this.QR,O=T.rows,$=T.columns,Z=new P(O,$),W,K,Q,G;for(Q=$-1;0<=Q;Q--){for(W=0;W<O;W++)Z[W][Q]=0;for(Z[Q][Q]=1,K=Q;K<$;K++)if(0!==T[Q][Q]){for(G=0,W=Q;W<O;W++)G+=T[W][Q]*Z[W][K];for(G=-G/T[Q][Q],W=Q;W<O;W++)Z[W][K]+=G*T[W][Q]}}return Z}},D.exports=R},function(D,E,I){'use strict';function R(K){return K=F.checkMatrix(K),P(K,F.eye(K.rows))}function P(K,Q){return K=F.checkMatrix(K),Q=F.checkMatrix(Q),K.isSquare()?new $(K).solve(Q):new Z(K).solve(Q)}var F=I(1).Matrix,T=I(47),O=I(116),$=I(46),Z=I(117),W=I(115);F.inverse=F.inv=R,F.prototype.inverse=F.prototype.inv=function(){return R(this)},F.solve=P,F.prototype.solve=function(K){return P(this,K)},D.exports={SingularValueDecomposition:T,SVD:T,EigenvalueDecomposition:O,EVD:O,LuDecomposition:$,LU:$,QrDecomposition:Z,QR:Z,CholeskyDecomposition:W,CHO:W,inverse:R,solve:P}},function(){'use strict';Symbol.species||(Symbol.species=Symbol.for('@@species'))},function(D,E,I){'use strict';var R=I(3);D.exports=class extends R{constructor(F,T){super(F,F.rows,1),this.column=T}set(F,T,O){return this.matrix.set(F,this.column,O),this}get(F){return this.matrix.get(F,this.column)}}},function(D,E,I){'use strict';var R=I(3);D.exports=class extends R{constructor(F){super(F,F.rows,F.columns)}set(F,T,O){return this.matrix.set(F,this.columns-T-1,O),this}get(F,T){return this.matrix.get(F,this.columns-T-1)}}},function(D,E,I){'use strict';var R=I(3);D.exports=class extends R{constructor(F){super(F,F.rows,F.columns)}set(F,T,O){return this.matrix.set(this.rows-F-1,T,O),this}get(F,T){return this.matrix.get(this.rows-F-1,T)}}},function(D,E,I){'use strict';var R=I(3);D.exports=class extends R{constructor(F,T){super(F,1,F.columns),this.row=T}set(F,T,O){return this.matrix.set(this.row,T,O),this}get(F,T){return this.matrix.get(this.row,T)}}},function(D,E,I){'use strict';var R=I(3),P=I(7);D.exports=class extends R{constructor(T,O,$){var Z=P.checkIndices(T,O,$);super(T,Z.row.length,Z.column.length),this.rowIndices=Z.row,this.columnIndices=Z.column}set(T,O,$){return this.matrix.set(this.rowIndices[T],this.columnIndices[O],$),this}get(T,O){return this.matrix.get(this.rowIndices[T],this.columnIndices[O])}}},function(D,E,I){'use strict';var R=I(3),P=I(7);D.exports=class extends R{constructor(T,O,$,Z,W){P.checkRange(T,O,$,Z,W),super(T,$-O+1,W-Z+1),this.startRow=O,this.startColumn=Z}set(T,O,$){return this.matrix.set(this.startRow+T,this.startColumn+O,$),this}get(T,O){return this.matrix.get(this.startRow+T,this.startColumn+O)}}},function(D,E,I){'use strict';var R=I(3);D.exports=class extends R{constructor(F){super(F,F.columns,F.rows)}set(F,T,O){return this.matrix.set(T,F,O),this}get(F,T){return this.matrix.get(T,F)}}},function(D,E,I){var R=I(8),P=I(48);D.exports={optimize:function(O,$,Z,W,K,Q,G,ee,te,ne){var se=0;if('object'!=typeof $[0])for(var le=0;le<$.length;le++)$[le]=[$[le]];var de=-50,ue=$.length,pe=W.length,ce=R.zeros(ue,1),he=R.zeros(pe,1),me=0.01/de,ge=0.01/de,fe=R.zeros(pe,ue),le,ae;if(Z.length!=W.length){console.log('lm.m error: the length of t must equal the length of y_dat'),length_t=Z.length,length_y_dat=W.length;var me=0;return}K=K||_Mathsqrt((pe-ue+1)/P.multiply(P.transpose(W),W)),Q=Q||1e-3,G=G||P.multiply(_Mathabs($),-100),ee=ee||P.multiply(_Mathabs($),100),te=te||1,ne=ne||[3,10*ue,1e-3,1e-3,1e-3,0.01,0.01,11,9,1];var we=ne[0],Ce=ne[1],je=ne[2],ve=ne[3],Se=ne[4],De=ne[5],Ee=ne[6],Ie=ne[7],Ae=ne[8],He=ne[9];if(0,!Q.length||1==Q.length){for(var Re=Array(ue),le=0;le<ue;le++)Re[le]=[Q];Q=Re}var Pe=[];for(le=0;le<Q.length;le++)0!=Q[le][0]&&Pe.push(le);var Fe=Pe.length,Te=!1,ze=null;if(!K.length||K.length<pe){var Oe=P.multiply(R.ones(pe,1),K[0]);ze=P.dotMultiply(Oe,Oe)}else ze=P.dotMultiply(K,K);var Me=this.lm_matx(O,Z,ce,he,1,fe,$,W,ze,Q,te),Xe=Me.JtWJ,Ne=Me.JtWdy,me=Me.Chi_sq,Ye=Me.y_hat,fe=Me.J;_Mathmax(_Mathabs(Ne))<je&&(console.log(' *** Your Initial Guess is Extremely Close to Optimal ***'),console.log(' *** epsilon_1 = ',je),Te=!0),1===He?lambda=Ee:(lambda=Ee*_Mathmax(P.diag(Xe)),nu=2),ge=me;for(var Le=null;!Te&&se<=Ce;){++se,Le=1===He?P.solve(P.add(Xe,P.multiply(P.diag(P.diag(Xe)),lambda)),Ne):P.solve(P.add(Xe,P.multiply(R.eye(ue),lambda)),Ne);var Ue=Array(Pe.length);for(ae=0;ae<Pe.length;ae++)Ue[ae]=Le[Pe[ae]];var Be=P.add($,Ue);for(ae=0;ae<Be.length;ae++)Be[ae][0]=_Mathmin(_Mathmax(G[ae][0],Be[ae][0]),ee[ae][0]);var qe=P.subtract(W,O(Z,Be,te)),Ve=P.multiply(P.transpose(qe),P.dotMultiply(qe,ze));if(2==He){var $e=P.multiply(P.transpose(Ne),Le),Ze=P.multiply($e,P.inv(P.add(P.multiply(P.subtract(Ve-me),1/2)),P.multiply($e,2)));Le=P.multiply(Ze,Le);for(var ae=0;ae<Pe.length;ae++)Ue[ae]=Le[Pe[ae]];Be=P.add($,Ue),Be=P.min(P.max(G,Be),ee),qe=P.subtract(W,O(Z,Be,te)),Ve=P.multiply(P.transpose(qe),mat.dotMultiply(qe,ze))}var We=(me-Ve)/P.multiply(P.multiply(P.transpose(Le),2),P.add(P.multiply(lambda,Le),Ne));We>De?(dX2=me-ge,ge=me,ce=$,he=Ye,$=Be,Me=this.lm_matx(O,Z,ce,he,dX2,fe,$,W,ze,Q,te),Xe=Me.JtWJ,Ne=Me.JtWdy,me=Me.Chi_sq,Ye=Me.y_hat,fe=Me.J,1===He?lambda=_Mathmax(lambda/Ae,1e-7):2===He?lambda=_Mathmax(lambda/(1+Ze),1e-7):3===He?(lambda=P.multiply(_Mathmax(1/3,3^1-(2*We-1)),lambda),nu=2):void 0):(me=ge,0==se%(2*ue)&&(Me=this.lm_matx(O,Z,ce,he,-1,fe,$,W,ze,Q,te),Xe=Me.JtWJ,Ne=Me.JtWdy,dX2=Me.Chi_sq,Ye=Me.y_hat,fe=Me.J),1===He?lambda=_Mathmin(lambda*Ie,1e7):2===He?lambda+=_Mathabs((Ve-me)/2/Ze):3===He?(lambda*=nu,nu=2*nu):void 0)}return ze=P.multiply(P.multiply(P.transpose(qe),qe),R.ones(pe,1)),ze.apply(function(Je,Ke){ze[Je][Ke]=(pe-Fe+1)/ze[Je][Ke]}),Me=this.lm_matx(O,Z,ce,he,-1,fe,$,W,ze,Q,te),Xe=Me.JtWJ,Ne=Me.JtWdy,me=Me.Chi_sq,Ye=Me.y_hat,fe=Me.J,{p:$,X2:me}},lm_FD_J:function(O,$,Z,W,K,Q){var G=W.length,ee=Z.length;K=K||P.multiply(R.ones(ee,1),1e-3);for(var te=Z.clone(),ne=new R(G,ee),oe=Array(ee),se=0;se<ee;se++){if(oe[se]=K[se]*(1+_Mathabs(Z[se][0])),Z[se]=[te[se][0]+oe[se]],0!=oe[se])if(y1=O($,Z,Q),0>K[se][0])for(var le=P.dotDivide(P.subtract(y1,W),oe[se]),ae=0;ae<G;ae++)ne[ae][se]=le[ae][0];else{Z[se][0]=te[se][0]-oe[se];for(var le=P.dotDivide(P.subtract(y1,O($,Z,Q)),2*oe[se]),ae=0;ae<G;ae++)ne[ae][se]=le[ae][0]}Z[se]=te[se]}return ne},lm_Broyden_J:function(O,$,Z,W,K){var Q=P.subtract(W,O),G=P.transpose(Q);return G.div(P.multiply(G,Q)),Z=P.add(Z,P.multiply(P.subtract(K,P.add($,P.multiply(Z,Q))),G)),Z},lm_matx:function(O,$,Z,W,K,Q,G,ee,te,ne,oe,se){var le=ee.length,ae=G.length;ne=ne||1e-3;var de=O($,G,oe);Q=0==se%(2*ae)||0<K?this.lm_FD_J(O,$,G,de,ne,oe):this.lm_Broyden_J(Z,W,Q,G,de);var ue=P.subtract(ee,de),pe=P.multiply(P.transpose(ue),P.dotMultiply(ue,te)),ce=P.transpose(Q),he=P.multiply(ce,P.dotMultiply(Q,P.multiply(te,R.ones(1,ae)))),me=P.multiply(ce,P.dotMultiply(te,ue));return{JtWJ:he,JtWdy:me,Chi_sq:pe,y_hat:de,J:Q}}}},function(D,E,I){'use strict';D.exports=I(127),D.exports.Matrix=I(8),D.exports.Matrix.algebra=I(48)},function(D,E,I){'use strict';function R(F){if(!(this instanceof R))return new R(F);if(F=P.checkMatrix(F),!F.isSymmetric())throw new Error('Matrix is not symmetric');var T=F,O=T.rows,$=new P(O,O),Z=!0,W,K,Q;for(K=0;K<O;K++){var G=$[K],ee=0;for(Q=0;Q<K;Q++){var te=$[Q],ne=0;for(W=0;W<Q;W++)ne+=te[W]*G[W];G[Q]=ne=(T[K][Q]-ne)/$[Q][Q],ee+=ne*ne}for(ee=T[K][K]-ee,Z&=0<ee,$[K][K]=_Mathsqrt(_Mathmax(ee,0)),Q=K+1;Q<O;Q++)$[K][Q]=0}if(!Z)throw new Error('Matrix is not positive definite');this.L=$}var P=I(4);R.prototype={get leftTriangularFactor(){return this.L},solve:function(F){F=P.checkMatrix(F);var T=this.L,O=T.rows;if(F.rows!==O)throw new Error('Matrix dimensions do not match');var $=F.columns,Z=F.clone(),W,K,Q;for(Q=0;Q<O;Q++)for(K=0;K<$;K++){for(W=0;W<Q;W++)Z[Q][K]-=Z[W][K]*T[Q][W];Z[Q][K]/=T[Q][Q]}for(Q=O-1;0<=Q;Q--)for(K=0;K<$;K++){for(W=Q+1;W<O;W++)Z[Q][K]-=Z[W][K]*T[W][Q];Z[Q][K]/=T[Q][Q]}return Z}},D.exports=R},function(D,E,I){'use strict';function R(K){if(!(this instanceof R))return new R(K);if(K=Z.checkMatrix(K),!K.isSquare())throw new Error('Matrix is not a square matrix');var Q=K.columns,G=Z.zeros(Q,Q),ee=Array(Q),te=Array(Q),ne=K,oe,se;if(K.isSymmetric()){for(oe=0;oe<Q;oe++)for(se=0;se<Q;se++)G[oe][se]=ne[oe][se];P(Q,te,ee,G),F(Q,te,ee,G)}else{var le=Z.zeros(Q,Q),ae=Array(Q);for(se=0;se<Q;se++)for(oe=0;oe<Q;oe++)le[oe][se]=ne[oe][se];T(Q,le,ae,G),O(Q,te,ee,G,le)}this.n=Q,this.e=te,this.d=ee,this.V=G}function P(K,Q,G,ee){var te,ne,oe,se,le,ae,de,ue;for(le=0;le<K;le++)G[le]=ee[K-1][le];for(se=K-1;0<se;se--){for(ue=0,oe=0,ae=0;ae<se;ae++)ue+=_Mathabs(G[ae]);if(0===ue)for(Q[se]=G[se-1],le=0;le<se;le++)G[le]=ee[se-1][le],ee[se][le]=0,ee[le][se]=0;else{for(ae=0;ae<se;ae++)G[ae]/=ue,oe+=G[ae]*G[ae];for(te=G[se-1],ne=_Mathsqrt(oe),0<te&&(ne=-ne),Q[se]=ue*ne,oe-=te*ne,G[se-1]=te-ne,le=0;le<se;le++)Q[le]=0;for(le=0;le<se;le++){for(te=G[le],ee[le][se]=te,ne=Q[le]+ee[le][le]*te,ae=le+1;ae<=se-1;ae++)ne+=ee[ae][le]*G[ae],Q[ae]+=ee[ae][le]*te;Q[le]=ne}for(te=0,le=0;le<se;le++)Q[le]/=oe,te+=Q[le]*G[le];for(de=te/(oe+oe),le=0;le<se;le++)Q[le]-=de*G[le];for(le=0;le<se;le++){for(te=G[le],ne=Q[le],ae=le;ae<=se-1;ae++)ee[ae][le]-=te*Q[ae]+ne*G[ae];G[le]=ee[se-1][le],ee[se][le]=0}}G[se]=oe}for(se=0;se<K-1;se++){if(ee[K-1][se]=ee[se][se],ee[se][se]=1,oe=G[se+1],0!==oe){for(ae=0;ae<=se;ae++)G[ae]=ee[ae][se+1]/oe;for(le=0;le<=se;le++){for(ne=0,ae=0;ae<=se;ae++)ne+=ee[ae][se+1]*ee[ae][le];for(ae=0;ae<=se;ae++)ee[ae][le]-=ne*G[ae]}}for(ae=0;ae<=se;ae++)ee[ae][se+1]=0}for(le=0;le<K;le++)G[le]=ee[K-1][le],ee[K-1][le]=0;ee[K-1][K-1]=1,Q[0]=0}function F(K,Q,G,ee){var te,ne,oe,se,le,ae,de,ue,pe,ce,he,me,ge,fe,ye,xe,be;for(oe=1;oe<K;oe++)Q[oe-1]=Q[oe];Q[K-1]=0;var _e=0,ke=0,we=2.220446049250313e-16;for(ae=0;ae<K;ae++){for(ke=_Mathmax(ke,_Mathabs(G[ae])+_Mathabs(Q[ae])),de=ae;de<K&&!(_Mathabs(Q[de])<=we*ke);)de++;if(de>ae){be=0;do{for(++be,te=G[ae],ue=(G[ae+1]-te)/(2*Q[ae]),pe=W(ue,1),0>ue&&(pe=-pe),G[ae]=Q[ae]/(ue+pe),G[ae+1]=Q[ae]*(ue+pe),ce=G[ae+1],ne=te-G[ae],oe=ae+2;oe<K;oe++)G[oe]-=ne;for(_e+=ne,ue=G[de],he=1,me=he,ge=he,fe=Q[ae+1],ye=0,xe=0,oe=de-1;oe>=ae;oe--)for(ge=me,me=he,xe=ye,te=he*Q[oe],ne=he*ue,pe=W(ue,Q[oe]),Q[oe+1]=ye*pe,ye=Q[oe]/pe,he=ue/pe,ue=he*G[oe]-ye*te,G[oe+1]=ne+ye*(he*te+ye*G[oe]),le=0;le<K;le++)ne=ee[le][oe+1],ee[le][oe+1]=ye*ee[le][oe]+he*ne,ee[le][oe]=he*ee[le][oe]-ye*ne;ue=-ye*xe*ge*fe*Q[ae]/ce,Q[ae]=ye*ue,G[ae]=he*ue}while(_Mathabs(Q[ae])>we*ke)}G[ae]+=_e,Q[ae]=0}for(oe=0;oe<K-1;oe++){for(le=oe,ue=G[oe],se=oe+1;se<K;se++)G[se]<ue&&(le=se,ue=G[se]);if(le!==oe)for(G[le]=G[oe],G[oe]=ue,se=0;se<K;se++)ue=ee[se][oe],ee[se][oe]=ee[se][le],ee[se][le]=ue}}function T(K,Q,G,ee){var te=0,ne=K-1,oe,se,le,ae,de,ue,pe;for(ue=te+1;ue<=ne-1;ue++){for(pe=0,ae=ue;ae<=ne;ae++)pe+=_Mathabs(Q[ae][ue-1]);if(0!==pe){for(le=0,ae=ne;ae>=ue;ae--)G[ae]=Q[ae][ue-1]/pe,le+=G[ae]*G[ae];for(se=_Mathsqrt(le),0<G[ue]&&(se=-se),le-=G[ue]*se,G[ue]-=se,de=ue;de<K;de++){for(oe=0,ae=ne;ae>=ue;ae--)oe+=G[ae]*Q[ae][de];for(oe/=le,ae=ue;ae<=ne;ae++)Q[ae][de]-=oe*G[ae]}for(ae=0;ae<=ne;ae++){for(oe=0,de=ne;de>=ue;de--)oe+=G[de]*Q[ae][de];for(oe/=le,de=ue;de<=ne;de++)Q[ae][de]-=oe*G[de]}G[ue]=pe*G[ue],Q[ue][ue-1]=pe*se}}for(ae=0;ae<K;ae++)for(de=0;de<K;de++)ee[ae][de]=ae===de?1:0;for(ue=ne-1;ue>=te+1;ue--)if(0!==Q[ue][ue-1]){for(ae=ue+1;ae<=ne;ae++)G[ae]=Q[ae][ue-1];for(de=ue;de<=ne;de++){for(se=0,ae=ue;ae<=ne;ae++)se+=G[ae]*ee[ae][de];for(se=se/G[ue]/Q[ue][ue-1],ae=ue;ae<=ne;ae++)ee[ae][de]+=se*G[ae]}}}function O(K,Q,G,ee,te){var ne=K-1,oe=0,se=K-1,le=2.220446049250313e-16,ae=0,de=0,ue=0,pe=0,ce=0,he=0,me=0,ge=0,fe,ye,xe,be,_e,ke,we,Ce,je,ve,Se,De,Ee,Ie,Ae;for(fe=0;fe<K;fe++)for((fe<oe||fe>se)&&(G[fe]=te[fe][fe],Q[fe]=0),ye=_Mathmax(fe-1,0);ye<K;ye++)de+=_Mathabs(te[fe][ye]);for(;ne>=oe;){for(be=ne;be>oe&&(he=_Mathabs(te[be-1][be-1])+_Mathabs(te[be][be]),0===he&&(he=de),!(_Mathabs(te[be][be-1])<le*he));)be--;if(be===ne)te[ne][ne]+=ae,G[ne]=te[ne][ne],Q[ne]=0,ne--,ge=0;else if(be===ne-1){if(we=te[ne][ne-1]*te[ne-1][ne],ue=(te[ne-1][ne-1]-te[ne][ne])/2,pe=ue*ue+we,me=_Mathsqrt(_Mathabs(pe)),te[ne][ne]+=ae,te[ne-1][ne-1]=te[ne-1][ne-1]+ae,Ce=te[ne][ne],0<=pe){for(me=0<=ue?ue+me:ue-me,G[ne-1]=Ce+me,G[ne]=G[ne-1],0!==me&&(G[ne]=Ce-we/me),Q[ne-1]=0,Q[ne]=0,Ce=te[ne][ne-1],he=_Mathabs(Ce)+_Mathabs(me),ue=Ce/he,pe=me/he,ce=_Mathsqrt(ue*ue+pe*pe),ue/=ce,pe/=ce,ye=ne-1;ye<K;ye++)me=te[ne-1][ye],te[ne-1][ye]=pe*me+ue*te[ne][ye],te[ne][ye]=pe*te[ne][ye]-ue*me;for(fe=0;fe<=ne;fe++)me=te[fe][ne-1],te[fe][ne-1]=pe*me+ue*te[fe][ne],te[fe][ne]=pe*te[fe][ne]-ue*me;for(fe=oe;fe<=se;fe++)me=ee[fe][ne-1],ee[fe][ne-1]=pe*me+ue*ee[fe][ne],ee[fe][ne]=pe*ee[fe][ne]-ue*me}else G[ne-1]=Ce+ue,G[ne]=Ce+ue,Q[ne-1]=me,Q[ne]=-me;ne-=2,ge=0}else{if(Ce=te[ne][ne],je=0,we=0,be<ne&&(je=te[ne-1][ne-1],we=te[ne][ne-1]*te[ne-1][ne]),10==ge){for(ae+=Ce,fe=oe;fe<=ne;fe++)te[fe][fe]-=Ce;he=_Mathabs(te[ne][ne-1])+_Mathabs(te[ne-1][ne-2]),Ce=je=0.75*he,we=-0.4375*he*he}if(30==ge&&(he=(je-Ce)/2,he=he*he+we,0<he)){for(he=_Mathsqrt(he),je<Ce&&(he=-he),he=Ce-we/((je-Ce)/2+he),fe=oe;fe<=ne;fe++)te[fe][fe]-=he;ae+=he,Ce=je=we=0.964}for(++ge,_e=ne-2;_e>=be&&(me=te[_e][_e],ce=Ce-me,he=je-me,ue=(ce*he-we)/te[_e+1][_e]+te[_e][_e+1],pe=te[_e+1][_e+1]-me-ce-he,ce=te[_e+2][_e+1],he=_Mathabs(ue)+_Mathabs(pe)+_Mathabs(ce),ue/=he,pe/=he,ce/=he,_e!==be)&&!(_Mathabs(te[_e][_e-1])*(_Mathabs(pe)+_Mathabs(ce))<le*(_Mathabs(ue)*(_Mathabs(te[_e-1][_e-1])+_Mathabs(me)+_Mathabs(te[_e+1][_e+1]))));)_e--;for(fe=_e+2;fe<=ne;fe++)te[fe][fe-2]=0,fe>_e+2&&(te[fe][fe-3]=0);for(xe=_e;xe<=ne-1&&(Ie=xe!==ne-1,xe!==_e&&(ue=te[xe][xe-1],pe=te[xe+1][xe-1],ce=Ie?te[xe+2][xe-1]:0,Ce=_Mathabs(ue)+_Mathabs(pe)+_Mathabs(ce),0!==Ce&&(ue/=Ce,pe/=Ce,ce/=Ce)),0!==Ce);xe++)if(he=_Mathsqrt(ue*ue+pe*pe+ce*ce),0>ue&&(he=-he),0!==he){for(xe===_e?be!==_e&&(te[xe][xe-1]=-te[xe][xe-1]):te[xe][xe-1]=-he*Ce,ue+=he,Ce=ue/he,je=pe/he,me=ce/he,pe/=ue,ce/=ue,ye=xe;ye<K;ye++)ue=te[xe][ye]+pe*te[xe+1][ye],Ie&&(ue+=ce*te[xe+2][ye],te[xe+2][ye]=te[xe+2][ye]-ue*me),te[xe][ye]-=ue*Ce,te[xe+1][ye]=te[xe+1][ye]-ue*je;for(fe=0;fe<=_Mathmin(ne,xe+3);fe++)ue=Ce*te[fe][xe]+je*te[fe][xe+1],Ie&&(ue+=me*te[fe][xe+2],te[fe][xe+2]=te[fe][xe+2]-ue*ce),te[fe][xe]-=ue,te[fe][xe+1]=te[fe][xe+1]-ue*pe;for(fe=oe;fe<=se;fe++)ue=Ce*ee[fe][xe]+je*ee[fe][xe+1],Ie&&(ue+=me*ee[fe][xe+2],ee[fe][xe+2]=ee[fe][xe+2]-ue*ce),ee[fe][xe]-=ue,ee[fe][xe+1]=ee[fe][xe+1]-ue*pe}}}if(0!==de){for(ne=K-1;0<=ne;ne--)if(ue=G[ne],pe=Q[ne],0===pe)for(be=ne,te[ne][ne]=1,fe=ne-1;0<=fe;fe--){for(we=te[fe][fe]-ue,ce=0,ye=be;ye<=ne;ye++)ce+=te[fe][ye]*te[ye][ne];if(0>Q[fe])me=we,he=ce;else if(be=fe,0===Q[fe]?te[fe][ne]=0===we?-ce/(le*de):-ce/we:(Ce=te[fe][fe+1],je=te[fe+1][fe],pe=(G[fe]-ue)*(G[fe]-ue)+Q[fe]*Q[fe],ke=(Ce*he-me*ce)/pe,te[fe][ne]=ke,te[fe+1][ne]=_Mathabs(Ce)>_Mathabs(me)?(-ce-we*ke)/Ce:(-he-je*ke)/me),ke=_Mathabs(te[fe][ne]),1<le*ke*ke)for(ye=fe;ye<=ne;ye++)te[ye][ne]/=ke}else if(0>pe)for(be=ne-1,_Mathabs(te[ne][ne-1])>_Mathabs(te[ne-1][ne])?(te[ne-1][ne-1]=pe/te[ne][ne-1],te[ne-1][ne]=-(te[ne][ne]-ue)/te[ne][ne-1]):(Ae=$(0,-te[ne-1][ne],te[ne-1][ne-1]-ue,pe),te[ne-1][ne-1]=Ae[0],te[ne-1][ne]=Ae[1]),te[ne][ne-1]=0,te[ne][ne]=1,fe=ne-2;0<=fe;fe--){for(ve=0,Se=0,ye=be;ye<=ne;ye++)ve+=te[fe][ye]*te[ye][ne-1],Se+=te[fe][ye]*te[ye][ne];if(we=te[fe][fe]-ue,0>Q[fe])me=we,ce=ve,he=Se;else if(be=fe,0===Q[fe]?(Ae=$(-ve,-Se,we,pe),te[fe][ne-1]=Ae[0],te[fe][ne]=Ae[1]):(Ce=te[fe][fe+1],je=te[fe+1][fe],De=(G[fe]-ue)*(G[fe]-ue)+Q[fe]*Q[fe]-pe*pe,Ee=2*(G[fe]-ue)*pe,0===De&&0===Ee&&(De=le*de*(_Mathabs(we)+_Mathabs(pe)+_Mathabs(Ce)+_Mathabs(je)+_Mathabs(me))),Ae=$(Ce*ce-me*ve+pe*Se,Ce*he-me*Se-pe*ve,De,Ee),te[fe][ne-1]=Ae[0],te[fe][ne]=Ae[1],_Mathabs(Ce)>_Mathabs(me)+_Mathabs(pe)?(te[fe+1][ne-1]=(-ve-we*te[fe][ne-1]+pe*te[fe][ne])/Ce,te[fe+1][ne]=(-Se-we*te[fe][ne]-pe*te[fe][ne-1])/Ce):(Ae=$(-ce-je*te[fe][ne-1],-he-je*te[fe][ne],me,pe),te[fe+1][ne-1]=Ae[0],te[fe+1][ne]=Ae[1])),ke=_Mathmax(_Mathabs(te[fe][ne-1]),_Mathabs(te[fe][ne])),1<le*ke*ke)for(ye=fe;ye<=ne;ye++)te[ye][ne-1]=te[ye][ne-1]/ke,te[ye][ne]/=ke}for(fe=0;fe<K;fe++)if(fe<oe||fe>se)for(ye=fe;ye<K;ye++)ee[fe][ye]=te[fe][ye];for(ye=K-1;ye>=oe;ye--)for(fe=oe;fe<=se;fe++){for(me=0,xe=oe;xe<=_Mathmin(ye,se);xe++)me+=ee[fe][xe]*te[xe][ye];ee[fe][ye]=me}}}function $(K,Q,G,ee){var te,ne;return _Mathabs(G)>_Mathabs(ee)?(te=ee/G,ne=G+te*ee,[(K+te*Q)/ne,(Q-te*K)/ne]):(te=G/ee,ne=ee+te*G,[(te*K+Q)/ne,(te*Q-K)/ne])}var Z=I(4),W=I(17).hypotenuse;R.prototype={get realEigenvalues(){return this.d},get imaginaryEigenvalues(){return this.e},get eigenvectorMatrix(){return this.V},get diagonalMatrix(){var K=this.n,Q=this.e,G=this.d,ee=new Z(K,K),te,ne;for(te=0;te<K;te++){for(ne=0;ne<K;ne++)ee[te][ne]=0;ee[te][te]=G[te],0<Q[te]?ee[te][te+1]=Q[te]:0>Q[te]&&(ee[te][te-1]=Q[te])}return ee}},D.exports=R},function(D,E,I){'use strict';function R(F){if(!(this instanceof R))return new R(F);F=P.checkMatrix(F);var T=F.clone(),O=T.rows,$=T.columns,Z=Array(O),W=1,K,Q,G,ee,te,ne,oe,se,le,ae;for(K=0;K<O;K++)Z[K]=K;for(le=Array(O),Q=0;Q<$;Q++){for(K=0;K<O;K++)le[K]=T[K][Q];for(K=0;K<O;K++){for(se=T[K],ae=_Mathmin(K,Q),te=0,G=0;G<ae;G++)te+=se[G]*le[G];se[Q]=le[K]-=te}for(ee=Q,K=Q+1;K<O;K++)_Mathabs(le[K])>_Mathabs(le[ee])&&(ee=K);if(ee!==Q){for(G=0;G<$;G++)ne=T[ee][G],T[ee][G]=T[Q][G],T[Q][G]=ne;oe=Z[ee],Z[ee]=Z[Q],Z[Q]=oe,W=-W}if(Q<O&&0!==T[Q][Q])for(K=Q+1;K<O;K++)T[K][Q]/=T[Q][Q]}this.LU=T,this.pivotVector=Z,this.pivotSign=W}var P=I(4);R.prototype={isSingular:function(){for(var F=this.LU,T=F.columns,O=0;O<T;O++)if(0===F[O][O])return!0;return!1},get determinant(){var F=this.LU;if(!F.isSquare())throw new Error('Matrix must be square');for(var T=this.pivotSign,O=F.columns,$=0;$<O;$++)T*=F[$][$];return T},get lowerTriangularFactor(){for(var F=this.LU,T=F.rows,O=F.columns,$=new P(T,O),Z=0;Z<T;Z++)for(var W=0;W<O;W++)$[Z][W]=Z>W?F[Z][W]:Z===W?1:0;return $},get upperTriangularFactor(){for(var F=this.LU,T=F.rows,O=F.columns,$=new P(T,O),Z=0;Z<T;Z++)for(var W=0;W<O;W++)$[Z][W]=Z<=W?F[Z][W]:0;return $},get pivotPermutationVector(){return this.pivotVector.slice()},solve:function(F){F=P.checkMatrix(F);var T=this.LU,O=T.rows;if(O!==F.rows)throw new Error('Invalid matrix dimensions');if(this.isSingular())throw new Error('LU matrix is singular');var $=F.columns,Z=F.subMatrixRow(this.pivotVector,0,$-1),W=T.columns,K,Q,G;for(G=0;G<W;G++)for(K=G+1;K<W;K++)for(Q=0;Q<$;Q++)Z[K][Q]-=Z[G][Q]*T[K][G];for(G=W-1;0<=G;G--){for(Q=0;Q<$;Q++)Z[G][Q]/=T[G][G];for(K=0;K<G;K++)for(Q=0;Q<$;Q++)Z[K][Q]-=Z[G][Q]*T[K][G]}return Z}},D.exports=R},function(D,E,I){'use strict';function R(T){if(!(this instanceof R))return new R(T);T=P.checkMatrix(T);var O=T.clone(),$=T.rows,Z=T.columns,W=Array(Z),K,Q,G,ee;for(G=0;G<Z;G++){var te=0;for(K=G;K<$;K++)te=F(te,O[K][G]);if(0!==te){for(0>O[G][G]&&(te=-te),K=G;K<$;K++)O[K][G]/=te;for(O[G][G]+=1,Q=G+1;Q<Z;Q++){for(ee=0,K=G;K<$;K++)ee+=O[K][G]*O[K][Q];for(ee=-ee/O[G][G],K=G;K<$;K++)O[K][Q]+=ee*O[K][G]}}W[G]=-te}this.QR=O,this.Rdiag=W}var P=I(4),F=I(17).hypotenuse;R.prototype={solve:function(T){T=P.checkMatrix(T);var O=this.QR,$=O.rows;if(T.rows!==$)throw new Error('Matrix row dimensions must agree');if(!this.isFullRank())throw new Error('Matrix is rank deficient');var Z=T.columns,W=T.clone(),K=O.columns,Q,G,ee,te;for(ee=0;ee<K;ee++)for(G=0;G<Z;G++){for(te=0,Q=ee;Q<$;Q++)te+=O[Q][ee]*W[Q][G];for(te=-te/O[ee][ee],Q=ee;Q<$;Q++)W[Q][G]+=te*O[Q][ee]}for(ee=K-1;0<=ee;ee--){for(G=0;G<Z;G++)W[ee][G]/=this.Rdiag[ee];for(Q=0;Q<ee;Q++)for(G=0;G<Z;G++)W[Q][G]-=W[ee][G]*O[Q][ee]}return W.subMatrix(0,K-1,0,Z-1)},isFullRank:function(){for(var T=this.QR.columns,O=0;O<T;O++)if(0===this.Rdiag[O])return!1;return!0},get upperTriangularFactor(){var T=this.QR,O=T.columns,$=new P(O,O),Z,W;for(Z=0;Z<O;Z++)for(W=0;W<O;W++)$[Z][W]=Z<W?T[Z][W]:Z===W?this.Rdiag[Z]:0;return $},get orthogonalFactor(){var T=this.QR,O=T.rows,$=T.columns,Z=new P(O,$),W,K,Q,G;for(Q=$-1;0<=Q;Q--){for(W=0;W<O;W++)Z[W][Q]=0;for(Z[Q][Q]=1,K=Q;K<$;K++)if(0!==T[Q][Q]){for(G=0,W=Q;W<O;W++)G+=T[W][Q]*Z[W][K];for(G=-G/T[Q][Q],W=Q;W<O;W++)Z[W][K]+=G*T[W][Q]}}return Z}},D.exports=R},function(D,E,I){'use strict';function R(T,O){if(!(this instanceof R))return new R(T,O);T=P.checkMatrix(T),O=O||{};var $=T.clone(),Z=T.rows,W=T.columns,K=_Mathmin(Z,W),Q=!0,G=!0;!1===O.computeLeftSingularVectors&&(Q=!1),!1===O.computeRightSingularVectors&&(G=!1);var ee=!0===O.autoTranspose,te=!1;if(Z<W)if(!ee)console.warn('Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose');else{$=$.transpose(),Z=$.rows,W=$.columns,te=!0;var ne=Q;Q=G,G=ne}var oe=Array(_Mathmin(Z+1,W)),se=P.zeros(Z,K),le=P.zeros(W,W),ae=Array(W),de=Array(Z),ue=_Mathmin(Z-1,W),pe=_Mathmax(0,_Mathmin(W-2,Z)),ce,he,me,ge,fe,ye,xe,be,_e,ke,we,Ce,je,ve,Se,De,Ee,Ie,Ae,He,Re;for(me=0,ke=_Mathmax(ue,pe);me<ke;me++){if(me<ue){for(oe[me]=0,ce=me;ce<Z;ce++)oe[me]=F(oe[me],$[ce][me]);if(0!==oe[me]){for(0>$[me][me]&&(oe[me]=-oe[me]),ce=me;ce<Z;ce++)$[ce][me]/=oe[me];$[me][me]+=1}oe[me]=-oe[me]}for(he=me+1;he<W;he++){if(me<ue&&0!==oe[me]){for(fe=0,ce=me;ce<Z;ce++)fe+=$[ce][me]*$[ce][he];for(fe=-fe/$[me][me],ce=me;ce<Z;ce++)$[ce][he]+=fe*$[ce][me]}ae[he]=$[me][he]}if(Q&&me<ue)for(ce=me;ce<Z;ce++)se[ce][me]=$[ce][me];if(me<pe){for(ae[me]=0,ce=me+1;ce<W;ce++)ae[me]=F(ae[me],ae[ce]);if(0!==ae[me]){for(0>ae[me+1]&&(ae[me]=-ae[me]),ce=me+1;ce<W;ce++)ae[ce]/=ae[me];ae[me+1]+=1}if(ae[me]=-ae[me],me+1<Z&&0!==ae[me]){for(ce=me+1;ce<Z;ce++)de[ce]=0;for(he=me+1;he<W;he++)for(ce=me+1;ce<Z;ce++)de[ce]+=ae[he]*$[ce][he];for(he=me+1;he<W;he++)for(fe=-ae[he]/ae[me+1],ce=me+1;ce<Z;ce++)$[ce][he]+=fe*de[ce]}if(G)for(ce=me+1;ce<W;ce++)le[ce][me]=ae[ce]}}if(ge=_Mathmin(W,Z+1),ue<W&&(oe[ue]=$[ue][ue]),Z<ge&&(oe[ge-1]=0),pe+1<ge&&(ae[pe]=$[pe][ge-1]),ae[ge-1]=0,Q){for(he=ue;he<K;he++){for(ce=0;ce<Z;ce++)se[ce][he]=0;se[he][he]=1}for(me=ue-1;0<=me;me--)if(0!==oe[me]){for(he=me+1;he<K;he++){for(fe=0,ce=me;ce<Z;ce++)fe+=se[ce][me]*se[ce][he];for(fe=-fe/se[me][me],ce=me;ce<Z;ce++)se[ce][he]+=fe*se[ce][me]}for(ce=me;ce<Z;ce++)se[ce][me]=-se[ce][me];for(se[me][me]=1+se[me][me],ce=0;ce<me-1;ce++)se[ce][me]=0}else{for(ce=0;ce<Z;ce++)se[ce][me]=0;se[me][me]=1}}if(G)for(me=W-1;0<=me;me--){if(me<pe&&0!==ae[me])for(he=me+1;he<W;he++){for(fe=0,ce=me+1;ce<W;ce++)fe+=le[ce][me]*le[ce][he];for(fe=-fe/le[me+1][me],ce=me+1;ce<W;ce++)le[ce][he]+=fe*le[ce][me]}for(ce=0;ce<W;ce++)le[ce][me]=0;le[me][me]=1}for(var Pe=ge-1,Fe=0,Te=2.220446049250313e-16;0<ge;){for(me=ge-2;-1<=me&&-1!==me;me--)if(_Mathabs(ae[me])<=Te*(_Mathabs(oe[me])+_Mathabs(oe[me+1]))){ae[me]=0;break}if(me===ge-2)we=4;else{for(ye=ge-1;ye>=me&&ye!==me;ye--)if(fe=(ye===ge?0:_Mathabs(ae[ye]))+(ye===me+1?0:_Mathabs(ae[ye-1])),_Mathabs(oe[ye])<=Te*fe){oe[ye]=0;break}ye===me?we=3:ye===ge-1?we=1:(we=2,me=ye)}switch(me++,we){case 1:{for(xe=ae[ge-2],ae[ge-2]=0,he=ge-2;he>=me;he--)if(fe=F(oe[he],xe),be=oe[he]/fe,_e=xe/fe,oe[he]=fe,he!==me&&(xe=-_e*ae[he-1],ae[he-1]=be*ae[he-1]),G)for(ce=0;ce<W;ce++)fe=be*le[ce][he]+_e*le[ce][ge-1],le[ce][ge-1]=-_e*le[ce][he]+be*le[ce][ge-1],le[ce][he]=fe;break}case 2:{for(xe=ae[me-1],ae[me-1]=0,he=me;he<ge;he++)if(fe=F(oe[he],xe),be=oe[he]/fe,_e=xe/fe,oe[he]=fe,xe=-_e*ae[he],ae[he]=be*ae[he],Q)for(ce=0;ce<Z;ce++)fe=be*se[ce][he]+_e*se[ce][me-1],se[ce][me-1]=-_e*se[ce][he]+be*se[ce][me-1],se[ce][he]=fe;break}case 3:{for(Ce=_Mathmax(_Mathmax(_Mathmax(_Mathmax(_Mathabs(oe[ge-1]),_Mathabs(oe[ge-2])),_Mathabs(ae[ge-2])),_Mathabs(oe[me])),_Mathabs(ae[me])),je=oe[ge-1]/Ce,ve=oe[ge-2]/Ce,Se=ae[ge-2]/Ce,De=oe[me]/Ce,Ee=ae[me]/Ce,Ie=((ve+je)*(ve-je)+Se*Se)/2,Ae=je*Se*(je*Se),He=0,(0!==Ie||0!==Ae)&&(He=_Mathsqrt(Ie*Ie+Ae),0>Ie&&(He=-He),He=Ae/(Ie+He)),xe=(De+je)*(De-je)+He,Re=De*Ee,he=me;he<ge-1;he++){if(fe=F(xe,Re),be=xe/fe,_e=Re/fe,he!==me&&(ae[he-1]=fe),xe=be*oe[he]+_e*ae[he],ae[he]=be*ae[he]-_e*oe[he],Re=_e*oe[he+1],oe[he+1]=be*oe[he+1],G)for(ce=0;ce<W;ce++)fe=be*le[ce][he]+_e*le[ce][he+1],le[ce][he+1]=-_e*le[ce][he]+be*le[ce][he+1],le[ce][he]=fe;if(fe=F(xe,Re),be=xe/fe,_e=Re/fe,oe[he]=fe,xe=be*ae[he]+_e*oe[he+1],oe[he+1]=-_e*ae[he]+be*oe[he+1],Re=_e*ae[he+1],ae[he+1]=be*ae[he+1],Q&&he<Z-1)for(ce=0;ce<Z;ce++)fe=be*se[ce][he]+_e*se[ce][he+1],se[ce][he+1]=-_e*se[ce][he]+be*se[ce][he+1],se[ce][he]=fe}ae[ge-2]=xe,++Fe;break}case 4:{if(0>=oe[me]&&(oe[me]=0>oe[me]?-oe[me]:0,G))for(ce=0;ce<=Pe;ce++)le[ce][me]=-le[ce][me];for(;me<Pe&&!(oe[me]>=oe[me+1]);){if(fe=oe[me],oe[me]=oe[me+1],oe[me+1]=fe,G&&me<W-1)for(ce=0;ce<W;ce++)fe=le[ce][me+1],le[ce][me+1]=le[ce][me],le[ce][me]=fe;if(Q&&me<Z-1)for(ce=0;ce<Z;ce++)fe=se[ce][me+1],se[ce][me+1]=se[ce][me],se[ce][me]=fe;me++}Fe=0,ge--;break}}}if(te){var ze=le;le=se,se=ze}this.m=Z,this.n=W,this.s=oe,this.U=se,this.V=le}var P=I(4),F=I(17).hypotenuse;R.prototype={get condition(){return this.s[0]/this.s[_Mathmin(this.m,this.n)-1]},get norm2(){return this.s[0]},get rank(){for(var O=_Mathmax(this.m,this.n)*this.s[0]*2.220446049250313e-16,$=0,Z=this.s,W=0,K=Z.length;W<K;W++)Z[W]>O&&$++;return $},get diagonal(){return this.s},get threshold(){return 2.220446049250313e-16/2*_Mathmax(this.m,this.n)*this.s[0]},get leftSingularVectors(){return this.U},get rightSingularVectors(){return this.V},get diagonalMatrix(){return P.diag(this.s)},solve:function(T){var $=this.threshold,Z=this.s.length,W=P.zeros(Z,Z),K;for(K=0;K<Z;K++)W[K][K]=_Mathabs(this.s[K])<=$?0:1/this.s[K];var Q=this.V.mmul(W),G=this.V.rows,ee=this.U.rows,te=P.zeros(G,ee),ne,oe,se;for(K=0;K<G;K++)for(ne=0;ne<ee;ne++){for(se=0,oe=0;oe<Z;oe++)se+=Q[K][oe]*this.U[ne][oe];te[K][ne]=se}return te.mmul(T)},solveForDiagonal:function(T){return this.solve(P.diag(T))},inverse:function(){var T=this.threshold,O=this.V.rows,$=this.V.columns,Z=new P(O,this.s.length),W,K;for(W=0;W<O;W++)for(K=0;K<$;K++)Z[W][K]=_Mathabs(this.s[K])>T?this.V[W][K]/this.s[K]:0;var Q=this.U.rows,G=this.U.columns,ee=new P(O,Q),te,ne;for(W=0;W<O;W++)for(K=0;K<Q;K++){for(ne=0,te=0;te<G;te++)ne+=Z[W][te]*this.U[K][te];ee[W][K]=ne}return ee}},D.exports=R},function(D,E,I){'use strict';function R(K){return P(K,F.eye(K.rows))}function P(K,Q){return K.isSquare()?new $(K).solve(Q):new Z(K).solve(Q)}var F=I(4),T=I(133),O=I(130),$=I(131),Z=I(132),W=I(129);F.prototype.inverse=function(){return R(this)},F.prototype.solve=function(K){return P(this,K)},D.exports={SingularValueDecomposition:T,SVD:T,EigenvalueDecomposition:O,EVD:O,LuDecomposition:$,LU:$,QrDecomposition:Z,QR:Z,CholeskyDecomposition:W,CHO:W,inverse:R,solve:P}},function(D,E,I){'use strict';function R(se,le){var de=le.length/3,me=se.rows,ue,pe,ce,he,ge=oe.zeros(se.length,1);for(pe=0;pe<de;pe++)for(he=_Mathpow(le[pe+2*de][0]/2,2),ue=le[pe+de][0]*he,ce=0;ce<me;ce++)ge[ce][0]+=ue/(_Mathpow(se[ce][0]-le[pe][0],2)+he);return ge}function F(se,le){for(var de=le[1][0]*_Mathpow(le[2][0]/2,2),ue=se.rows,pe=new oe(se.rows,se.columns),ce=0;ce<ue;ce++)pe[ce][0]=de/(_Mathpow(se[ce][0]-le[0][0],2)+_Mathpow(le[2][0]/2,2));return pe}function T(se,le){for(var de=le[2][0]*le[2][0]/2,ue=se.rows,pe=new oe(se.rows,se.columns),ce=0;ce<ue;ce++)pe[ce][0]=le[1][0]*_Mathexp(-(se[ce][0]-le[0][0])*(se[ce][0]-le[0][0])/de);return pe}function O(se,le,ae){ae=ae||{};var de=G(se,ae.percentage||0);if(null===de||3>de[0].rows)return null;var ue=de[0],pe=de[1],ce=de[2],he=ue.rows,ge=[he/_Mathsqrt(pe.dot(pe))],ae=Object.create(ae.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),ye=_Mathabs(ue[0][0]-ue[1][0]),xe=new oe([[-ye/1e4],[-0.001],[-ye/1e4]]),be=new oe([[le.x],[1],[le.width]]),_e=new oe([[le.x-ye],[0.75],[le.width/4]]),ke=new oe([[le.x+ye],[1.25],[4*le.width]]),we=te.optimize(F,be,ue,pe,ge,xe,_e,ke,[],ae);return we=we.p,[we[0],[we[1][0]*ce],we[2]]}function $(se,le,ae){ae=ae||{};var de=G(se,ae.percentage||0);if(null===de||3>de[0].rows)return null;var ue=de[0],pe=de[1],ce=de[2],he=ue.rows,ge=[he/_Mathsqrt(pe.dot(pe))],ae=Object.create(ae.LMOptions||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),ye=_Mathabs(ue[0][0]-ue[1][0]),xe=new oe([[-ye/1e4],[-0.001],[-ye/1e4]]),xe=new oe([[-_Mathabs(ue[0][0]-ue[1][0])/1e3],[-0.001],[-le.width/1e3]]),be=new oe([[le.x],[1],[le.width]]),_e=new oe([[le.x-ye],[0.75],[le.width/4]]),ke=new oe([[le.x+ye],[1.25],[4*le.width]]),we=te.optimize(T,be,ue,pe,ge,xe,_e,ke,[],ae);return we=we.p,[we[0],[we[1][0]*ce],we[2]]}function G(se,le){var ae=se.length,de=null,ue=null,pe,ce,he=0,me;if(2==ae){var fe=se[0].length;if(de=Array(fe),ue=Array(fe),pe=se[0],ce=se[1],'number'==typeof pe[0])for(me=0;me<fe;me++)de[me]=pe[me],ue[me]=ce[me],ce[me]>he&&(he=ce[me]);else if('object'==typeof pe[0])for(me=0;me<fe;me++)de[me]=pe[me][0],ue[me]=ce[me][0],ce[me][0]>he&&(he=ce[me][0])}else{var fe=ae;for(de=Array(fe),ue=Array(fe),me=0;me<fe;me++)de[me]=se[me][0],ue[me]=se[me][1],ue[me]>he&&(he=ue[me])}for(me=0;me<fe;me++)ue[me]/=he;if(le)for(me=fe-1;0<=me;me--)ue[me]<le&&(ue.splice(me,1),de.splice(me,1));return 0<de.length?[new oe([de]).transpose(),new oe([ue]).transpose(),he]:null}var te=I(128),ne=te.Matrix.algebra,oe=I(8);D.exports.optimizeSingleLorentzian=O,D.exports.optimizeLorentzianSum=function(se,le,ae){var de=G(se);if(null===de||3>de[0].rows)return null;var ue=de[0],pe=de[1],ce=de[2],he=ue.rows,me,ge=[he/ne.sqrt(pe.dot(pe))],ae=Object.create(ae||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,1]),ye=le.length,xe=new oe(3*ye,1),be=new oe(3*ye,1),_e=new oe(3*ye,1),ke=new oe(3*ye,1),we=_Mathabs(ue[0][0]-ue[1][0]);for(me=0;me<ye;me++)xe[me][0]=le[me].x,xe[me+ye][0]=1,xe[me+2*ye][0]=le[me].width,be[me][0]=le[me].x-we,be[me+ye][0]=0,be[me+2*ye][0]=le[me].width/4,_e[me][0]=le[me].x+we,_e[me+ye][0]=1.5,_e[me+2*ye][0]=4*le[me].width,ke[me][0]=-we/1e3,ke[me+ye][0]=-1e-3,ke[me+2*ye][0]=-we/1e3;var ke=-_Mathabs(ue[0][0]-ue[1][0])/1e4,Ce=te.optimize(R,xe,ue,pe,ge,ke,be,_e,[],ae);Ce=Ce.p;var je=Array(ye);for(me=0;me<ye;me++)je[me]=[Ce[me],[Ce[me+ye][0]*ce],Ce[me+2*ye]];return je},D.exports.optimizeSingleGaussian=$,D.exports.optimizeGaussianSum=function(se,le,ae){var de=G(se);if(null===de||3>de[0].rows)return null;var ue=de[0],pe=de[1],ce=de[2],he=ue.rows,me,ge=new oe(he,1),fe=he/ne.sqrt(pe.dot(pe));for(me=0;me<he;me++)ge[me][0]=fe;var ae=Object.create(ae||[3,100,0.001,0.001,0.001,0.01,0.01,11,9,2]),xe=le.length,be=new oe(3*xe,1),_e=new oe(3*xe,1),ke=new oe(3*xe,1),we=new oe(3*xe,1),Ce=_Mathabs(ue[0][0]-ue[1][0]);for(me=0;me<xe;me++)be[me][0]=le[me].x,be[me+xe][0]=le[me].y/ce,be[me+2*xe][0]=le[me].width,_e[me][0]=le[me].x-Ce,_e[me+xe][0]=0.8*le[me].y/ce,_e[me+2*xe][0]=le[me].width/2,ke[me][0]=le[me].x+Ce,ke[me+xe][0]=1.2*le[me].y/ce,ke[me+2*xe][0]=2*le[me].width,we[me][0]=-Ce/1e3,we[me+xe][0]=-1e-3,we[me+2*xe][0]=-Ce/1e3;var je=te.optimize(R,be,ue,pe,ge,we,_e,ke,[],ae);je=je.p;var ve=Array(xe);for(me=0;me<xe;me++)ve[me]=[je[me],[je[me+xe][0]*ce],je[me+2*xe]];return ve},D.exports.singleGaussian=T,D.exports.singleLorentzian=F,D.exports.optimizeGaussianTrain=function(se,le,ae){var de=G(se);if(null===de||3>de[0].rows)return null;for(var ue=de[0],pe=de[1],ce=de[2],he=0,me=ue.length,xe=[],_e=0,ge,fe,ye,ce,be;_e<le.length;_e++){for(ge=le[_e].x-4*le[_e].width;ue[he++]<ge&&he<me;);for(ge=le[_e].x+4*le[_e].width,fe=[],ye=[];ue[he]<=ge&&he<me;)fe.push(ue[he][0]),ye.push(pe[he][0]*ce),he++;be=$([fe,ye],le[_e],ae),be?xe.push({x:be[0][0],y:be[1][0],width:be[2][0],opt:!0}):xe.push({x:le[_e].x,y:le[_e].y,width:le[_e].width,opt:!1})}return xe},D.exports.optimizeLorentzianTrain=function(se,le,ae){var de=G(se);if(null===de||3>de[0].rows)return null;for(var ue=de[0],pe=de[1],ce=de[2],he=0,me=ue.length,xe=[],_e=0,ge,fe,ye,ce,be;_e<le.length;_e++){for(ge=le[_e].x-4*le[_e].width;ue[he++]<ge&&he<me;);for(ge=le[_e].x+4*le[_e].width,fe=[],ye=[];ue[he]<=ge&&he<me;)fe.push(ue[he][0]),ye.push(pe[he][0]*ce),he++;be=O([fe,ye],le[_e],ae),be?xe.push({x:be[0][0],y:be[1][0],width:be[2][0],opt:!0}):xe.push({x:le[_e].x,y:le[_e].y,width:le[_e].width,opt:!1})}return xe}},function(D,E,I){'use strict';E.array=I(49),E.matrix=I(137)},function(D,E,I){'use strict';function P(pe,ce){'undefined'==typeof ce&&(ce=0);var he=pe.length,me=pe[0].length,ge,fe,ye,xe;if(-1===ce){for(ge=[0],fe=he*me,ye=0;ye<he;ye++)for(xe=0;xe<me;xe++)ge[0]+=pe[ye][xe];ge[0]/=fe}else if(0===ce)for(ge=Array(me),fe=he,xe=0;xe<me;xe++){for(ge[xe]=0,ye=0;ye<he;ye++)ge[xe]+=pe[ye][xe];ge[xe]/=fe}else if(1===ce)for(ge=Array(he),fe=me,xe=0;xe<he;xe++){for(ge[xe]=0,ye=0;ye<me;ye++)ge[xe]+=pe[xe][ye];ge[xe]/=fe}else throw new Error('Invalid dimension');return ge}function F(pe,ce,he){for(var me=T(pe,ce,he),ge=me.length,fe=0;fe<ge;fe++)me[fe]=_Mathsqrt(me[fe]);return me}function T(pe,ce,he){'undefined'==typeof he&&(he=!0),ce=ce||P(pe);var me=pe.length;if(0===me)return[];for(var ge=pe[0].length,fe=Array(ge),ye=0;ye<ge;ye++){for(var xe=0,be=0,_e=0,ke=0;ke<me;ke++)_e=pe[ke][ye]-ce[ye],xe+=_e,be+=_e*_e;fe[ye]=he?(be-xe*xe/me)/(me-1):(be-xe*xe/me)/me}return fe}function G(pe,ce,he){'undefined'==typeof he&&(he=0),'undefined'==typeof ce&&(0===he?ce=pe.length-1:1===he&&(ce=pe[0].length-1));var me=P(pe,he),ge=pe.length;if(0===ge)return[[]];var fe=pe[0].length,ye,xe,be,_e,ke;if(0===he){for(ye=Array(fe),xe=0;xe<fe;xe++)ye[xe]=Array(fe);for(xe=0;xe<fe;xe++)for(be=xe;be<fe;be++){for(_e=0,ke=0;ke<ge;ke++)_e+=(pe[ke][be]-me[be])*(pe[ke][xe]-me[xe]);_e/=ce,ye[xe][be]=_e,ye[be][xe]=_e}}else if(1===he){for(ye=Array(ge),xe=0;xe<ge;xe++)ye[xe]=Array(ge);for(xe=0;xe<ge;xe++)for(be=xe;be<ge;be++){for(_e=0,ke=0;ke<fe;ke++)_e+=(pe[be][ke]-me[be])*(pe[xe][ke]-me[xe]);_e/=ce,ye[xe][be]=_e,ye[be][xe]=_e}}else throw new Error('Invalid dimension');return ye}function te(pe,ce,he){return ce=ce||P(pe),'undefined'==typeof he&&(he=F(pe,!0,ce)),oe(ne(pe,ce,!1),he,!0)}function ne(pe,ce,he){ce=ce||P(pe);var me=pe,ge=pe.length,fe,ye,xe;if(!he)for(me=Array(ge),fe=0;fe<ge;fe++)me[fe]=Array(pe[fe].length);for(fe=0;fe<ge;fe++){var be=me[fe];for(ye=0,xe=be.length;ye<xe;ye++)be[ye]=pe[fe][ye]-ce[ye]}return me}function oe(pe,ce,he){'undefined'==typeof ce&&(ce=F(pe));var me=pe,ge=pe.length,fe,ye,xe;if(!he)for(me=Array(ge),fe=0;fe<ge;fe++)me[fe]=Array(pe[fe].length);for(fe=0;fe<ge;fe++){var be=me[fe],_e=pe[fe];for(ye=0,xe=be.length;ye<xe;ye++)0===ce[ye]||isNaN(ce[ye])||(be[ye]=_e[ye]/ce[ye])}return me}function le(pe,ce,he){'undefined'==typeof he&&(he=0);var me=pe.length;if(0===me)return[];var ge=pe[0].length,fe,ye,xe,be,_e,ke;if(0===he){for(fe=Array(ge),ye=0;ye<ge;ye++)fe[ye]=0;for(ye=0;ye<me;ye++)for(ke=pe[ye],_e=ce[ye],be=0;be<ge;be++)fe[be]+=ke[be]*_e}else if(1===he){for(fe=Array(me),ye=0;ye<me;ye++)fe[ye]=0;for(be=0;be<me;be++)for(ke=pe[be],_e=ce[be],ye=0;ye<ge;ye++)fe[be]+=ke[ye]*_e}else throw new Error('Invalid dimension');var we=ue.sum(ce);if(0!==we)for(ye=0,xe=fe.length;ye<xe;ye++)fe[ye]/=we;return fe}function de(pe,ce,he,me,ge){ge=ge||0,he=he||le(pe,ce,ge),'undefined'==typeof me&&(me=1);var fe=pe.length;if(0===fe)return[[]];var ye=pe[0].length,xe,be,_e,ke,we;if(0===ge){for(xe=Array(ye),be=0;be<ye;be++)xe[be]=Array(ye);for(be=0;be<ye;be++)for(_e=be;_e<ye;_e++){for(we=0,ke=0;ke<fe;ke++)we+=ce[ke]*(pe[ke][_e]-he[_e])*(pe[ke][be]-he[be]);xe[be][_e]=we*me,xe[_e][be]=we*me}}else if(1===ge){for(xe=Array(fe),be=0;be<fe;be++)xe[be]=Array(fe);for(be=0;be<fe;be++)for(_e=be;_e<fe;_e++){for(we=0,ke=0;ke<ye;ke++)we+=ce[ke]*(pe[_e][ke]-he[_e])*(pe[be][ke]-he[be]);xe[be][_e]=we*me,xe[_e][be]=we*me}}else throw new Error('Invalid dimension');return xe}var ue=I(49);D.exports={entropy:function(pe,ce){'undefined'==typeof ce&&(ce=0);for(var he=0,me=pe.length,ge=pe[0].length,fe=0;fe<me;fe++)for(var ye=0;ye<ge;ye++)he+=pe[fe][ye]*_Mathlog(pe[fe][ye]+ce);return-he},mean:P,standardDeviation:F,variance:T,median:function(pe){for(var ce=pe.length,he=pe[0].length,me=Array(he),ge=0,fe;ge<he;ge++){fe=Array(ce);for(var ye=0;ye<ce;ye++)fe[ye]=pe[ye][ge];fe.sort();var xe=fe.length;me[ge]=0==xe%2?0.5*(fe[xe/2]+fe[xe/2-1]):fe[_Mathfloor(xe/2)]}return me},mode:function(pe){var ce=pe.length,he=pe[0].length,me=Array(he),ge,fe;for(ge=0;ge<he;ge++){for(var ye=Array(ce),xe=0;xe<ce;xe++)ye[xe]=0;var be=Array(ce),_e=0;for(fe=0;fe<ce;fe++){var ke=be.indexOf(pe[fe][ge]);0<=ke?ye[ke]++:(be[_e]=pe[fe][ge],ye[_e]=1,_e++)}var we=0,Ce=0;for(fe=0;fe<_e;fe++)ye[fe]>we&&(we=ye[fe],Ce=fe);me[ge]=be[Ce]}return me},skewness:function(pe,ce){'undefined'==typeof ce&&(ce=!0);for(var he=P(pe),me=pe.length,ge=he.length,fe=Array(ge),ye=0;ye<ge;ye++){for(var xe=0,be=0,_e=0,ke;_e<me;_e++)ke=pe[_e][ye]-he[ye],xe+=ke*ke,be+=ke*ke*ke;var we=xe/me,Ce=be/me,je=Ce/_Mathpow(we,3/2);if(ce){var ve=_Mathsqrt(me*(me-1));fe[ye]=ve/(me-2)*je}else fe[ye]=je}return fe},kurtosis:function(pe,ce){'undefined'==typeof ce&&(ce=!0);for(var he=P(pe),me=pe.length,ge=pe[0].length,fe=Array(ge),ye=0;ye<ge;ye++){for(var xe=0,be=0,_e=0,ke;_e<me;_e++)ke=pe[_e][ye]-he[ye],xe+=ke*ke,be+=ke*ke*ke*ke;var we=xe/me,Ce=be/me;if(ce){var je=xe/(me-1),Se=be/(je*je);fe[ye]=me*(me+1)/((me-1)*(me-2)*(me-3))*Se-3*((me-1)*(me-1)/((me-2)*(me-3)))}else fe[ye]=Ce/(we*we)-3}return fe},standardError:function(pe){for(var ce=pe.length,he=F(pe),me=he.length,ge=Array(me),fe=_Mathsqrt(ce),ye=0;ye<me;ye++)ge[ye]=he[ye]/fe;return ge},covariance:function(pe,ce){return G(pe,void 0,ce)},scatter:G,correlation:function(pe){var ce=P(pe),he=F(pe,!0,ce),me=te(pe,ce,he),ge=pe.length,fe=pe[0].length,ye,xe,be=Array(fe);for(ye=0;ye<fe;ye++)be[ye]=Array(fe);for(ye=0;ye<fe;ye++)for(xe=ye;xe<fe;xe++){for(var _e=0,ke=0,we=me.length;ke<we;ke++)_e+=me[ke][xe]*me[ke][ye];_e/=ge-1,be[ye][xe]=_e,be[xe][ye]=_e}return be},zScores:te,center:ne,standardize:oe,weightedVariance:function(pe,ce){var he=P(pe),me=pe.length;if(0===me)return[];for(var ge=pe[0].length,fe=Array(ge),ye=0;ye<ge;ye++){for(var xe=0,be=0,_e=0,ke=0;ke<me;ke++){var we=pe[ke][ye]-he[ye],Ce=ce[ke];xe+=Ce*(we*we),_e+=Ce,be+=Ce*Ce}fe[ye]=xe*(_e/(_e*_e-be))}return fe},weightedMean:le,weightedCovariance:function(pe,ce,he,me){me=me||0,he=he||le(pe,ce,me);for(var ge=0,fe=0,ye=0,xe=ce.length;ye<xe;ye++)ge+=ce[ye],fe+=ce[ye]*ce[ye];var be=ge/(ge*ge-fe);return de(pe,ce,he,be,me)},weightedScatter:de}},function(D,E,I){function P(Q,G,ee,te){for(var ne=0,oe=0,se=G-ee;se<G+ee;se++)0<=se&&se<Q.length-1&&(ne+=Q[se+1]-Q[se],oe++);return _Mathpow(ne/oe,te)}function F(Q,G,ee,te){var ne=0;return ne=0<ee?(4*ee-2)/(ee*(2*G-ee+1))*(Q*F(Q,G,ee-1,te)+te*F(Q,G,ee-1,te-1))-(ee-1)*(2*G+ee)/(ee*(2*G-ee+1))*F(Q,G,ee-2,te):0==ee&&0==te?1:0,ne}function T(Q,G){var ee=1;if(Q>=G)for(var te=Q-G+1;te<=Q;te++)ee*=te;return ee}function O(Q,G,ee,te,ne){for(var oe=0,se=0;se<=te;se++)oe+=(2*se+1)*(T(2*ee,se)/T(2*ee+se+1,se+1))*F(Q,ee,se,0)*F(G,ee,se,ne);return oe}function $(Q,G,ee){for(var te=Array(Q),ne=_Mathfloor(Q/2),oe=-ne;oe<=ne;oe++){te[oe+ne]=Array(Q);for(var se=-ne;se<=ne;se++)te[oe+ne][se+ne]=O(se,oe,ne,G,ee)}return te}var Z=I(29),W=I(136),K={windowSize:9,derivative:0,polynomial:3};D.exports=function(Q,G,ee){if(ee=Z({},K,ee),0==ee.windowSize%2||5>ee.windowSize||!_NumberisInteger(ee.windowSize))throw new RangeError('Invalid window size (should be odd and at least 5 integer number)');if(ee.windowSize>Q.length)throw new RangeError('Window size is higher than the data length '+ee.windowSize+'>'+Q.length);if(0>ee.derivative||!_NumberisInteger(ee.derivative))throw new RangeError('Derivative should be a positive integer');if(1>ee.polynomial||!_NumberisInteger(ee.polynomial))throw new RangeError('Polynomial should be a positive integer');6<=ee.polynomial&&console.warn('You should not use polynomial grade higher than 5 if you are not sure that your data arises from such a model. Possible polynomial oscillation problems');var te=ee.windowSize,ne=_Mathfloor(te/2),oe=Q.length,se=Array(oe),le=$(te,ee.polynomial,ee.derivative),ae=0,de=!0;'[object Array]'===Object.prototype.toString.call(G)?de=!1:ae=_Mathpow(G,ee.derivative);for(var ue=0;ue<ne;ue++){for(var pe=le[ne-ue-1],ce=le[ne+ue+1],he=0,me=0,ge=0;ge<te;ge++)he+=pe[ge]*Q[ge],me+=ce[ge]*Q[oe-te+ge-1];de?(se[ne-ue-1]=he/ae,se[oe-ne+ue]=me/ae):(ae=P(G,ne-ue-1,ne,ee.derivative),se[ne-ue-1]=he/ae,ae=P(G,oe-ne+ue,ne,ee.derivative),se[oe-ne+ue]=me/ae)}for(var fe=le[ne],ue=te,ye;ue<oe+1;ue++){ye=0;for(var ge=0;ge<te;ge++)ye+=fe[ge]*Q[ge+ue-te];de||(ae=P(G,ue-ne-1,ne,ee.derivative)),se[ue-ne-1]=ye/ae}return se}},function(D,E,I){'use strict';function R(F,T){return F-T}var P=I(52);E.max=function(T){for(var F=-Infinity,O=0;O<T.length;O++)for(var $=0;$<T[O].length;$++)T[O][$]>F&&(F=T[O][$]);return F},E.min=function(T){for(var F=Infinity,O=0;O<T.length;O++)for(var $=0;$<T[O].length;$++)T[O][$]<F&&(F=T[O][$]);return F},E.minMax=function(T){for(var O=Infinity,$=-Infinity,Z=0;Z<T.length;Z++)for(var W=0;W<T[Z].length;W++)T[Z][W]<O&&(O=T[Z][W]),T[Z][W]>$&&($=T[Z][W]);return{min:O,max:$}},E.entropy=function(T,O){'undefined'==typeof O&&(O=0);for(var $=0,Z=T.length,W=T[0].length,K=0;K<Z;K++)for(var Q=0;Q<W;Q++)$+=T[K][Q]*_Mathlog(T[K][Q]+O);return-$},E.mean=function(T,O){'undefined'==typeof O&&(O=0);var $=T.length,Z=T[0].length,W,K,Q,G;if(-1===O){for(W=[0],K=$*Z,Q=0;Q<$;Q++)for(G=0;G<Z;G++)W[0]+=T[Q][G];W[0]/=K}else if(0===O)for(W=Array(Z),K=$,G=0;G<Z;G++){for(W[G]=0,Q=0;Q<$;Q++)W[G]+=T[Q][G];W[G]/=K}else if(1===O)for(W=Array($),K=Z,G=0;G<$;G++){for(W[G]=0,Q=0;Q<Z;Q++)W[G]+=T[G][Q];W[G]/=K}else throw new Error('Invalid dimension');return W},E.sum=function(T,O){'undefined'==typeof O&&(O=0);var $=T.length,Z=T[0].length,W,K,Q;if(-1===O)for(W=[0],K=0;K<$;K++)for(Q=0;Q<Z;Q++)W[0]+=T[K][Q];else if(0===O)for(W=Array(Z),Q=0;Q<Z;Q++)for(W[Q]=0,K=0;K<$;K++)W[Q]+=T[K][Q];else if(1===O)for(W=Array($),Q=0;Q<$;Q++)for(W[Q]=0,K=0;K<Z;K++)W[Q]+=T[Q][K];else throw new Error('Invalid dimension');return W},E.product=function(T,O){'undefined'==typeof O&&(O=0);var $=T.length,Z=T[0].length,W,K,Q;if(-1===O)for(W=[1],K=0;K<$;K++)for(Q=0;Q<Z;Q++)W[0]*=T[K][Q];else if(0===O)for(W=Array(Z),Q=0;Q<Z;Q++)for(W[Q]=1,K=0;K<$;K++)W[Q]*=T[K][Q];else if(1===O)for(W=Array($),Q=0;Q<$;Q++)for(W[Q]=1,K=0;K<Z;K++)W[Q]*=T[Q][K];else throw new Error('Invalid dimension');return W},E.standardDeviation=function(T,O,$){for(var Z=E.variance(T,O,$),W=Z.length,K=0;K<W;K++)Z[K]=_Mathsqrt(Z[K]);return Z},E.variance=function(T,O,$){'undefined'==typeof $&&($=!0),O=O||E.mean(T);var Z=T.length;if(0===Z)return[];for(var W=T[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne=0;ne<Z;ne++)te=T[ne][Q]-O[Q],G+=te,ee+=te*te;K[Q]=$?(ee-G*G/Z)/(Z-1):(ee-G*G/Z)/Z}return K},E.median=function(T){for(var O=T.length,$=T[0].length,Z=Array($),W=0,K;W<$;W++){K=Array(O);for(var Q=0;Q<O;Q++)K[Q]=T[Q][W];K.sort(R);var G=K.length;Z[W]=0==G%2?0.5*(K[G/2]+K[G/2-1]):K[_Mathfloor(G/2)]}return Z},E.mode=function(T){var O=T.length,$=T[0].length,Z=Array($),W,K;for(W=0;W<$;W++){for(var Q=Array(O),G=0;G<O;G++)Q[G]=0;var ee=Array(O),te=0;for(K=0;K<O;K++){var ne=ee.indexOf(T[K][W]);0<=ne?Q[ne]++:(ee[te]=T[K][W],Q[te]=1,te++)}var oe=0,se=0;for(K=0;K<te;K++)Q[K]>oe&&(oe=Q[K],se=K);Z[W]=ee[se]}return Z},E.skewness=function(T,O){'undefined'==typeof O&&(O=!0);for(var $=E.mean(T),Z=T.length,W=$.length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne;te<Z;te++)ne=T[te][Q]-$[Q],G+=ne*ne,ee+=ne*ne*ne;var oe=G/Z,se=ee/Z,le=se/_Mathpow(oe,3/2);if(O){var ae=_Mathsqrt(Z*(Z-1));K[Q]=ae/(Z-2)*le}else K[Q]=le}return K},E.kurtosis=function(T,O){'undefined'==typeof O&&(O=!0);for(var $=E.mean(T),Z=T.length,W=T[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne;te<Z;te++)ne=T[te][Q]-$[Q],G+=ne*ne,ee+=ne*ne*ne*ne;var oe=G/Z,se=ee/Z;if(O){var le=G/(Z-1),de=ee/(le*le);K[Q]=Z*(Z+1)/((Z-1)*(Z-2)*(Z-3))*de-3*((Z-1)*(Z-1)/((Z-2)*(Z-3)))}else K[Q]=se/(oe*oe)-3}return K},E.standardError=function(T){for(var O=T.length,$=E.standardDeviation(T),Z=$.length,W=Array(Z),K=_Mathsqrt(O),Q=0;Q<Z;Q++)W[Q]=$[Q]/K;return W},E.covariance=function(T,O){return E.scatter(T,void 0,O)},E.scatter=function(T,O,$){'undefined'==typeof $&&($=0),'undefined'==typeof O&&(0===$?O=T.length-1:1===$&&(O=T[0].length-1));var Z=E.mean(T,$),W=T.length;if(0===W)return[[]];var K=T[0].length,Q,G,ee,te,ne;if(0===$){for(Q=Array(K),G=0;G<K;G++)Q[G]=Array(K);for(G=0;G<K;G++)for(ee=G;ee<K;ee++){for(te=0,ne=0;ne<W;ne++)te+=(T[ne][ee]-Z[ee])*(T[ne][G]-Z[G]);te/=O,Q[G][ee]=te,Q[ee][G]=te}}else if(1===$){for(Q=Array(W),G=0;G<W;G++)Q[G]=Array(W);for(G=0;G<W;G++)for(ee=G;ee<W;ee++){for(te=0,ne=0;ne<K;ne++)te+=(T[ee][ne]-Z[ee])*(T[G][ne]-Z[G]);te/=O,Q[G][ee]=te,Q[ee][G]=te}}else throw new Error('Invalid dimension');return Q},E.correlation=function(T){var O=E.mean(T),$=E.standardDeviation(T,!0,O),Z=E.zScores(T,O,$),W=T.length,K=T[0].length,Q,G,ee=Array(K);for(Q=0;Q<K;Q++)ee[Q]=Array(K);for(Q=0;Q<K;Q++)for(G=Q;G<K;G++){for(var te=0,ne=0,oe=Z.length;ne<oe;ne++)te+=Z[ne][G]*Z[ne][Q];te/=W-1,ee[Q][G]=te,ee[G][Q]=te}return ee},E.zScores=function(T,O,$){return O=O||E.mean(T),'undefined'==typeof $&&($=E.standardDeviation(T,!0,O)),E.standardize(E.center(T,O,!1),$,!0)},E.center=function(T,O,$){O=O||E.mean(T);var Z=T,W=T.length,K,Q,G;if(!$)for(Z=Array(W),K=0;K<W;K++)Z[K]=Array(T[K].length);for(K=0;K<W;K++){var ee=Z[K];for(Q=0,G=ee.length;Q<G;Q++)ee[Q]=T[K][Q]-O[Q]}return Z},E.standardize=function(T,O,$){'undefined'==typeof O&&(O=E.standardDeviation(T));var Z=T,W=T.length,K,Q,G;if(!$)for(Z=Array(W),K=0;K<W;K++)Z[K]=Array(T[K].length);for(K=0;K<W;K++){var ee=Z[K],te=T[K];for(Q=0,G=ee.length;Q<G;Q++)0===O[Q]||isNaN(O[Q])||(ee[Q]=te[Q]/O[Q])}return Z},E.weightedVariance=function(T,O){var $=E.mean(T),Z=T.length;if(0===Z)return[];for(var W=T[0].length,K=Array(W),Q=0;Q<W;Q++){for(var G=0,ee=0,te=0,ne=0;ne<Z;ne++){var oe=T[ne][Q]-$[Q],se=O[ne];G+=se*(oe*oe),te+=se,ee+=se*se}K[Q]=G*(te/(te*te-ee))}return K},E.weightedMean=function(T,O,$){'undefined'==typeof $&&($=0);var Z=T.length;if(0===Z)return[];var W=T[0].length,K,Q,G,ee,te,ne;if(0===$){for(K=Array(W),Q=0;Q<W;Q++)K[Q]=0;for(Q=0;Q<Z;Q++)for(ne=T[Q],te=O[Q],ee=0;ee<W;ee++)K[ee]+=ne[ee]*te}else if(1===$){for(K=Array(Z),Q=0;Q<Z;Q++)K[Q]=0;for(ee=0;ee<Z;ee++)for(ne=T[ee],te=O[ee],Q=0;Q<W;Q++)K[ee]+=ne[Q]*te}else throw new Error('Invalid dimension');var oe=P.sum(O);if(0!==oe)for(Q=0,G=K.length;Q<G;Q++)K[Q]/=oe;return K},E.weightedCovariance=function(T,O,$,Z){Z=Z||0,$=$||E.weightedMean(T,O,Z);for(var W=0,K=0,Q=0,G=O.length;Q<G;Q++)W+=O[Q],K+=O[Q]*O[Q];var ee=W/(W*W-K);return E.weightedScatter(T,O,$,ee,Z)},E.weightedScatter=function(T,O,$,Z,W){W=W||0,$=$||E.weightedMean(T,O,W),'undefined'==typeof Z&&(Z=1);var K=T.length;if(0===K)return[[]];var Q=T[0].length,G,ee,te,ne,oe;if(0===W){for(G=Array(Q),ee=0;ee<Q;ee++)G[ee]=Array(Q);for(ee=0;ee<Q;ee++)for(te=ee;te<Q;te++){for(oe=0,ne=0;ne<K;ne++)oe+=O[ne]*(T[ne][te]-$[te])*(T[ne][ee]-$[ee]);G[ee][te]=oe*Z,G[te][ee]=oe*Z}}else if(1===W){for(G=Array(K),ee=0;ee<K;ee++)G[ee]=Array(K);for(ee=0;ee<K;ee++)for(te=ee;te<K;te++){for(oe=0,ne=0;ne<Q;ne++)oe+=O[ne]*(T[te][ne]-$[te])*(T[ee][ne]-$[ee]);G[ee][te]=oe*Z,G[te][ee]=oe*Z}}else throw new Error('Invalid dimension');return G}},function(D,E,I){'use strict';const R=I(16),P=I(18),F=I(50),T=I(109);class O{constructor($,Z,W){this.chemicalShifts=$,this.couplingConstants=Z,this.multiplicity=W,this.nSpins=$.length,this._initConnectivity(),this._initClusters()}static fromSpinusPrediction($){var Z=$.split('\n'),W=Z.length-1,K=Array(W),Q=Array(W),G={},ee=R.zeros(W,W);for(let de=0;de<W;de++){var te=Z[de].split('\t');K[de]=+te[2],G[te[0]-1]=de,Q[de]=+te[5]}for(let de=0;de<W;de++){te=Z[de].split('\t');var ne=(te.length-4)/3;for(le=0;le<ne;le++){var oe=te[4+3*le]-1,se=G[oe];ee[de][se]=+te[6+3*le]}}for(var le=0;le<W;le++)for(var ae=le;ae<W;ae++)ee[le][ae]=ee[ae][le];return new O(K,ee,P(W,2))}static fromPrediction($){let Z=O.ungroupAtoms($);const W=Z.length,K=Array(W),Q=R.zeros(W,W),G=Array(W),ee={};var te,ne,oe;for(te=0;te<W;te++)K[te]=Z[te].delta,ee[Z[te].atomIDs[0]]=te;for(te=0;te<W;te++){for(K[te]=Z[te].delta,oe=Z[te].j,ne=0;ne<oe.length;ne++)Q[ee[Z[te].atomIDs[0]]][ee[oe[ne].assignment]]=oe[ne].coupling,Q[ee[oe[ne].assignment]][ee[Z[te].atomIDs[0]]]=oe[ne].coupling;G[te]=Z[te].integral+1}return new O(K,Q,G)}static ungroupAtoms($){let Z=[];return $.forEach((W)=>{let K=W.atomIDs;for(let Q=0,G;Q<K.length;Q++)G=JSON.parse(JSON.stringify(W)),G.atomIDs=[K[Q]],G.integral=1,Z.push(G)}),Z}_initClusters(){this.clusters=F(this.connectivity,{out:'indexes'})}_initConnectivity(){const $=this.couplingConstants,Z=R.ones($.length,$.length);for(var W=0;W<$.length;W++)for(var K=W;K<$[W].length;K++)0===$[W][K]&&(Z[W][K]=0,Z[K][W]=0);this.connectivity=Z}_calculateBetas($,Z){var W=R.zeros($.length,$.length),K,Q;for(K=0;K<$.rows;K++)for(Q=K;Q<$.columns;Q++)0==this.chemicalShifts[K]-this.chemicalShifts[Q]?K!==Q&&0===$[K][Q]&&(W[K][Q]=1,W[Q][K]=1):(W[K][Q]=1-_Mathabs($[K][Q]/((this.chemicalShifts[K]-this.chemicalShifts[Q])*Z)),W[Q][K]=W[K][Q]);return W}ensureClusterSize($){var Z=this._calculateBetas(this.couplingConstants,$.frequency||400),W=T.agnes(Z,{isDistanceMatrix:!0}),K=[];this._splitCluster(W,K,$.maxClusterSize||8,!1);var Q=this._mergeClusters(K);this.nClusters=Q.length,this.clusters=Array(Q.length);for(var G=0;G<this.nClusters;G++){this.clusters[G]=[];for(var ee=0;ee<this.nSpins;ee++)0!==Q[G][ee]&&(0>Q[G][ee]?this.clusters[G].push(-(ee+1)):this.clusters[G].push(ee))}}_splitCluster($,Z,W,K){if(!K&&$.index.length<=W)Z.push(this._getMembers($));else for(var Q of $.children)if(!isNaN(Q.index)||Q.index.length<=W){for(var G=this._getMembers(Q),ee=0,te=0;te<this.nSpins;te++)if(1===G[te]){ee++;for(var ne=0;ne<this.nSpins;ne++)1===this.connectivity[te][ne]&&0===G[ne]&&(G[ne]=-1,ee++)}ee<=W?Z.push(G):isNaN(Q.index)?this._splitCluster(Q,Z,W,!0):(G[Q.index]=2,Z.push(G))}else this._splitCluster(Q,Z,W,!1)}_getMembers($){for(var Z=Array(this.nSpins),W=0;W<this.nSpins;W++)Z[W]=0;if(!isNaN($.index))Z[1*$.index]=1;else for(var K of $.index)Z[1*K.index]=1;return Z}_mergeClusters($){var Z=0,W,K,Q,G,ee,te,ne;for(Q=$.length-1;0<=Q;Q--){for(W=$[Q],Z=W.length,ee=0;ee<Z&&-1!==W[ee++];);if(ee<Z)for(G=$.length-1;G>=Q+1;G--){for(K=$[G],ee=0,te=0,ne=0;ee<Z;)-1==W[ee]*K[ee]&&te++,(0!==W[ee]||0!==K[ee])&&ne++,ee++;if(0<te&&ne<=this.maxClusterSize){for(ee=0;ee<Z;)1===K[ee]?W[ee]=1:-1===K[ee]&&1!==W[ee]&&(W[ee]=-1),ee++;$.splice(G,1),G++}}}return $}}D.exports=O},function(D,E,I){'use strict';function R($){const Z=($-1)/2,W=Array($),K=Array($);for(var Q=0;Q<$;Q++)W[Q]=$-1-Q-Z,K[Q]=_Mathsqrt(Z*(Z+1)-W[Q]*(W[Q]+1));const G=P(K,1,$,$);for(Q=0;Q<$;Q++)K[Q]=_Mathsqrt(Z*(Z+1)-W[Q]*(W[Q]-1));const ee=P(K,-1,$,$),te=G.clone().add(ee).mul(0.5),ne=ee.clone().mul(-1).add(G).mul(-0.5),oe=P(W,0,$,$);return{x:te,y:ne,z:oe,m:ee,p:G}}function P($,Z,W,K){const Q=new T(W,K,{initialCapacity:20});for(var G=0;G<$.length;G++)0<=G-Z&&G-Z<W&&G<K&&Q.set(G-Z,G,$[G]);return Q}const T=I(51),O=R(2);D.exports=function($){return 2===$?O:R($)}},function(D,E,I){'use strict';function P(te,ne,oe,se,le,ae,de){const ue=0|ae*(-ne-se)/(le-se),pe=de.length;for(var ce=0,he=0,me=ue-pe/2;me<ue+pe/2;me++)ce=0|me,0<=me&&me<ae&&(te[ce]+=de[he]*oe),he++}function F(te,ne){te.forEachNonZero((oe,se,le)=>{return oe>se?0:_Mathabs(le)<=ne?0:le})}function T(te,ne,oe,se,le){let ae=1;for(var de=0;de<le.length;de++)ae*=oe[le[de]];const ue=new Z(ae,ae);for(var pe=0,ce;pe<le.length;pe++){ce=le[pe];const me=G(oe[ce]);let ge,fe,ye=1;for(let _e=0;_e<pe;_e++)ye*=oe[le[_e]];ge=Z.eye(ye),ye=1;for(let _e=pe+1;_e<le.length;_e++)ye*=oe[le[_e]];fe=Z.eye(ye);const xe=te[ce],be=ge.kroneckerProduct(me.z).kroneckerProduct(fe);ue.add(be.mul(xe));for(var he=0;he<le.length;he++){const _e=le[he];if(1===se[ce][_e]){const ke=G(oe[_e]);let we,Ce,je=1;for(let Se=0;Se<he;Se++)je*=oe[le[Se]];we=Z.eye(je),je=1;for(let Se=he+1;Se<le.length;Se++)je*=oe[le[Se]];Ce=Z.eye(je);const ve=ge.kroneckerProduct(me.x).kroneckerProduct(fe).mmul(we.kroneckerProduct(ke.x).kroneckerProduct(Ce));ve.add(ge.kroneckerProduct(me.y).kroneckerProduct(fe).mul(-1).mmul(we.kroneckerProduct(ke.y).kroneckerProduct(Ce))),ve.add(ge.kroneckerProduct(me.z).kroneckerProduct(fe).mmul(we.kroneckerProduct(ke.z).kroneckerProduct(Ce))),ue.add(ve.mul(ne[ce][_e]/2))}}}return ue}function O(te,ne,oe){const se=Array(oe);for(var ae=0;ae<oe;ae++)se[ae]=te+ae*((ne-te)/(oe-1));return se}const $=I(16),Z=I(51),W=I(26),K=I(54).asc,Q=I(18),G=I(141),ee=0.01;D.exports=function(te,ne){var oe,se;const le=ne.frequency||400,ae=(ne.from||0)*le,de=(ne.to||10)*le,ue=ne.lineWidth||1,pe=ne.nbPoints||1024,ce=ne.maxClusterSize||10,he=ne.output||'y',me=te.chemicalShifts.slice();for(oe=0;oe<me.length;oe++)me[oe]*=le;let ge=pe*ue/_Mathabs(de-ae)/2.355,fe=20*ge;const ye=0|fe,xe=Array(ye),be=fe/2;for(oe=0;oe<ye;oe++)xe[oe]=1e12*_Mathexp(-((oe-be)*(oe-be))/(2*(ge*ge)));const ke=new Q(pe,0),we=te.multiplicity;for(var Ce=0;Ce<te.clusters.length;Ce++){const He=te.clusters[Ce];var je=Array(He.length);for(oe=0;oe<He.length;oe++)je[oe]=0>He[oe]?-He[oe]-1:He[oe];var ve=1,Se=0;const Re=[],Pe=[];if(He.length>ce){for(var De=0;0>He[De++];);De=He[De-1];var Ee,Ie;for(Re.push(-me[De]),oe=0;oe<He.length;oe++)if(0>He[oe])for(Ie=te.couplingConstants[De][je[oe]]/2,Ee=Re.length,se=0;se<Ee;se++)Re.push(Re[se]+Ie),Re[se]-=Ie;for(Re.sort(K),Se=Re.length,ve=1,oe=0;oe<Se;oe++)Pe.push(1)}else{const Te=T(me,te.couplingConstants,we,te.connectivity,je),ze=Te.rows,Oe=new $.DC.EVD(Te),Me=Oe.eigenvectorMatrix,Xe=Oe.realEigenvalues,Ne=new Z(ze,ze),Ye=He.length;ve=0;for(var Ae=0;Ae<Ye;Ae++){const qe=G(we[je[Ae]]);let Ve=1;for(se=0;se<Ae;se++)Ve*=we[je[se]];const $e=Z.eye(Ve);for(Ve=1,se=Ae+1;se<Ye;se++)Ve*=we[je[se]];const Ze=Z.eye(Ve),We=$e.kroneckerProduct(qe.m).kroneckerProduct(Ze);0<=He[Ae]?(Ne.add(We.mul(He[Ae]+1)),ve++):Ne.add(We.mul(He[Ae]))}let Le=$.zeros(ze,ze);Ne.forEachNonZero((qe,Ve,$e)=>{if(0<$e){const We=Me[Ve];for(var Ze=0;Ze<We.length;Ze++)0!==We[Ze]&&Le.set(qe,Ze,Le.get(qe,Ze)+We[Ze])}return $e});let Ue=Le.clone();Ne.forEachNonZero((qe,Ve,$e)=>{if(0>$e){const We=Me[Ve];for(var Ze=0;Ze<We.length;Ze++)0!==We[Ze]&&Ue.set(qe,Ze,Ue.get(qe,Ze)+We[Ze])}return $e});const Be=Me.transpose();Le=Be.mmul(Le),Le=new Z(Le,{threshold:ee}),F(Le,ee),Ue=Be.mmul(Ue),Ue=new Z(Ue,{threshold:ee}),F(Ue,ee),Ue.forEachNonZero((qe,Ve,$e)=>{var Ze=Le.get(qe,Ve);Ze=_Mathmin(_Mathabs(Ze),_Mathabs($e)),Ze*=Ze,Se+=Ze;var We=Xe[qe]-Xe[Ve],Je=W(Re,We,K);0>Je?(Re.splice(-1-Je,0,We),Pe.splice(-1-Je,0,Ze)):Pe[Je]+=Ze})}const Fe=Re.length;if(0<Fe){ve/=Se;let ze=Re[0],Oe=Pe[0],Me=1;for(oe=1;oe<Fe;oe++)_Mathabs(Re[oe]-ze/Me)<ue/32?(Oe+=Pe[oe],ze+=Re[oe],Me++):(P(ke,ze/Me,Oe*ve,ae,de,pe,xe),ze=Re[oe],Oe=Pe[oe],Me=1);P(ke,ze/Me,Oe*ve,ae,de,pe,xe)}}if('xy'===he)return{x:O(ne.from,ne.to,pe),y:ke};if('y'===he)return ke;throw new RangeError('wrong output option')}},function(D,E,I){'use strict';function P($,Z,W,K){return(($-Z)*K-1)/(W-Z)}function F($,Z){for(var W=4,K=_Mathmax(0,_Mathround(Z.x-Z.widthX*W)),Q=_Mathmin($[0].length-1,_Mathround(Z.x+Z.widthX*W)),G=_Mathmax(0,_Mathround(Z.y-Z.widthY*W)),ee=_Mathmin($.length-1,_Mathround(Z.y+Z.widthY*W)),te=Z.widthX*Z.widthX,ne=Z.widthY*Z.widthY,oe=G;oe<ee;oe++)for(var se=K;se<Q;se++){var le=_Mathpow(Z.x-se,2)/te+_Mathpow(Z.y-oe,2)/ne,ae=1e4*Z.z*_Mathexp(-le);$[oe][se]+=ae}}const T=I(16);let O={H:{frequency:400,lineWidth:10},C:{frequency:100,lineWidth:10}};D.exports=function($,Z){var W;const K=$[0].fromAtomLabel,Q=$[0].toLabel,G=Z.frequencyX||O[K].frequency,ee=Z.frequencyY||O[Q].frequency;var te=Z.lineWidthX||O[K].lineWidth,ne=Z.lineWidthY||O[Q].lineWidth,le=$[0].fromChemicalShift,ae=$[0].fromChemicalShift,de=$[0].toChemicalShift,ue=$[0].toChemicalShift;for(W=1;W<$.length;)le=_Mathmin(le,$[W].fromChemicalShift),ae=_Mathmax(ae,$[W].fromChemicalShift),de=_Mathmin(de,$[W].toChemicalShift),ue=_Mathmax(ue,$[W].toChemicalShift),W++;null===Z.firstX||isNaN(Z.firstX)||(le=Z.firstX),null===Z.firstY||isNaN(Z.firstY)||(de=Z.firstY),null===Z.lastX||isNaN(Z.lastX)||(ae=Z.lastX),null===Z.lastY||isNaN(Z.lastY)||(ue=Z.lastY);var pe=Z.nbPointsX||512,ce=Z.nbPointsY||512,he=new T(ce,pe).fill(0);for(W=0;W<$.length;){let me={x:P($[W].fromChemicalShift,le,ae,pe),y:P($[W].toChemicalShift,de,ue,ce),z:$[W].fromAtoms.length+$[W].toAtoms.length,widthX:P(te/G+le,le,ae,pe),widthY:P(ne/ee+de,de,ue,ce)};F(he,me),W++}return he}},function(D){'use strict';D.exports=Number.isNaN||function(R){return R!==R}},function(D,E,I){'use strict';var R=I(2).assign,P=I(146),F=I(147),T=I(57),O={};R(O,P,F,T),D.exports=O},function(D,E,I){'use strict';function R(de){if(!(this instanceof R))return new R(de);this.options=$.assign({level:se,method:ae,chunkSize:16384,windowBits:15,memLevel:8,strategy:le,to:''},de||{});var ue=this.options;ue.raw&&0<ue.windowBits?ue.windowBits=-ue.windowBits:ue.gzip&&0<ue.windowBits&&16>ue.windowBits&&(ue.windowBits+=16),this.err=0,this.msg='',this.ended=!1,this.chunks=[],this.strm=new K,this.strm.avail_out=0;var pe=O.deflateInit2(this.strm,ue.level,ue.method,ue.windowBits,ue.memLevel,ue.strategy);if(pe!==te)throw new Error(W[pe]);if(ue.header&&O.deflateSetHeader(this.strm,ue.header),ue.dictionary){var ce;if(ce='string'==typeof ue.dictionary?Z.string2buf(ue.dictionary):'[object ArrayBuffer]'===Q.call(ue.dictionary)?new Uint8Array(ue.dictionary):ue.dictionary,pe=O.deflateSetDictionary(this.strm,ce),pe!==te)throw new Error(W[pe]);this._dict_set=!0}}function P(de,ue){var pe=new R(ue);if(pe.push(de,!0),pe.err)throw pe.msg||W[pe.err];return pe.result}var O=I(148),$=I(2),Z=I(55),W=I(19),K=I(59),Q=Object.prototype.toString,ee=4,te=0,ne=1,oe=2,se=-1,le=0,ae=8;R.prototype.push=function(de,ue){var pe=this.strm,ce=this.options.chunkSize,he,me;if(this.ended)return!1;me=ue===~~ue?ue:!0===ue?ee:0,pe.input='string'==typeof de?Z.string2buf(de):'[object ArrayBuffer]'===Q.call(de)?new Uint8Array(de):de,pe.next_in=0,pe.avail_in=pe.input.length;do{if(0===pe.avail_out&&(pe.output=new $.Buf8(ce),pe.next_out=0,pe.avail_out=ce),he=O.deflate(pe,me),he!==ne&&he!==te)return this.onEnd(he),this.ended=!0,!1;(0===pe.avail_out||0===pe.avail_in&&(me===ee||me===oe))&&('string'===this.options.to?this.onData(Z.buf2binstring($.shrinkBuf(pe.output,pe.next_out))):this.onData($.shrinkBuf(pe.output,pe.next_out)))}while((0<pe.avail_in||0===pe.avail_out)&&he!==ne);return me===ee?(he=O.deflateEnd(this.strm),this.onEnd(he),this.ended=!0,he===te):me!==oe||(this.onEnd(te),pe.avail_out=0,!0)},R.prototype.onData=function(de){this.chunks.push(de)},R.prototype.onEnd=function(de){de===te&&('string'===this.options.to?this.result=this.chunks.join(''):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=de,this.msg=this.strm.msg},E.Deflate=R,E.deflate=P,E.deflateRaw=function(de,ue){return ue=ue||{},ue.raw=!0,P(de,ue)},E.gzip=function(de,ue){return ue=ue||{},ue.gzip=!0,P(de,ue)}},function(D,E,I){'use strict';function R(ee){if(!(this instanceof R))return new R(ee);this.options=O.assign({chunkSize:16384,windowBits:0,to:''},ee||{});var te=this.options;te.raw&&0<=te.windowBits&&16>te.windowBits&&(te.windowBits=-te.windowBits,0===te.windowBits&&(te.windowBits=-15)),0<=te.windowBits&&16>te.windowBits&&!(ee&&ee.windowBits)&&(te.windowBits+=32),15<te.windowBits&&48>te.windowBits&&0==(15&te.windowBits)&&(te.windowBits|=15),this.err=0,this.msg='',this.ended=!1,this.chunks=[],this.strm=new K,this.strm.avail_out=0;var ne=T.inflateInit2(this.strm,te.windowBits);if(ne!==Z.Z_OK)throw new Error(W[ne]);this.header=new Q,T.inflateGetHeader(this.strm,this.header)}function P(ee,te){var ne=new R(te);if(ne.push(ee,!0),ne.err)throw ne.msg||W[ne.err];return ne.result}var T=I(151),O=I(2),$=I(55),Z=I(57),W=I(19),K=I(59),Q=I(149),G=Object.prototype.toString;R.prototype.push=function(ee,te){var ne=this.strm,oe=this.options.chunkSize,se=this.options.dictionary,he=!1,le,ae,de,ue,pe,ce;if(this.ended)return!1;ae=te===~~te?te:!0===te?Z.Z_FINISH:Z.Z_NO_FLUSH,ne.input='string'==typeof ee?$.binstring2buf(ee):'[object ArrayBuffer]'===G.call(ee)?new Uint8Array(ee):ee,ne.next_in=0,ne.avail_in=ne.input.length;do{if(0===ne.avail_out&&(ne.output=new O.Buf8(oe),ne.next_out=0,ne.avail_out=oe),le=T.inflate(ne,Z.Z_NO_FLUSH),le===Z.Z_NEED_DICT&&se&&(ce='string'==typeof se?$.string2buf(se):'[object ArrayBuffer]'===G.call(se)?new Uint8Array(se):se,le=T.inflateSetDictionary(this.strm,ce)),le===Z.Z_BUF_ERROR&&!0==he&&(le=Z.Z_OK,he=!1),le!==Z.Z_STREAM_END&&le!==Z.Z_OK)return this.onEnd(le),this.ended=!0,!1;ne.next_out&&(0===ne.avail_out||le===Z.Z_STREAM_END||0===ne.avail_in&&(ae===Z.Z_FINISH||ae===Z.Z_SYNC_FLUSH))&&('string'===this.options.to?(de=$.utf8border(ne.output,ne.next_out),ue=ne.next_out-de,pe=$.buf2string(ne.output,de),ne.next_out=ue,ne.avail_out=oe-ue,ue&&O.arraySet(ne.output,ne.output,de,ue,0),this.onData(pe)):this.onData(O.shrinkBuf(ne.output,ne.next_out))),0===ne.avail_in&&0===ne.avail_out&&(he=!0)}while((0<ne.avail_in||0===ne.avail_out)&&le!==Z.Z_STREAM_END);return le===Z.Z_STREAM_END&&(ae=Z.Z_FINISH),ae===Z.Z_FINISH?(le=T.inflateEnd(this.strm),this.onEnd(le),this.ended=!0,le===Z.Z_OK):ae!==Z.Z_SYNC_FLUSH||(this.onEnd(Z.Z_OK),ne.avail_out=0,!0)},R.prototype.onData=function(ee){this.chunks.push(ee)},R.prototype.onEnd=function(ee){ee===Z.Z_OK&&('string'===this.options.to?this.result=this.chunks.join(''):this.result=O.flattenChunks(this.chunks)),this.chunks=[],this.err=ee,this.msg=this.strm.msg},E.Inflate=R,E.inflate=P,E.inflateRaw=function(ee,te){return te=te||{},te.raw=!0,P(ee,te)},E.ungzip=P},function(D,E,I){'use strict';function R(gt,yt){return gt.msg=ke[yt],yt}function P(gt){return(gt<<1)-(4<gt?9:0)}function F(gt){for(var yt=gt.length;0<=--yt;)gt[yt]=0}function T(gt){var yt=gt.state,xt=yt.pending;xt>gt.avail_out&&(xt=gt.avail_out);0===xt||(ye.arraySet(gt.output,yt.pending_buf,yt.pending_out,xt,gt.next_out),gt.next_out+=xt,yt.pending_out+=xt,gt.total_out+=xt,gt.avail_out-=xt,yt.pending-=xt,0===yt.pending&&(yt.pending_out=0))}function O(gt,yt){xe._tr_flush_block(gt,0<=gt.block_start?gt.block_start:-1,gt.strstart-gt.block_start,yt),gt.block_start=gt.strstart,T(gt.strm)}function $(gt,yt){gt.pending_buf[gt.pending++]=yt}function Z(gt,yt){gt.pending_buf[gt.pending++]=255&yt>>>8,gt.pending_buf[gt.pending++]=255&yt}function W(gt,yt,xt,bt){var _t=gt.avail_in;return(_t>bt&&(_t=bt),0===_t)?0:(gt.avail_in-=_t,ye.arraySet(yt,gt.input,gt.next_in,_t,xt),1===gt.state.wrap?gt.adler=be(gt.adler,yt,_t,xt):2===gt.state.wrap&&(gt.adler=_e(gt.adler,yt,_t,xt)),gt.next_in+=_t,gt.total_in+=_t,_t)}function K(gt,yt){var xt=gt.max_chain_length,bt=gt.strstart,_t,kt,wt=gt.prev_length,Ct=gt.nice_match,jt=gt.strstart>gt.w_size-Qe?gt.strstart-(gt.w_size-Qe):0,vt=gt.window,St=gt.w_mask,Dt=gt.prev,Et=gt.strstart+Ke,It=vt[bt+wt-1],At=vt[bt+wt];gt.prev_length>=gt.good_match&&(xt>>=2),Ct>gt.lookahead&&(Ct=gt.lookahead);do{if(_t=yt,vt[_t+wt]!==At||vt[_t+wt-1]!==It||vt[_t]!==vt[bt]||vt[++_t]!==vt[bt+1])continue;bt+=2,_t++;do;while(vt[++bt]===vt[++_t]&&vt[++bt]===vt[++_t]&&vt[++bt]===vt[++_t]&&vt[++bt]===vt[++_t]&&vt[++bt]===vt[++_t]&&vt[++bt]===vt[++_t]&&vt[++bt]===vt[++_t]&&vt[++bt]===vt[++_t]&&bt<Et);if(kt=Ke-(Et-bt),bt=Et-Ke,kt>wt){if(gt.match_start=yt,wt=kt,kt>=Ct)break;It=vt[bt+wt-1],At=vt[bt+wt]}}while((yt=Dt[yt&St])>jt&&0!=--xt);return wt<=gt.lookahead?wt:gt.lookahead}function Q(gt){var yt=gt.w_size,xt,bt,_t,kt,wt;do{if(kt=gt.window_size-gt.lookahead-gt.strstart,gt.strstart>=yt+(yt-Qe)){ye.arraySet(gt.window,gt.window,yt,yt,0),gt.match_start-=yt,gt.strstart-=yt,gt.block_start-=yt,bt=gt.hash_size,xt=bt;do _t=gt.head[--xt],gt.head[xt]=_t>=yt?_t-yt:0;while(--bt);bt=yt,xt=bt;do _t=gt.prev[--xt],gt.prev[xt]=_t>=yt?_t-yt:0;while(--bt);kt+=yt}if(0===gt.strm.avail_in)break;if(bt=W(gt.strm,gt.window,gt.strstart+gt.lookahead,kt),gt.lookahead+=bt,gt.lookahead+gt.insert>=Je)for(wt=gt.strstart-gt.insert,gt.ins_h=gt.window[wt],gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[wt+1])&gt.hash_mask;gt.insert&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[wt+Je-1])&gt.hash_mask,gt.prev[wt&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=wt,wt++,gt.insert--,!(gt.lookahead+gt.insert<Je)););}while(gt.lookahead<Qe&&0!==gt.strm.avail_in)}function ee(gt,yt){for(var xt,bt;;){if(gt.lookahead<Qe){if(Q(gt),gt.lookahead<Qe&&yt===we)return at;if(0===gt.lookahead)break}if(xt=0,gt.lookahead>=Je&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+Je-1])&gt.hash_mask,xt=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart),0!==xt&&gt.strstart-xt<=gt.w_size-Qe&&(gt.match_length=K(gt,xt)),!(gt.match_length>=Je))bt=xe._tr_tally(gt,0,gt.window[gt.strstart]),gt.lookahead--,gt.strstart++;else if(bt=xe._tr_tally(gt,gt.strstart-gt.match_start,gt.match_length-Je),gt.lookahead-=gt.match_length,gt.match_length<=gt.max_lazy_match&&gt.lookahead>=Je){gt.match_length--;do gt.strstart++,gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+Je-1])&gt.hash_mask,xt=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart;while(0!=--gt.match_length);gt.strstart++}else gt.strstart+=gt.match_length,gt.match_length=0,gt.ins_h=gt.window[gt.strstart],gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+1])&gt.hash_mask;if(bt&&(O(gt,!1),0===gt.strm.avail_out))return at}return gt.insert=gt.strstart<Je-1?gt.strstart:Je-1,yt===ve?(O(gt,!0),0===gt.strm.avail_out?pt:ct):gt.last_lit&&(O(gt,!1),0===gt.strm.avail_out)?at:ut}function te(gt,yt){for(var xt,bt,_t;;){if(gt.lookahead<Qe){if(Q(gt),gt.lookahead<Qe&&yt===we)return at;if(0===gt.lookahead)break}if(xt=0,gt.lookahead>=Je&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+Je-1])&gt.hash_mask,xt=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart),gt.prev_length=gt.match_length,gt.prev_match=gt.match_start,gt.match_length=Je-1,0!==xt&&gt.prev_length<gt.max_lazy_match&&gt.strstart-xt<=gt.w_size-Qe&&(gt.match_length=K(gt,xt),5>=gt.match_length&&(gt.strategy===Pe||gt.match_length===Je&&4096<gt.strstart-gt.match_start)&&(gt.match_length=Je-1)),gt.prev_length>=Je&&gt.match_length<=gt.prev_length){_t=gt.strstart+gt.lookahead-Je,bt=xe._tr_tally(gt,gt.strstart-1-gt.prev_match,gt.prev_length-Je),gt.lookahead-=gt.prev_length-1,gt.prev_length-=2;do++gt.strstart<=_t&&(gt.ins_h=(gt.ins_h<<gt.hash_shift^gt.window[gt.strstart+Je-1])&gt.hash_mask,xt=gt.prev[gt.strstart&gt.w_mask]=gt.head[gt.ins_h],gt.head[gt.ins_h]=gt.strstart);while(0!=--gt.prev_length);if(gt.match_available=0,gt.match_length=Je-1,gt.strstart++,bt&&(O(gt,!1),0===gt.strm.avail_out))return at}else if(!gt.match_available)gt.match_available=1,gt.strstart++,gt.lookahead--;else if(bt=xe._tr_tally(gt,0,gt.window[gt.strstart-1]),bt&&O(gt,!1),gt.strstart++,gt.lookahead--,0===gt.strm.avail_out)return at}return gt.match_available&&(bt=xe._tr_tally(gt,0,gt.window[gt.strstart-1]),gt.match_available=0),gt.insert=gt.strstart<Je-1?gt.strstart:Je-1,yt===ve?(O(gt,!0),0===gt.strm.avail_out?pt:ct):gt.last_lit&&(O(gt,!1),0===gt.strm.avail_out)?at:ut}function ne(gt,yt){for(var wt=gt.window,xt,bt,_t,kt;;){if(gt.lookahead<=Ke){if(Q(gt),gt.lookahead<=Ke&&yt===we)return at;if(0===gt.lookahead)break}if(gt.match_length=0,gt.lookahead>=Je&&0<gt.strstart&&(_t=gt.strstart-1,bt=wt[_t],bt===wt[++_t]&&bt===wt[++_t]&&bt===wt[++_t])){kt=gt.strstart+Ke;do;while(bt===wt[++_t]&&bt===wt[++_t]&&bt===wt[++_t]&&bt===wt[++_t]&&bt===wt[++_t]&&bt===wt[++_t]&&bt===wt[++_t]&&bt===wt[++_t]&&_t<kt);gt.match_length=Ke-(kt-_t),gt.match_length>gt.lookahead&&(gt.match_length=gt.lookahead)}if(gt.match_length>=Je?(xt=xe._tr_tally(gt,1,gt.match_length-Je),gt.lookahead-=gt.match_length,gt.strstart+=gt.match_length,gt.match_length=0):(xt=xe._tr_tally(gt,0,gt.window[gt.strstart]),gt.lookahead--,gt.strstart++),xt&&(O(gt,!1),0===gt.strm.avail_out))return at}return gt.insert=0,yt===ve?(O(gt,!0),0===gt.strm.avail_out?pt:ct):gt.last_lit&&(O(gt,!1),0===gt.strm.avail_out)?at:ut}function oe(gt,yt){for(var xt;;){if(0===gt.lookahead&&(Q(gt),0===gt.lookahead)){if(yt===we)return at;break}if(gt.match_length=0,xt=xe._tr_tally(gt,0,gt.window[gt.strstart]),gt.lookahead--,gt.strstart++,xt&&(O(gt,!1),0===gt.strm.avail_out))return at}return gt.insert=0,yt===ve?(O(gt,!0),0===gt.strm.avail_out?pt:ct):gt.last_lit&&(O(gt,!1),0===gt.strm.avail_out)?at:ut}function se(gt,yt,xt,bt,_t){this.good_length=gt,this.max_lazy=yt,this.nice_length=xt,this.max_chain=bt,this.func=_t}function le(gt){gt.window_size=2*gt.w_size,F(gt.head),gt.max_lazy_match=mt[gt.level].max_lazy,gt.good_match=mt[gt.level].good_length,gt.nice_match=mt[gt.level].nice_length,gt.max_chain_length=mt[gt.level].max_chain,gt.strstart=0,gt.block_start=0,gt.lookahead=0,gt.insert=0,gt.match_length=gt.prev_length=Je-1,gt.match_available=0,gt.ins_h=0}function ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Xe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ye.Buf16(2*Ze),this.dyn_dtree=new ye.Buf16(2*(2*Ve+1)),this.bl_tree=new ye.Buf16(2*(2*$e+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ye.Buf16(We+1),this.heap=new ye.Buf16(2*qe+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ye.Buf16(2*qe+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(gt){var yt;return gt&&gt.state?(gt.total_in=gt.total_out=0,gt.data_type=Me,yt=gt.state,yt.pending=0,yt.pending_out=0,0>yt.wrap&&(yt.wrap=-yt.wrap),yt.status=yt.wrap?et:st,gt.adler=2===yt.wrap?0:1,yt.last_flush=we,xe._tr_init(yt),De):R(gt,Ie)}function ue(gt){var yt=de(gt);return yt===De&&le(gt.state),yt}function ce(gt,yt,xt,bt,_t,kt){if(!gt)return Ie;var wt=1;if(yt===Re&&(yt=6),0>bt?(wt=0,bt=-bt):15<bt&&(wt=2,bt-=16),1>_t||_t>Ne||xt!==Xe||8>bt||15<bt||0>yt||9<yt||0>kt||kt>ze)return R(gt,Ie);8===bt&&(bt=9);var Ct=new ae;return gt.state=Ct,Ct.strm=gt,Ct.wrap=wt,Ct.gzhead=null,Ct.w_bits=bt,Ct.w_size=1<<Ct.w_bits,Ct.w_mask=Ct.w_size-1,Ct.hash_bits=_t+7,Ct.hash_size=1<<Ct.hash_bits,Ct.hash_mask=Ct.hash_size-1,Ct.hash_shift=~~((Ct.hash_bits+Je-1)/Je),Ct.window=new ye.Buf8(2*Ct.w_size),Ct.head=new ye.Buf16(Ct.hash_size),Ct.prev=new ye.Buf16(Ct.w_size),Ct.lit_bufsize=1<<_t+6,Ct.pending_buf_size=4*Ct.lit_bufsize,Ct.pending_buf=new ye.Buf8(Ct.pending_buf_size),Ct.d_buf=1*Ct.lit_bufsize,Ct.l_buf=3*Ct.lit_bufsize,Ct.level=yt,Ct.strategy=kt,Ct.method=xt,ue(gt)}var ye=I(2),xe=I(153),be=I(56),_e=I(58),ke=I(19),we=0,ve=4,Se=5,De=0,Ee=1,Ie=-2,He=-5,Re=-1,Pe=1,Fe=2,ze=4,Me=2,Xe=8,Ne=9,qe=256+1+29,Ve=30,$e=19,Ze=2*qe+1,We=15,Je=3,Ke=258,Qe=Ke+Je+1,et=42,tt=69,it=73,nt=91,ot=103,st=113,lt=666,at=1,ut=2,pt=3,ct=4,mt;mt=[new se(0,0,0,0,function(gt,yt){var xt=65535;for(xt>gt.pending_buf_size-5&&(xt=gt.pending_buf_size-5);;){if(1>=gt.lookahead){if(Q(gt),0===gt.lookahead&&yt===we)return at;if(0===gt.lookahead)break}gt.strstart+=gt.lookahead,gt.lookahead=0;var bt=gt.block_start+xt;if((0===gt.strstart||gt.strstart>=bt)&&(gt.lookahead=gt.strstart-bt,gt.strstart=bt,O(gt,!1),0===gt.strm.avail_out))return at;if(gt.strstart-gt.block_start>=gt.w_size-Qe&&(O(gt,!1),0===gt.strm.avail_out))return at}return gt.insert=0,yt===ve?(O(gt,!0),0===gt.strm.avail_out?pt:ct):gt.strstart>gt.block_start&&(O(gt,!1),0===gt.strm.avail_out)?at:at}),new se(4,4,8,4,ee),new se(4,5,16,8,ee),new se(4,6,32,32,ee),new se(4,4,16,16,te),new se(8,16,32,32,te),new se(8,16,128,128,te),new se(8,32,128,256,te),new se(32,128,258,1024,te),new se(32,258,258,4096,te)],E.deflateInit=function(gt,yt){return ce(gt,yt,Xe,15,8,0)},E.deflateInit2=ce,E.deflateReset=ue,E.deflateResetKeep=de,E.deflateSetHeader=function(gt,yt){return gt&&gt.state?2===gt.state.wrap?(gt.state.gzhead=yt,De):Ie:Ie},E.deflate=function(gt,yt){var xt,bt,_t,kt;if(!gt||!gt.state||yt>Se||0>yt)return gt?R(gt,Ie):Ie;if(bt=gt.state,!gt.output||!gt.input&&0!==gt.avail_in||bt.status===lt&&yt!==ve)return R(gt,0===gt.avail_out?He:Ie);if(bt.strm=gt,xt=bt.last_flush,bt.last_flush=yt,bt.status===et)if(2===bt.wrap)gt.adler=0,$(bt,31),$(bt,139),$(bt,8),bt.gzhead?($(bt,(bt.gzhead.text?1:0)+(bt.gzhead.hcrc?2:0)+(bt.gzhead.extra?4:0)+(bt.gzhead.name?8:0)+(bt.gzhead.comment?16:0)),$(bt,255&bt.gzhead.time),$(bt,255&bt.gzhead.time>>8),$(bt,255&bt.gzhead.time>>16),$(bt,255&bt.gzhead.time>>24),$(bt,9===bt.level?2:bt.strategy>=Fe||2>bt.level?4:0),$(bt,255&bt.gzhead.os),bt.gzhead.extra&&bt.gzhead.extra.length&&($(bt,255&bt.gzhead.extra.length),$(bt,255&bt.gzhead.extra.length>>8)),bt.gzhead.hcrc&&(gt.adler=_e(gt.adler,bt.pending_buf,bt.pending,0)),bt.gzindex=0,bt.status=tt):($(bt,0),$(bt,0),$(bt,0),$(bt,0),$(bt,0),$(bt,9===bt.level?2:bt.strategy>=Fe||2>bt.level?4:0),$(bt,3),bt.status=st);else{var wt=Xe+(bt.w_bits-8<<4)<<8,Ct=-1;Ct=bt.strategy>=Fe||2>bt.level?0:6>bt.level?1:6===bt.level?2:3,wt|=Ct<<6,0!==bt.strstart&&(wt|=32),wt+=31-wt%31,bt.status=st,Z(bt,wt),0!==bt.strstart&&(Z(bt,gt.adler>>>16),Z(bt,65535&gt.adler)),gt.adler=1}if(bt.status===tt)if(bt.gzhead.extra){for(_t=bt.pending;bt.gzindex<(65535&bt.gzhead.extra.length)&&!(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>_t&&(gt.adler=_e(gt.adler,bt.pending_buf,bt.pending-_t,_t)),T(gt),_t=bt.pending,bt.pending===bt.pending_buf_size));)$(bt,255&bt.gzhead.extra[bt.gzindex]),bt.gzindex++;bt.gzhead.hcrc&&bt.pending>_t&&(gt.adler=_e(gt.adler,bt.pending_buf,bt.pending-_t,_t)),bt.gzindex===bt.gzhead.extra.length&&(bt.gzindex=0,bt.status=it)}else bt.status=it;if(bt.status===it)if(bt.gzhead.name){_t=bt.pending;do{if(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>_t&&(gt.adler=_e(gt.adler,bt.pending_buf,bt.pending-_t,_t)),T(gt),_t=bt.pending,bt.pending===bt.pending_buf_size)){kt=1;break}kt=bt.gzindex<bt.gzhead.name.length?255&bt.gzhead.name.charCodeAt(bt.gzindex++):0,$(bt,kt)}while(0!==kt);bt.gzhead.hcrc&&bt.pending>_t&&(gt.adler=_e(gt.adler,bt.pending_buf,bt.pending-_t,_t)),0===kt&&(bt.gzindex=0,bt.status=nt)}else bt.status=nt;if(bt.status===nt)if(bt.gzhead.comment){_t=bt.pending;do{if(bt.pending===bt.pending_buf_size&&(bt.gzhead.hcrc&&bt.pending>_t&&(gt.adler=_e(gt.adler,bt.pending_buf,bt.pending-_t,_t)),T(gt),_t=bt.pending,bt.pending===bt.pending_buf_size)){kt=1;break}kt=bt.gzindex<bt.gzhead.comment.length?255&bt.gzhead.comment.charCodeAt(bt.gzindex++):0,$(bt,kt)}while(0!==kt);bt.gzhead.hcrc&&bt.pending>_t&&(gt.adler=_e(gt.adler,bt.pending_buf,bt.pending-_t,_t)),0===kt&&(bt.status=ot)}else bt.status=ot;if(bt.status===ot&&(bt.gzhead.hcrc?(bt.pending+2>bt.pending_buf_size&&T(gt),bt.pending+2<=bt.pending_buf_size&&($(bt,255&gt.adler),$(bt,255&gt.adler>>8),gt.adler=0,bt.status=st)):bt.status=st),0!==bt.pending){if(T(gt),0===gt.avail_out)return bt.last_flush=-1,De;}else if(0===gt.avail_in&&P(yt)<=P(xt)&&yt!==ve)return R(gt,He);if(bt.status===lt&&0!==gt.avail_in)return R(gt,He);if(0!==gt.avail_in||0!==bt.lookahead||yt!==we&&bt.status!==lt){var jt=bt.strategy===Fe?oe(bt,yt):bt.strategy===3?ne(bt,yt):mt[bt.level].func(bt,yt);if((jt===pt||jt===ct)&&(bt.status=lt),jt===at||jt===pt)return 0===gt.avail_out&&(bt.last_flush=-1),De;if(jt===ut&&(yt===1?xe._tr_align(bt):yt!==Se&&(xe._tr_stored_block(bt,0,0,!1),yt===3&&(F(bt.head),0===bt.lookahead&&(bt.strstart=0,bt.block_start=0,bt.insert=0))),T(gt),0===gt.avail_out))return bt.last_flush=-1,De}return yt===ve?0>=bt.wrap?Ee:(2===bt.wrap?($(bt,255&gt.adler),$(bt,255&gt.adler>>8),$(bt,255&gt.adler>>16),$(bt,255&gt.adler>>24),$(bt,255&gt.total_in),$(bt,255&gt.total_in>>8),$(bt,255&gt.total_in>>16),$(bt,255&gt.total_in>>24)):(Z(bt,gt.adler>>>16),Z(bt,65535&gt.adler)),T(gt),0<bt.wrap&&(bt.wrap=-bt.wrap),0===bt.pending?Ee:De):De},E.deflateEnd=function(gt){var yt;return gt&&gt.state?(yt=gt.state.status,yt!==et&&yt!==tt&&yt!==it&&yt!==nt&&yt!==ot&&yt!==st&&yt!==lt)?R(gt,Ie):(gt.state=null,yt===st?R(gt,-3):De):Ie},E.deflateSetDictionary=function(gt,yt){var xt=yt.length,bt,_t,kt,wt,Ct,jt,vt,St;if(!gt||!gt.state)return Ie;if(bt=gt.state,wt=bt.wrap,2===wt||1===wt&&bt.status!==et||bt.lookahead)return Ie;for(1===wt&&(gt.adler=be(gt.adler,yt,xt,0)),bt.wrap=0,xt>=bt.w_size&&(0===wt&&(F(bt.head),bt.strstart=0,bt.block_start=0,bt.insert=0),St=new ye.Buf8(bt.w_size),ye.arraySet(St,yt,xt-bt.w_size,bt.w_size,0),yt=St,xt=bt.w_size),Ct=gt.avail_in,jt=gt.next_in,vt=gt.input,gt.avail_in=xt,gt.next_in=0,gt.input=yt,Q(bt);bt.lookahead>=Je;){_t=bt.strstart,kt=bt.lookahead-(Je-1);do bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[_t+Je-1])&bt.hash_mask,bt.prev[_t&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=_t,_t++;while(--kt);bt.strstart=_t,bt.lookahead=Je-1,Q(bt)}return bt.strstart+=bt.lookahead,bt.block_start=bt.strstart,bt.insert=bt.lookahead,bt.lookahead=0,bt.match_length=bt.prev_length=Je-1,bt.match_available=0,gt.next_in=jt,gt.input=vt,gt.avail_in=Ct,bt.wrap=wt,De},E.deflateInfo='pako deflate (from Nodeca project)'},function(D){'use strict';D.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name='',this.comment='',this.hcrc=0,this.done=!1}},function(D){'use strict';var R=30;D.exports=function(T,O){var $,Z,W,K,Q,G,ee,te,ne,oe,se,le,ae,de,ue,pe,ce,he,me,ge,fe,ye,xe,be,_e;$=T.state,Z=T.next_in,be=T.input,W=Z+(T.avail_in-5),K=T.next_out,_e=T.output,Q=K-(O-T.avail_out),G=K+(T.avail_out-257),ee=$.dmax,te=$.wsize,ne=$.whave,oe=$.wnext,se=$.window,le=$.hold,ae=$.bits,de=$.lencode,ue=$.distcode,pe=(1<<$.lenbits)-1,ce=(1<<$.distbits)-1;top:do{15>ae&&(le+=be[Z++]<<ae,ae+=8,le+=be[Z++]<<ae,ae+=8),he=de[le&pe];dolen:for(;;){if(me=he>>>24,le>>>=me,ae-=me,me=255&he>>>16,0===me)_e[K++]=65535&he;else if(16&me){ge=65535&he,me&=15,me&&(ae<me&&(le+=be[Z++]<<ae,ae+=8),ge+=le&(1<<me)-1,le>>>=me,ae-=me),15>ae&&(le+=be[Z++]<<ae,ae+=8,le+=be[Z++]<<ae,ae+=8),he=ue[le&ce];dodist:for(;;){if(me=he>>>24,le>>>=me,ae-=me,me=255&he>>>16,16&me){if(fe=65535&he,me&=15,ae<me&&(le+=be[Z++]<<ae,ae+=8,ae<me&&(le+=be[Z++]<<ae,ae+=8)),fe+=le&(1<<me)-1,fe>ee){T.msg='invalid distance too far back',$.mode=R;break top}if(le>>>=me,ae-=me,me=K-Q,fe>me){if(me=fe-me,me>ne&&$.sane){T.msg='invalid distance too far back',$.mode=R;break top}if(ye=0,xe=se,0===oe){if(ye+=te-me,me<ge){ge-=me;do _e[K++]=se[ye++];while(--me);ye=K-fe,xe=_e}}else if(oe<me){if(ye+=te+oe-me,me-=oe,me<ge){ge-=me;do _e[K++]=se[ye++];while(--me);if(ye=0,oe<ge){me=oe,ge-=me;do _e[K++]=se[ye++];while(--me);ye=K-fe,xe=_e}}}else if(ye+=oe-me,me<ge){ge-=me;do _e[K++]=se[ye++];while(--me);ye=K-fe,xe=_e}for(;2<ge;)_e[K++]=xe[ye++],_e[K++]=xe[ye++],_e[K++]=xe[ye++],ge-=3;ge&&(_e[K++]=xe[ye++],1<ge&&(_e[K++]=xe[ye++]))}else{ye=K-fe;do _e[K++]=_e[ye++],_e[K++]=_e[ye++],_e[K++]=_e[ye++],ge-=3;while(2<ge);ge&&(_e[K++]=_e[ye++],1<ge&&(_e[K++]=_e[ye++]))}}else if(0==(64&me)){he=ue[(65535&he)+(le&(1<<me)-1)];continue dodist}else{T.msg='invalid distance code',$.mode=R;break top}break}}else if(0==(64&me)){he=de[(65535&he)+(le&(1<<me)-1)];continue dolen}else if(32&me){$.mode=12;break top}else{T.msg='invalid literal/length code',$.mode=R;break top}break}}while(Z<W&&K<G);return ge=ae>>3,Z-=ge,ae-=ge<<3,le&=(1<<ae)-1,T.next_in=Z,T.next_out=K,T.avail_in=Z<W?5+(W-Z):5-(Z-W),T.avail_out=K<G?257+(G-K):257-(K-G),$.hold=le,void($.bits=ae)}},function(D,E,I){'use strict';function R(ut){return(255&ut>>>24)+(65280&ut>>>8)+((65280&ut)<<8)+((255&ut)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ne.Buf16(320),this.work=new ne.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function F(ut){var pt;return ut&&ut.state?(pt=ut.state,ut.total_in=ut.total_out=pt.total=0,ut.msg='',pt.wrap&&(ut.adler=1&pt.wrap),pt.mode=Ce,pt.last=0,pt.havedict=0,pt.dmax=32768,pt.head=null,pt.hold=0,pt.bits=0,pt.lencode=pt.lendyn=new ne.Buf32(tt),pt.distcode=pt.distdyn=new ne.Buf32(it),pt.sane=1,pt.back=-1,ge):xe}function T(ut){var pt;return ut&&ut.state?(pt=ut.state,pt.wsize=0,pt.whave=0,pt.wnext=0,F(ut)):xe}function O(ut,pt){var ct,ht;return ut&&ut.state?(ht=ut.state,0>pt?(ct=0,pt=-pt):(ct=(pt>>4)+1,48>pt&&(pt&=15)),pt&&(8>pt||15<pt))?xe:(null!==ht.window&&ht.wbits!==pt&&(ht.window=null),ht.wrap=ct,ht.wbits=pt,T(ut)):xe}function $(ut,pt){var ct,ht;return ut?(ht=new P,ut.state=ht,ht.window=null,ct=O(ut,pt),ct!==ge&&(ut.state=null),ct):xe}function W(ut){if(st){var pt;for(lt=new ne.Buf32(512),at=new ne.Buf32(32),pt=0;144>pt;)ut.lens[pt++]=8;for(;256>pt;)ut.lens[pt++]=9;for(;280>pt;)ut.lens[pt++]=7;for(;288>pt;)ut.lens[pt++]=8;for(ae(ue,ut.lens,0,288,lt,0,ut.work,{bits:9}),pt=0;32>pt;)ut.lens[pt++]=5;ae(pe,ut.lens,0,32,at,0,ut.work,{bits:5}),st=!1}ut.lencode=lt,ut.lenbits=9,ut.distcode=at,ut.distbits=5}function K(ut,pt,ct,ht){var gt=ut.state,mt;return null===gt.window&&(gt.wsize=1<<gt.wbits,gt.wnext=0,gt.whave=0,gt.window=new ne.Buf8(gt.wsize)),ht>=gt.wsize?(ne.arraySet(gt.window,pt,ct-gt.wsize,gt.wsize,0),gt.wnext=0,gt.whave=gt.wsize):(mt=gt.wsize-gt.wnext,mt>ht&&(mt=ht),ne.arraySet(gt.window,pt,ct-ht,mt,gt.wnext),ht-=mt,ht?(ne.arraySet(gt.window,pt,ct-ht,ht,0),gt.wnext=ht,gt.whave=gt.wsize):(gt.wnext+=mt,gt.wnext===gt.wsize&&(gt.wnext=0),gt.whave<gt.wsize&&(gt.whave+=mt))),0}var ne=I(2),oe=I(56),se=I(58),le=I(150),ae=I(152),ue=1,pe=2,ce=4,me=6,ge=0,xe=-2,be=-3,_e=-4,we=8,Ce=1,je=2,ve=3,Se=4,De=5,Ee=6,Ie=7,Ae=8,He=9,Re=10,Pe=11,Fe=12,Te=13,ze=14,Oe=15,Me=16,Xe=17,Ne=18,Ye=19,Le=20,Ue=21,Be=22,qe=23,Ve=24,$e=25,Ze=26,We=27,Je=28,Ke=29,Qe=30,Ge=31,tt=852,it=592,st=!0,lt,at;E.inflateReset=T,E.inflateReset2=O,E.inflateResetKeep=F,E.inflateInit=function(ut){return $(ut,15)},E.inflateInit2=$,E.inflate=function(ut,pt){var Dt=0,zt=new ne.Buf8(4),Xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ct,ht,mt,gt,yt,xt,bt,_t,kt,wt,Ct,jt,vt,St,Et,It,At,Ht,Rt,Pt,Ft,Tt,Ot,Mt;if(!ut||!ut.state||!ut.output||!ut.input&&0!==ut.avail_in)return xe;ct=ut.state,ct.mode===Fe&&(ct.mode=Te),yt=ut.next_out,mt=ut.output,bt=ut.avail_out,gt=ut.next_in,ht=ut.input,xt=ut.avail_in,_t=ct.hold,kt=ct.bits,wt=xt,Ct=bt,Tt=ge;inf_leave:for(;;)switch(ct.mode){case Ce:if(0===ct.wrap){ct.mode=Te;break}for(;16>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if(2&ct.wrap&&35615===_t){ct.check=0,zt[0]=255&_t,zt[1]=255&_t>>>8,ct.check=se(ct.check,zt,2,0),_t=0,kt=0,ct.mode=je;break}if(ct.flags=0,ct.head&&(ct.head.done=!1),!(1&ct.wrap)||(((255&_t)<<8)+(_t>>8))%31){ut.msg='incorrect header check',ct.mode=Qe;break}if((15&_t)!=we){ut.msg='unknown compression method',ct.mode=Qe;break}if(_t>>>=4,kt-=4,Ft=(15&_t)+8,0===ct.wbits)ct.wbits=Ft;else if(Ft>ct.wbits){ut.msg='invalid window size',ct.mode=Qe;break}ct.dmax=1<<Ft,ut.adler=ct.check=1,ct.mode=512&_t?Re:Fe,_t=0,kt=0;break;case je:for(;16>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if(ct.flags=_t,(255&ct.flags)!=we){ut.msg='unknown compression method',ct.mode=Qe;break}if(57344&ct.flags){ut.msg='unknown header flags set',ct.mode=Qe;break}ct.head&&(ct.head.text=1&_t>>8),512&ct.flags&&(zt[0]=255&_t,zt[1]=255&_t>>>8,ct.check=se(ct.check,zt,2,0)),_t=0,kt=0,ct.mode=ve;case ve:for(;32>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}ct.head&&(ct.head.time=_t),512&ct.flags&&(zt[0]=255&_t,zt[1]=255&_t>>>8,zt[2]=255&_t>>>16,zt[3]=255&_t>>>24,ct.check=se(ct.check,zt,4,0)),_t=0,kt=0,ct.mode=Se;case Se:for(;16>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}ct.head&&(ct.head.xflags=255&_t,ct.head.os=_t>>8),512&ct.flags&&(zt[0]=255&_t,zt[1]=255&_t>>>8,ct.check=se(ct.check,zt,2,0)),_t=0,kt=0,ct.mode=De;case De:if(1024&ct.flags){for(;16>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}ct.length=_t,ct.head&&(ct.head.extra_len=_t),512&ct.flags&&(zt[0]=255&_t,zt[1]=255&_t>>>8,ct.check=se(ct.check,zt,2,0)),_t=0,kt=0}else ct.head&&(ct.head.extra=null);ct.mode=Ee;case Ee:if(1024&ct.flags&&(jt=ct.length,jt>xt&&(jt=xt),jt&&(ct.head&&(Ft=ct.head.extra_len-ct.length,!ct.head.extra&&(ct.head.extra=Array(ct.head.extra_len)),ne.arraySet(ct.head.extra,ht,gt,jt,Ft)),512&ct.flags&&(ct.check=se(ct.check,ht,jt,gt)),xt-=jt,gt+=jt,ct.length-=jt),ct.length))break inf_leave;ct.length=0,ct.mode=Ie;case Ie:if(2048&ct.flags){if(0===xt)break inf_leave;jt=0;do Ft=ht[gt+jt++],ct.head&&Ft&&65536>ct.length&&(ct.head.name+=_StringfromCharCode(Ft));while(Ft&&jt<xt);if(512&ct.flags&&(ct.check=se(ct.check,ht,jt,gt)),xt-=jt,gt+=jt,Ft)break inf_leave}else ct.head&&(ct.head.name=null);ct.length=0,ct.mode=Ae;case Ae:if(4096&ct.flags){if(0===xt)break inf_leave;jt=0;do Ft=ht[gt+jt++],ct.head&&Ft&&65536>ct.length&&(ct.head.comment+=_StringfromCharCode(Ft));while(Ft&&jt<xt);if(512&ct.flags&&(ct.check=se(ct.check,ht,jt,gt)),xt-=jt,gt+=jt,Ft)break inf_leave}else ct.head&&(ct.head.comment=null);ct.mode=He;case He:if(512&ct.flags){for(;16>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if(_t!==(65535&ct.check)){ut.msg='header crc mismatch',ct.mode=Qe;break}_t=0,kt=0}ct.head&&(ct.head.hcrc=1&ct.flags>>9,ct.head.done=!0),ut.adler=ct.check=0,ct.mode=Fe;break;case Re:for(;32>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}ut.adler=ct.check=R(_t),_t=0,kt=0,ct.mode=Pe;case Pe:if(0===ct.havedict)return ut.next_out=yt,ut.avail_out=bt,ut.next_in=gt,ut.avail_in=xt,ct.hold=_t,ct.bits=kt,2;ut.adler=ct.check=1,ct.mode=Fe;case Fe:if(pt===5||pt===me)break inf_leave;case Te:if(ct.last){_t>>>=7&kt,kt-=7&kt,ct.mode=We;break}for(;3>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}switch(ct.last=1&_t,_t>>>=1,kt-=1,3&_t){case 0:ct.mode=ze;break;case 1:if(W(ct),ct.mode=Le,pt===me){_t>>>=2,kt-=2;break inf_leave}break;case 2:ct.mode=Xe;break;case 3:ut.msg='invalid block type',ct.mode=Qe;}_t>>>=2,kt-=2;break;case ze:for(_t>>>=7&kt,kt-=7&kt;32>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if((65535&_t)!=(65535^_t>>>16)){ut.msg='invalid stored block lengths',ct.mode=Qe;break}if(ct.length=65535&_t,_t=0,kt=0,ct.mode=Oe,pt===me)break inf_leave;case Oe:ct.mode=Me;case Me:if(jt=ct.length,jt){if(jt>xt&&(jt=xt),jt>bt&&(jt=bt),0===jt)break inf_leave;ne.arraySet(mt,ht,gt,jt,yt),xt-=jt,gt+=jt,bt-=jt,yt+=jt,ct.length-=jt;break}ct.mode=Fe;break;case Xe:for(;14>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if(ct.nlen=(31&_t)+257,_t>>>=5,kt-=5,ct.ndist=(31&_t)+1,_t>>>=5,kt-=5,ct.ncode=(15&_t)+4,_t>>>=4,kt-=4,286<ct.nlen||30<ct.ndist){ut.msg='too many length or distance symbols',ct.mode=Qe;break}ct.have=0,ct.mode=Ne;case Ne:for(;ct.have<ct.ncode;){for(;3>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}ct.lens[Xt[ct.have++]]=7&_t,_t>>>=3,kt-=3}for(;19>ct.have;)ct.lens[Xt[ct.have++]]=0;if(ct.lencode=ct.lendyn,ct.lenbits=7,Ot={bits:ct.lenbits},Tt=ae(0,ct.lens,0,19,ct.lencode,0,ct.work,Ot),ct.lenbits=Ot.bits,Tt){ut.msg='invalid code lengths set',ct.mode=Qe;break}ct.have=0,ct.mode=Ye;case Ye:for(;ct.have<ct.nlen+ct.ndist;){for(;;){if(Dt=ct.lencode[_t&(1<<ct.lenbits)-1],Et=Dt>>>24,It=255&Dt>>>16,At=65535&Dt,Et<=kt)break;if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if(16>At)_t>>>=Et,kt-=Et,ct.lens[ct.have++]=At;else{if(16===At){for(Mt=Et+2;kt<Mt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if(_t>>>=Et,kt-=Et,0===ct.have){ut.msg='invalid bit length repeat',ct.mode=Qe;break}Ft=ct.lens[ct.have-1],jt=3+(3&_t),_t>>>=2,kt-=2}else if(17===At){for(Mt=Et+3;kt<Mt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}_t>>>=Et,kt-=Et,Ft=0,jt=3+(7&_t),_t>>>=3,kt-=3}else{for(Mt=Et+7;kt<Mt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}_t>>>=Et,kt-=Et,Ft=0,jt=11+(127&_t),_t>>>=7,kt-=7}if(ct.have+jt>ct.nlen+ct.ndist){ut.msg='invalid bit length repeat',ct.mode=Qe;break}for(;jt--;)ct.lens[ct.have++]=Ft}}if(ct.mode===Qe)break;if(0===ct.lens[256]){ut.msg='invalid code -- missing end-of-block',ct.mode=Qe;break}if(ct.lenbits=9,Ot={bits:ct.lenbits},Tt=ae(ue,ct.lens,0,ct.nlen,ct.lencode,0,ct.work,Ot),ct.lenbits=Ot.bits,Tt){ut.msg='invalid literal/lengths set',ct.mode=Qe;break}if(ct.distbits=6,ct.distcode=ct.distdyn,Ot={bits:ct.distbits},Tt=ae(pe,ct.lens,ct.nlen,ct.ndist,ct.distcode,0,ct.work,Ot),ct.distbits=Ot.bits,Tt){ut.msg='invalid distances set',ct.mode=Qe;break}if(ct.mode=Le,pt===me)break inf_leave;case Le:ct.mode=Ue;case Ue:if(6<=xt&&258<=bt){ut.next_out=yt,ut.avail_out=bt,ut.next_in=gt,ut.avail_in=xt,ct.hold=_t,ct.bits=kt,le(ut,Ct),yt=ut.next_out,mt=ut.output,bt=ut.avail_out,gt=ut.next_in,ht=ut.input,xt=ut.avail_in,_t=ct.hold,kt=ct.bits,ct.mode===Fe&&(ct.back=-1);break}for(ct.back=0;;){if(Dt=ct.lencode[_t&(1<<ct.lenbits)-1],Et=Dt>>>24,It=255&Dt>>>16,At=65535&Dt,Et<=kt)break;if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if(It&&0==(240&It)){for(Ht=Et,Rt=It,Pt=At;;){if(Dt=ct.lencode[Pt+((_t&(1<<Ht+Rt)-1)>>Ht)],Et=Dt>>>24,It=255&Dt>>>16,At=65535&Dt,Ht+Et<=kt)break;if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}_t>>>=Ht,kt-=Ht,ct.back+=Ht}if(_t>>>=Et,kt-=Et,ct.back+=Et,ct.length=At,0===It){ct.mode=Ze;break}if(32&It){ct.back=-1,ct.mode=Fe;break}if(64&It){ut.msg='invalid literal/length code',ct.mode=Qe;break}ct.extra=15&It,ct.mode=Be;case Be:if(ct.extra){for(Mt=ct.extra;kt<Mt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}ct.length+=_t&(1<<ct.extra)-1,_t>>>=ct.extra,kt-=ct.extra,ct.back+=ct.extra}ct.was=ct.length,ct.mode=qe;case qe:for(;;){if(Dt=ct.distcode[_t&(1<<ct.distbits)-1],Et=Dt>>>24,It=255&Dt>>>16,At=65535&Dt,Et<=kt)break;if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if(0==(240&It)){for(Ht=Et,Rt=It,Pt=At;;){if(Dt=ct.distcode[Pt+((_t&(1<<Ht+Rt)-1)>>Ht)],Et=Dt>>>24,It=255&Dt>>>16,At=65535&Dt,Ht+Et<=kt)break;if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}_t>>>=Ht,kt-=Ht,ct.back+=Ht}if(_t>>>=Et,kt-=Et,ct.back+=Et,64&It){ut.msg='invalid distance code',ct.mode=Qe;break}ct.offset=At,ct.extra=15&It,ct.mode=Ve;case Ve:if(ct.extra){for(Mt=ct.extra;kt<Mt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}ct.offset+=_t&(1<<ct.extra)-1,_t>>>=ct.extra,kt-=ct.extra,ct.back+=ct.extra}if(ct.offset>ct.dmax){ut.msg='invalid distance too far back',ct.mode=Qe;break}ct.mode=$e;case $e:if(0===bt)break inf_leave;if(jt=Ct-bt,ct.offset>jt){if(jt=ct.offset-jt,jt>ct.whave&&ct.sane){ut.msg='invalid distance too far back',ct.mode=Qe;break}jt>ct.wnext?(jt-=ct.wnext,vt=ct.wsize-jt):vt=ct.wnext-jt,jt>ct.length&&(jt=ct.length),St=ct.window}else St=mt,vt=yt-ct.offset,jt=ct.length;jt>bt&&(jt=bt),bt-=jt,ct.length-=jt;do mt[yt++]=St[vt++];while(--jt);0===ct.length&&(ct.mode=Ue);break;case Ze:if(0===bt)break inf_leave;mt[yt++]=ct.length,bt--,ct.mode=Ue;break;case We:if(ct.wrap){for(;32>kt;){if(0===xt)break inf_leave;xt--,_t|=ht[gt++]<<kt,kt+=8}if(Ct-=bt,ut.total_out+=Ct,ct.total+=Ct,Ct&&(ut.adler=ct.check=ct.flags?se(ct.check,mt,Ct,yt-Ct):oe(ct.check,mt,Ct,yt-Ct)),Ct=bt,(ct.flags?_t:R(_t))!==ct.check){ut.msg='incorrect data check',ct.mode=Qe;break}_t=0,kt=0}ct.mode=Je;case Je:if(ct.wrap&&ct.flags){for(;32>kt;){if(0===xt)break inf_leave;xt--,_t+=ht[gt++]<<kt,kt+=8}if(_t!==(4294967295&ct.total)){ut.msg='incorrect length check',ct.mode=Qe;break}_t=0,kt=0}ct.mode=Ke;case Ke:Tt=1;break inf_leave;case Qe:Tt=be;break inf_leave;case Ge:return _e;case 32:default:return xe;}return(ut.next_out=yt,ut.avail_out=bt,ut.next_in=gt,ut.avail_in=xt,ct.hold=_t,ct.bits=kt,(ct.wsize||Ct!==ut.avail_out&&ct.mode<Qe&&(ct.mode<We||pt!==ce))&&K(ut,ut.output,ut.next_out,Ct-ut.avail_out))?(ct.mode=Ge,_e):(wt-=ut.avail_in,Ct-=ut.avail_out,ut.total_in+=wt,ut.total_out+=Ct,ct.total+=Ct,ct.wrap&&Ct&&(ut.adler=ct.check=ct.flags?se(ct.check,mt,Ct,ut.next_out-Ct):oe(ct.check,mt,Ct,ut.next_out-Ct)),ut.data_type=ct.bits+(ct.last?64:0)+(ct.mode===Fe?128:0)+(ct.mode===Le||ct.mode===Oe?256:0),(0===wt&&0===Ct||pt===ce)&&Tt===ge&&(Tt=-5),Tt)},E.inflateEnd=function(ut){if(!ut||!ut.state)return xe;var pt=ut.state;return pt.window&&(pt.window=null),ut.state=null,ge},E.inflateGetHeader=function(ut,pt){var ct;return ut&&ut.state?(ct=ut.state,0==(2&ct.wrap))?xe:(ct.head=pt,pt.done=!1,ge):xe},E.inflateSetDictionary=function(ut,pt){var ct=pt.length,ht,mt,gt;return ut&&ut.state?(ht=ut.state,0!==ht.wrap&&ht.mode!==Pe)?xe:ht.mode===Pe&&(mt=1,mt=oe(mt,pt,ct,0),mt!==ht.check)?be:(gt=K(ut,pt,ct,ct),gt)?(ht.mode=Ge,_e):(ht.havedict=1,ge):xe},E.inflateInfo='pako inflate (from Nodeca project)'},function(D,E,I){'use strict';var R=I(2),P=15,F=852,T=592,O=0,$=1,Z=2,W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],K=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],G=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];D.exports=function(te,ne,oe,se,le,ae,de,ue){var pe=ue.bits,ce=0,he=0,me=0,ge=0,fe=0,ye=0,xe=0,be=0,_e=0,ke=0,De=null,Ee=0,Ae=new R.Buf16(P+1),He=new R.Buf16(P+1),Re=null,Pe=0,we,Ce,je,ve,Se,Ie,Fe,Te,ze;for(ce=0;ce<=P;ce++)Ae[ce]=0;for(he=0;he<se;he++)Ae[ne[oe+he]]++;for(fe=pe,ge=P;1<=ge&&0===Ae[ge];ge--);if(fe>ge&&(fe=ge),0==ge)return le[ae++]=20971520,le[ae++]=20971520,ue.bits=1,0;for(me=1;me<ge&&0===Ae[me];me++);for(fe<me&&(fe=me),be=1,ce=1;ce<=P;ce++)if(be<<=1,be-=Ae[ce],0>be)return-1;if(0<be&&(te===O||1!=ge))return-1;for(He[1]=0,ce=1;ce<P;ce++)He[ce+1]=He[ce]+Ae[ce];for(he=0;he<se;he++)0!==ne[oe+he]&&(de[He[ne[oe+he]]++]=he);if(te===O?(De=Re=de,Ie=19):te===$?(De=W,Ee-=257,Re=K,Pe-=257,Ie=256):(De=Q,Re=G,Ie=-1),ke=0,he=0,ce=me,Se=ae,ye=fe,xe=0,je=-1,_e=1<<fe,ve=_e-1,te===$&&_e>F||te===Z&&_e>T)return 1;for(;;){Fe=ce-xe,de[he]<Ie?(Te=0,ze=de[he]):de[he]>Ie?(Te=Re[Pe+de[he]],ze=De[Ee+de[he]]):(Te=96,ze=0),we=1<<ce-xe,Ce=1<<ye,me=Ce;do Ce-=we,le[Se+(ke>>xe)+Ce]=0|(Fe<<24|Te<<16|ze);while(0!==Ce);for(we=1<<ce-1;ke&we;)we>>=1;if(0===we?ke=0:(ke&=we-1,ke+=we),he++,0==--Ae[ce]){if(ce==ge)break;ce=ne[oe+de[he]]}if(ce>fe&&(ke&ve)!==je){for(0==xe&&(xe=fe),Se+=me,ye=ce-xe,be=1<<ye;ye+xe<ge&&(be-=Ae[ye+xe],!(0>=be));)ye++,be<<=1;if(_e+=1<<ye,te===$&&_e>F||te===Z&&_e>T)return 1;je=ke&ve,le[je]=0|(fe<<24|ye<<16|Se-ae)}}return 0!==ke&&(le[Se+ke]=0|(4194304|ce-xe<<24)),ue.bits=fe,0}},function(D,E,I){'use strict';function R(ot){for(var st=ot.length;0<=--st;)ot[st]=0}function P(ot,st,lt,at,ut){this.static_tree=ot,this.extra_bits=st,this.extra_base=lt,this.elems=at,this.max_length=ut,this.has_stree=ot&&ot.length}function F(ot,st){this.dyn_tree=ot,this.max_code=0,this.stat_desc=st}function T(ot){return 256>ot?Je[ot]:Je[256+(ot>>>7)]}function O(ot,st){ot.pending_buf[ot.pending++]=255&st,ot.pending_buf[ot.pending++]=255&st>>>8}function $(ot,st,lt){ot.bi_valid>Oe-lt?(ot.bi_buf|=65535&st<<ot.bi_valid,O(ot,ot.bi_buf),ot.bi_buf=st>>Oe-ot.bi_valid,ot.bi_valid+=lt-Oe):(ot.bi_buf|=65535&st<<ot.bi_valid,ot.bi_valid+=lt)}function Z(ot,st,lt){$(ot,lt[2*st],lt[2*st+1])}function W(ot,st){var lt=0;do lt|=1&ot,ot>>>=1,lt<<=1;while(0<--st);return lt>>>1}function K(ot){16===ot.bi_valid?(O(ot,ot.bi_buf),ot.bi_buf=0,ot.bi_valid=0):8<=ot.bi_valid&&(ot.pending_buf[ot.pending++]=255&ot.bi_buf,ot.bi_buf>>=8,ot.bi_valid-=8)}function Q(ot,st){var lt=st.dyn_tree,at=st.max_code,ut=st.stat_desc.static_tree,pt=st.stat_desc.has_stree,ct=st.stat_desc.extra_bits,ht=st.stat_desc.extra_base,mt=st.stat_desc.max_length,gt,yt,xt,bt,_t,kt,wt=0;for(bt=0;bt<=ze;bt++)ot.bl_count[bt]=0;for(lt[2*ot.heap[ot.heap_max]+1]=0,gt=ot.heap_max+1;gt<Te;gt++)(yt=ot.heap[gt],bt=lt[2*lt[2*yt+1]+1]+1,bt>mt&&(bt=mt,wt++),lt[2*yt+1]=bt,!(yt>at))&&(ot.bl_count[bt]++,_t=0,yt>=ht&&(_t=ct[yt-ht]),kt=lt[2*yt],ot.opt_len+=kt*(bt+_t),pt&&(ot.static_len+=kt*(ut[2*yt+1]+_t)));if(0!=wt){do{for(bt=mt-1;0===ot.bl_count[bt];)bt--;ot.bl_count[bt]--,ot.bl_count[bt+1]+=2,ot.bl_count[mt]--,wt-=2}while(0<wt);for(bt=mt;0!==bt;bt--)for(yt=ot.bl_count[bt];0!==yt;)(xt=ot.heap[--gt],!(xt>at))&&(lt[2*xt+1]!==bt&&(ot.opt_len+=(bt-lt[2*xt+1])*lt[2*xt],lt[2*xt+1]=bt),yt--)}}function G(ot,st,lt){var at=Array(ze+1),ut=0,pt,ct;for(pt=1;pt<=ze;pt++)at[pt]=ut=ut+lt[pt-1]<<1;for(ct=0;ct<=st;ct++){var ht=ot[2*ct+1];0!==ht&&(ot[2*ct]=W(at[ht]++,ht))}}function ee(){var ot,st,lt,at,ut,pt=Array(ze+1);for(lt=0,at=0;at<Ae-1;at++)for(Qe[at]=lt,ot=0;ot<1<<Ue[at];ot++)Ke[lt++]=at;for(Ke[lt-1]=at,ut=0,at=0;16>at;at++)for(Ge[at]=ut,ot=0;ot<1<<Be[at];ot++)Je[ut++]=at;for(ut>>=7;at<Pe;at++)for(Ge[at]=ut<<7,ot=0;ot<1<<Be[at]-7;ot++)Je[256+ut++]=at;for(st=0;st<=ze;st++)pt[st]=0;for(ot=0;143>=ot;)Ze[2*ot+1]=8,ot++,pt[8]++;for(;255>=ot;)Ze[2*ot+1]=9,ot++,pt[9]++;for(;279>=ot;)Ze[2*ot+1]=7,ot++,pt[7]++;for(;287>=ot;)Ze[2*ot+1]=8,ot++,pt[8]++;for(G(Ze,Re+1,pt),ot=0;ot<Pe;ot++)We[2*ot+1]=5,We[2*ot]=W(ot,5);et=new P(Ze,Ue,He+1,Re,ze),tt=new P(We,Be,0,Pe,ze),it=new P([],qe,0,Fe,Me)}function te(ot){var st;for(st=0;st<Re;st++)ot.dyn_ltree[2*st]=0;for(st=0;st<Pe;st++)ot.dyn_dtree[2*st]=0;for(st=0;st<Fe;st++)ot.bl_tree[2*st]=0;ot.dyn_ltree[2*Xe]=1,ot.opt_len=ot.static_len=0,ot.last_lit=ot.matches=0}function ne(ot){8<ot.bi_valid?O(ot,ot.bi_buf):0<ot.bi_valid&&(ot.pending_buf[ot.pending++]=ot.bi_buf),ot.bi_buf=0,ot.bi_valid=0}function oe(ot,st,lt,at){ne(ot),at&&(O(ot,lt),O(ot,~lt)),_e.arraySet(ot.pending_buf,ot.window,st,lt,ot.pending),ot.pending+=lt}function se(ot,st,lt,at){var ut=2*st,pt=2*lt;return ot[ut]<ot[pt]||ot[ut]===ot[pt]&&at[st]<=at[lt]}function le(ot,st,lt){for(var at=ot.heap[lt],ut=lt<<1;ut<=ot.heap_len&&(ut<ot.heap_len&&se(st,ot.heap[ut+1],ot.heap[ut],ot.depth)&&ut++,!se(st,at,ot.heap[ut],ot.depth));)ot.heap[lt]=ot.heap[ut],lt=ut,ut<<=1;ot.heap[lt]=at}function ae(ot,st,lt){var at,ut,pt=0,ct,ht;if(0!==ot.last_lit)do at=ot.pending_buf[ot.d_buf+2*pt]<<8|ot.pending_buf[ot.d_buf+2*pt+1],ut=ot.pending_buf[ot.l_buf+pt],pt++,0===at?Z(ot,ut,st):(ct=Ke[ut],Z(ot,ct+He+1,st),ht=Ue[ct],0!==ht&&(ut-=Qe[ct],$(ot,ut,ht)),at--,ct=T(at),Z(ot,ct,lt),ht=Be[ct],0!==ht&&(at-=Ge[ct],$(ot,at,ht)));while(pt<ot.last_lit);Z(ot,Xe,st)}function de(ot,st){var lt=st.dyn_tree,at=st.stat_desc.static_tree,ut=st.stat_desc.has_stree,pt=st.stat_desc.elems,ct,ht,mt=-1,gt;for(ot.heap_len=0,ot.heap_max=Te,ct=0;ct<pt;ct++)0===lt[2*ct]?lt[2*ct+1]=0:(ot.heap[++ot.heap_len]=mt=ct,ot.depth[ct]=0);for(;2>ot.heap_len;)gt=ot.heap[++ot.heap_len]=2>mt?++mt:0,lt[2*gt]=1,ot.depth[gt]=0,ot.opt_len--,ut&&(ot.static_len-=at[2*gt+1]);for(st.max_code=mt,ct=ot.heap_len>>1;1<=ct;ct--)le(ot,lt,ct);gt=pt;do ct=ot.heap[1],ot.heap[1]=ot.heap[ot.heap_len--],le(ot,lt,1),ht=ot.heap[1],ot.heap[--ot.heap_max]=ct,ot.heap[--ot.heap_max]=ht,lt[2*gt]=lt[2*ct]+lt[2*ht],ot.depth[gt]=(ot.depth[ct]>=ot.depth[ht]?ot.depth[ct]:ot.depth[ht])+1,lt[2*ct+1]=lt[2*ht+1]=gt,ot.heap[1]=gt++,le(ot,lt,1);while(2<=ot.heap_len);ot.heap[--ot.heap_max]=ot.heap[1],Q(ot,st),G(lt,mt,ot.bl_count)}function ue(ot,st,lt){var at,ut=-1,pt,ct=st[1],ht=0,mt=7,gt=4;for(0===ct&&(mt=138,gt=3),st[2*(lt+1)+1]=65535,at=0;at<=lt;at++){if(pt=ct,ct=st[2*(at+1)+1],++ht<mt&&pt===ct)continue;else ht<gt?ot.bl_tree[2*pt]+=ht:0===pt?10>=ht?ot.bl_tree[2*Ye]++:ot.bl_tree[2*Le]++:(pt!==ut&&ot.bl_tree[2*pt]++,ot.bl_tree[2*Ne]++);ht=0,ut=pt,0===ct?(mt=138,gt=3):pt===ct?(mt=6,gt=3):(mt=7,gt=4)}}function pe(ot,st,lt){var at,ut=-1,pt,ct=st[1],ht=0,mt=7,gt=4;for(0===ct&&(mt=138,gt=3),at=0;at<=lt;at++){if(pt=ct,ct=st[2*(at+1)+1],++ht<mt&&pt===ct)continue;else if(ht<gt)do Z(ot,pt,ot.bl_tree);while(0!=--ht);else 0===pt?10>=ht?(Z(ot,Ye,ot.bl_tree),$(ot,ht-3,3)):(Z(ot,Le,ot.bl_tree),$(ot,ht-11,7)):(pt!==ut&&(Z(ot,pt,ot.bl_tree),ht--),Z(ot,Ne,ot.bl_tree),$(ot,ht-3,2));ht=0,ut=pt,0===ct?(mt=138,gt=3):pt===ct?(mt=6,gt=3):(mt=7,gt=4)}}function ce(ot){var st;for(ue(ot,ot.dyn_ltree,ot.l_desc.max_code),ue(ot,ot.dyn_dtree,ot.d_desc.max_code),de(ot,ot.bl_desc),st=Fe-1;3<=st&&0===ot.bl_tree[2*Ve[st]+1];st--);return ot.opt_len+=3*(st+1)+5+5+4,st}function he(ot,st,lt,at){var ut;for($(ot,st-257,5),$(ot,lt-1,5),$(ot,at-4,4),ut=0;ut<at;ut++)$(ot,ot.bl_tree[2*Ve[ut]+1],3);pe(ot,ot.dyn_ltree,st-1),pe(ot,ot.dyn_dtree,lt-1)}function me(ot){var st=4093624447,lt;for(lt=0;31>=lt;lt++,st>>>=1)if(1&st&&0!==ot.dyn_ltree[2*lt])return we;if(0!==ot.dyn_ltree[18]||0!==ot.dyn_ltree[20]||0!==ot.dyn_ltree[26])return Ce;for(lt=32;lt<He;lt++)if(0!==ot.dyn_ltree[2*lt])return Ce;return we}function fe(ot,st,lt,at){$(ot,(ve<<1)+(at?1:0),3),oe(ot,st,lt,!0)}var _e=I(2),we=0,Ce=1,ve=0,Se=1,Ae=29,He=256,Re=He+1+Ae,Pe=30,Fe=19,Te=2*Re+1,ze=15,Oe=16,Me=7,Xe=256,Ne=16,Ye=17,Le=18,Ue=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Be=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ze=Array(2*(Re+2));R(Ze);var We=Array(2*Pe);R(We);var Je=Array(512);R(Je);var Ke=Array(258-3+1);R(Ke);var Qe=Array(Ae);R(Qe);var Ge=Array(Pe);R(Ge);var et,tt,it,nt=!1;E._tr_init=function(ot){nt||(ee(),nt=!0),ot.l_desc=new F(ot.dyn_ltree,et),ot.d_desc=new F(ot.dyn_dtree,tt),ot.bl_desc=new F(ot.bl_tree,it),ot.bi_buf=0,ot.bi_valid=0,te(ot)},E._tr_stored_block=fe,E._tr_flush_block=function(ot,st,lt,at){var ut,pt,ct=0;0<ot.level?(ot.strm.data_type===2&&(ot.strm.data_type=me(ot)),de(ot,ot.l_desc),de(ot,ot.d_desc),ct=ce(ot),ut=ot.opt_len+3+7>>>3,pt=ot.static_len+3+7>>>3,pt<=ut&&(ut=pt)):ut=pt=lt+5,lt+4<=ut&&-1!==st?fe(ot,st,lt,at):ot.strategy===4||pt===ut?($(ot,(Se<<1)+(at?1:0),3),ae(ot,Ze,We)):($(ot,(2<<1)+(at?1:0),3),he(ot,ot.l_desc.max_code+1,ot.d_desc.max_code+1,ct+1),ae(ot,ot.dyn_ltree,ot.dyn_dtree)),te(ot),at&&ne(ot)},E._tr_tally=function(ot,st,lt){return ot.pending_buf[ot.d_buf+2*ot.last_lit]=255&st>>>8,ot.pending_buf[ot.d_buf+2*ot.last_lit+1]=255&st,ot.pending_buf[ot.l_buf+ot.last_lit]=255&lt,ot.last_lit++,0===st?ot.dyn_ltree[2*lt]++:(ot.matches++,st--,ot.dyn_ltree[2*(Ke[lt]+He+1)]++,ot.dyn_dtree[2*T(st)]++),ot.last_lit===ot.lit_bufsize-1},E._tr_align=function(ot){$(ot,Se<<1,3),Z(ot,Xe,Ze),K(ot)}},function(D){function I(){throw new Error('setTimeout has not been defined')}function R(){throw new Error('clearTimeout has not been defined')}function P(oe){if(K===setTimeout)return setTimeout(oe,0);if((K===I||!K)&&setTimeout)return K=setTimeout,setTimeout(oe,0);try{return K(oe,0)}catch(se){try{return K.call(null,oe,0)}catch(le){return K.call(this,oe,0)}}}function F(oe){if(Q===clearTimeout)return clearTimeout(oe);if((Q===R||!Q)&&clearTimeout)return Q=clearTimeout,clearTimeout(oe);try{return Q(oe)}catch(se){try{return Q.call(null,oe)}catch(le){return Q.call(this,oe)}}}function T(){ee&&te&&(ee=!1,te.length?G=te.concat(G):ne=-1,G.length&&O())}function O(){if(!ee){var oe=P(T);ee=!0;for(var se=G.length;se;){for(te=G,G=[];++ne<se;)te&&te[ne].run();ne=-1,se=G.length}te=null,ee=!1,F(oe)}}function $(oe,se){this.fun=oe,this.array=se}function Z(){}var W=D.exports={},K,Q;(function(){try{K='function'==typeof setTimeout?setTimeout:I}catch(oe){K=I}try{Q='function'==typeof clearTimeout?clearTimeout:R}catch(oe){Q=R}})();var G=[],ee=!1,te,ne=-1;W.nextTick=function(oe){var se=Array(arguments.length-1);if(1<arguments.length)for(var le=1;le<arguments.length;le++)se[le-1]=arguments[le];G.push(new $(oe,se)),1!==G.length||ee||P(O)},$.prototype.run=function(){this.fun.apply(null,this.array)},W.title='browser',W.browser=!0,W.env={},W.argv=[],W.version='',W.versions={},W.on=Z,W.addListener=Z,W.once=Z,W.off=Z,W.removeListener=Z,W.removeAllListeners=Z,W.emit=Z,W.prependListener=Z,W.prependOnceListener=Z,W.listeners=function(){return[]},W.binding=function(){throw new Error('process.binding is not supported')},W.cwd=function(){return'/'},W.chdir=function(){throw new Error('process.chdir is not supported')},W.umask=function(){return 0}},function(D){D.exports='function'==typeof Object.create?function(R,P){R.super_=P,R.prototype=Object.create(P.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}})}:function(R,P){R.super_=P;var F=function(){};F.prototype=P.prototype,R.prototype=new F,R.prototype.constructor=R}},function(D){D.exports=function(R){return R&&'object'==typeof R&&'function'==typeof R.copy&&'function'==typeof R.fill&&'function'==typeof R.readUInt8}},function(D,E,I){(function(R,P){function F(ve,Se){var De={seen:[],stylize:O};return 3<=arguments.length&&(De.depth=arguments[2]),4<=arguments.length&&(De.colors=arguments[3]),ne(Se)?De.showHidden=Se:Se&&E._extend(De,Se),ue(De.showHidden)&&(De.showHidden=!1),ue(De.depth)&&(De.depth=2),ue(De.colors)&&(De.colors=!1),ue(De.customInspect)&&(De.customInspect=!0),De.colors&&(De.stylize=T),Z(De,ve,De.depth)}function T(ve,Se){var De=F.styles[Se];return De?'\x1B['+F.colors[De][0]+'m'+ve+'\x1B['+F.colors[De][1]+'m':ve}function O(ve){return ve}function $(ve){var Se={};return ve.forEach(function(De){Se[De]=!0}),Se}function Z(ve,Se,De){if(ve.customInspect&&Se&&ge(Se.inspect)&&Se.inspect!==E.inspect&&!(Se.constructor&&Se.constructor.prototype===Se)){var Ee=Se.inspect(De,ve);return ae(Ee)||(Ee=Z(ve,Ee,De)),Ee}var Ie=W(ve,Se);if(Ie)return Ie;var Ae=Object.keys(Se),He=$(Ae);if(ve.showHidden&&(Ae=Object.getOwnPropertyNames(Se)),me(Se)&&(0<=Ae.indexOf('message')||0<=Ae.indexOf('description')))return K(Se);if(0===Ae.length){if(ge(Se)){var Re=Se.name?': '+Se.name:'';return ve.stylize('[Function'+Re+']','special')}if(pe(Se))return ve.stylize(RegExp.prototype.toString.call(Se),'regexp');if(he(Se))return ve.stylize(Date.prototype.toString.call(Se),'date');if(me(Se))return K(Se)}var Pe='',Fe=!1,Te=['{','}'];if(te(Se)&&(Fe=!0,Te=['[',']']),ge(Se)){var ze=Se.name?': '+Se.name:'';Pe=' [Function'+ze+']'}if(pe(Se)&&(Pe=' '+RegExp.prototype.toString.call(Se)),he(Se)&&(Pe=' '+Date.prototype.toUTCString.call(Se)),me(Se)&&(Pe=' '+K(Se)),0===Ae.length&&(!Fe||0==Se.length))return Te[0]+Pe+Te[1];if(0>De)return pe(Se)?ve.stylize(RegExp.prototype.toString.call(Se),'regexp'):ve.stylize('[Object]','special');ve.seen.push(Se);var Oe;return Oe=Fe?Q(ve,Se,De,He,Ae):Ae.map(function(Me){return G(ve,Se,De,He,Me,Fe)}),ve.seen.pop(),ee(Oe,Pe,Te)}function W(ve,Se){if(ue(Se))return ve.stylize('undefined','undefined');if(ae(Se)){var De='\''+JSON.stringify(Se).replace(/^"|"$/g,'').replace(/'/g,'\\\'').replace(/\\"/g,'"')+'\'';return ve.stylize(De,'string')}return le(Se)?ve.stylize(''+Se,'number'):ne(Se)?ve.stylize(''+Se,'boolean'):oe(Se)?ve.stylize('null','null'):void 0}function K(ve){return'['+Error.prototype.toString.call(ve)+']'}function Q(ve,Se,De,Ee,Ie){for(var Ae=[],He=0,Re=Se.length;He<Re;++He)_e(Se,He+'')?Ae.push(G(ve,Se,De,Ee,He+'',!0)):Ae.push('');return Ie.forEach(function(Pe){Pe.match(/^\d+$/)||Ae.push(G(ve,Se,De,Ee,Pe,!0))}),Ae}function G(ve,Se,De,Ee,Ie,Ae){var He,Re,Pe;if(Pe=Object.getOwnPropertyDescriptor(Se,Ie)||{value:Se[Ie]},Pe.get?Pe.set?Re=ve.stylize('[Getter/Setter]','special'):Re=ve.stylize('[Getter]','special'):Pe.set&&(Re=ve.stylize('[Setter]','special')),_e(Ee,Ie)||(He='['+Ie+']'),Re||(0>ve.seen.indexOf(Pe.value)?(Re=oe(De)?Z(ve,Pe.value,null):Z(ve,Pe.value,De-1),-1<Re.indexOf('\n')&&(Ae?Re=Re.split('\n').map(function(Fe){return'  '+Fe}).join('\n').substr(2):Re='\n'+Re.split('\n').map(function(Fe){return'   '+Fe}).join('\n'))):Re=ve.stylize('[Circular]','special')),ue(He)){if(Ae&&Ie.match(/^\d+$/))return Re;He=JSON.stringify(''+Ie),He.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(He=He.substr(1,He.length-2),He=ve.stylize(He,'name')):(He=He.replace(/'/g,'\\\'').replace(/\\"/g,'"').replace(/(^"|"$)/g,'\''),He=ve.stylize(He,'string'))}return He+': '+Re}function ee(ve,Se,De){var Ee=0,Ie=ve.reduce(function(Ae,He){return Ee++,0<=He.indexOf('\n')&&Ee++,Ae+He.replace(/\u001b\[\d\d?m/g,'').length+1},0);return 60<Ie?De[0]+(''===Se?'':Se+'\n ')+' '+ve.join(',\n  ')+' '+De[1]:De[0]+Se+' '+ve.join(', ')+' '+De[1]}function te(ve){return Array.isArray(ve)}function ne(ve){return'boolean'==typeof ve}function oe(ve){return null===ve}function le(ve){return'number'==typeof ve}function ae(ve){return'string'==typeof ve}function ue(ve){return void 0===ve}function pe(ve){return ce(ve)&&'[object RegExp]'===ye(ve)}function ce(ve){return'object'==typeof ve&&null!==ve}function he(ve){return ce(ve)&&'[object Date]'===ye(ve)}function me(ve){return ce(ve)&&('[object Error]'===ye(ve)||ve instanceof Error)}function ge(ve){return'function'==typeof ve}function ye(ve){return Object.prototype.toString.call(ve)}function xe(ve){return 10>ve?'0'+ve.toString(10):ve.toString(10)}function be(){var ve=new Date,Se=[xe(ve.getHours()),xe(ve.getMinutes()),xe(ve.getSeconds())].join(':');return[ve.getDate(),je[ve.getMonth()],Se].join(' ')}function _e(ve,Se){return Object.prototype.hasOwnProperty.call(ve,Se)}var ke=/%[sdj%]/g;E.format=function(ve){if(!ae(ve)){for(var Se=[],De=0;De<arguments.length;De++)Se.push(F(arguments[De]));return Se.join(' ')}for(var De=1,Ee=arguments,Ie=Ee.length,Ae=(ve+'').replace(ke,function(Re){if('%%'===Re)return'%';if(De>=Ie)return Re;switch(Re){case'%s':return Ee[De++]+'';case'%d':return+Ee[De++];case'%j':try{return JSON.stringify(Ee[De++])}catch(Pe){return'[Circular]'}default:return Re;}}),He=Ee[De];De<Ie;He=Ee[++De])Ae+=oe(He)||!ce(He)?' '+He:' '+F(He);return Ae},E.deprecate=function(ve,Se){if(ue(R.process))return function(){return E.deprecate(ve,Se).apply(this,arguments)};if(!0===P.noDeprecation)return ve;var Ee=!1;return function(){if(!Ee){if(P.throwDeprecation)throw new Error(Se);else P.traceDeprecation?console.trace(Se):console.error(Se);Ee=!0}return ve.apply(this,arguments)}};var we={},Ce;E.debuglog=function(ve){if(ue(Ce)&&(Ce=P.env.NODE_DEBUG||''),ve=ve.toUpperCase(),!we[ve])if(new RegExp('\\b'+ve+'\\b','i').test(Ce)){var Se=P.pid;we[ve]=function(){var De=E.format.apply(E,arguments);console.error('%s %d: %s',ve,Se,De)}}else we[ve]=function(){};return we[ve]},E.inspect=F,F.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},F.styles={special:'cyan',number:'yellow',boolean:'yellow',undefined:'grey','null':'bold',string:'green',date:'magenta',regexp:'red'},E.isArray=te,E.isBoolean=ne,E.isNull=oe,E.isNullOrUndefined=function(ve){return null==ve},E.isNumber=le,E.isString=ae,E.isSymbol=function(ve){return'symbol'==typeof ve},E.isUndefined=ue,E.isRegExp=pe,E.isObject=ce,E.isDate=he,E.isError=me,E.isFunction=ge,E.isPrimitive=function(ve){return null===ve||'boolean'==typeof ve||'number'==typeof ve||'string'==typeof ve||'symbol'==typeof ve||'undefined'==typeof ve},E.isBuffer=I(156);var je=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];E.log=function(){console.log('%s - %s',be(),E.format.apply(E,arguments))},E.inherits=I(155),E._extend=function(ve,Se){if(!Se||!ce(Se))return ve;for(var De=Object.keys(Se),Ee=De.length;Ee--;)ve[De[Ee]]=Se[De[Ee]];return ve}}).call(E,I(60),I(154))},function(D){D.exports={name:'spectra-data',version:'3.1.0',description:'spectra-data project - manipulate spectra',keywords:['spectra-data','project'],author:'Andres Castillo',contributors:['Micha\xEBl Zasso','Luc Patiny'],repository:'cheminfo-js/spectra-data',bugs:{url:'https://github.com/cheminfo-js/spectra-data/issues'},homepage:'https://github.com/cheminfo-js/spectra-data',license:'MIT',main:'./src/index.js',scripts:{eslint:'eslint src test --cache','eslint-fix':'npm run eslint -- --fix',test:'npm run test-mocha && npm run eslint','test-mocha':'mocha --require should --reporter mocha-better-spec-reporter --recursive src/**/__tests__/**/*.js',build:'cheminfo build'},devDependencies:{'cheminfo-tools':'^1.13.0',eslint:'^3.9.1','eslint-config-cheminfo':'^1.5.2','eslint-plugin-no-only-tests':'^1.1.0',mocha:'^3.1.2','mocha-better-spec-reporter':'^3.0.1','nmr-predictor':'https://github.com/cheminfo-js/nmr-predictor/',should:'^11.1.1'},dependencies:{'babel-core':'^6.24.1','babel-loader':'^7.0.0',brukerconverter:'^1.0.1',jcampconverter:'^2.4.5','ml-array-utils':'^0.3.0','ml-curve-fitting':'0.0.7','ml-fft':'^1.3.5','ml-gsd':'^2.0.1','ml-matrix-peaks-finder':'^0.2.1','ml-simple-clustering':'0.1.0','ml-stat':'^1.3.0','nmr-simulation':'^1.0.0'}}}])});
//# sourceMappingURL=spectra-data.min.js.map