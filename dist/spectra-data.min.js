// spectra-data@v1.0.3, MIT licensed. https://github.com/cheminfo-js/spectra-data
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof global?i=global:"undefined"!=typeof self&&(i=self),i.spectraData=t()}}(function(){return function t(i,n,o){function e(r,l){if(!n[r]){if(!i[r]){var p="function"==typeof require&&require;if(!l&&p)return p(r,!0);if(s)return s(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var u=n[r]={exports:{}};i[r][0].call(u.exports,function(t){var n=i[r][1][t];return e(n?n:t)},u,u.exports,t,i,n,o)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)e(o[r]);return e}({1:[function(t,i,n){"use strict";n.SD=t("./SD"),n.NMR=t("./NMR"),n.NMR2D=t("./NMR2D"),n.ACS=t("./AcsParser")},{"./AcsParser":4,"./NMR":6,"./NMR2D":7,"./SD":11}],2:[function(t,i){"use strict";function n(){function t(t){for(var i=t.length,n=new Array(i),o=0;i>o;o++)n[o]=parseFloat(t[o]);return n}function i(i,p){p=p||{};var u=/^[A-Z]+$/;p.keepRecordsRegExp&&(u=p.keepRecordsRegExp);var c,h,f,m,g,y,C,H,d,v=new Date,b={},X={};X.profiling=[],X.logs=[];var M=[];X.spectra=M,X.info={};var A={};if("string"!=typeof i)return X;for(X.profiling&&X.profiling.push({action:"Before split to LDRS",time:new Date-v}),m=i.split(/[\r\n]+##/),X.profiling&&X.profiling.push({action:"Split to LDRS",time:new Date-v}),m[0]&&(m[0]=m[0].replace(/^[\r\n ]*##/,"")),g=0,y=m.length;y>g;g++){if(c=m[g],C=c.indexOf("="),C>0?(h=c.substring(0,C),f=c.substring(C+1).trim()):(h=c,f=""),h=h.replace(/[_ -]/g,"").toUpperCase(),"DATATABLE"==h&&(H=f.indexOf("\n"),-1==H&&(H=f.indexOf("\r")),H>0)){var x=-1,S=-1;if(d=f.substring(0,H).split(/[ ,;\t]+/),d[0].indexOf("++")>0){var D=d[0].replace(/.*\(([a-zA-Z0-9]+)\+\+.*/,"$1"),Y=d[0].replace(/.*\.\.([a-zA-Z0-9]+).*/,"$1");x=b.symbol.indexOf(D),S=b.symbol.indexOf(Y)}-1==x&&(x=0),-1==S&&(S=0),b.first&&(b.first.length>x&&(A.firstX=b.first[x]),b.first.length>S&&(A.firstY=b.first[S])),b.last&&(b.last.length>x&&(A.lastX=b.last[x]),b.last.length>S&&(A.lastY=b.last[S])),b.vardim&&b.vardim.length>x&&(A.nbPoints=b.vardim[x]),b.factor&&(b.factor.length>x&&(A.xFactor=b.factor[x]),b.factor.length>S&&(A.yFactor=b.factor[S])),b.units&&(b.units.length>x&&(A.xUnit=b.units[x]),b.units.length>S&&(A.yUnit=b.units[S])),A.datatable=d[0],d[1]&&d[1].indexOf("PEAKS")>-1?h="PEAKTABLE":d[1]&&(d[1].indexOf("XYDATA")||d[0].indexOf("++")>0)&&(h="XYDATA",A.deltaX=(A.lastX-A.firstX)/(A.nbPoints-1))}if("TITLE"==h)A.title=f;else if("DATATYPE"==h)A.dataType=f,f.indexOf("nD")>-1&&(X.twoD=!0);else if("XUNITS"==h)A.xUnit=f;else if("YUNITS"==h)A.yUnit=f;else if("FIRSTX"==h)A.firstX=parseFloat(f);else if("LASTX"==h)A.lastX=parseFloat(f);else if("FIRSTY"==h)A.firstY=parseFloat(f);else if("NPOINTS"==h)A.nbPoints=parseFloat(f);else if("XFACTOR"==h)A.xFactor=parseFloat(f);else if("YFACTOR"==h)A.yFactor=parseFloat(f);else if("DELTAX"==h)A.deltaX=parseFloat(f);else if(".OBSERVEFREQUENCY"==h||"$SFO1"==h)A.observeFrequency||(A.observeFrequency=parseFloat(f));else if(".OBSERVENUCLEUS"==h)A.xType||(X.xType=f.replace(/[^a-zA-Z0-9]/g,""));else if("$SFO2"==h)X.indirectFrequency||(X.indirectFrequency=parseFloat(f));else if("$OFFSET"==h)X.shiftOffsetNum=0,X.shiftOffsetVal||(X.shiftOffsetVal=parseFloat(f));else if("$REFERENCEPOINT"==h);else if("VARNAME"==h)b.varname=f.split(/[, \t]+/);else if("SYMBOL"==h)b.symbol=f.split(/[, \t]+/);else if("VARTYPE"==h)b.vartype=f.split(/[, \t]+/);else if("VARFORM"==h)b.varform=f.split(/[, \t]+/);else if("VARDIM"==h)b.vardim=t(f.split(/[, \t]+/));else if("UNITS"==h)b.units=f.split(/[, \t]+/);else if("FACTOR"==h)b.factor=t(f.split(/[, \t]+/));else if("FIRST"==h)b.first=t(f.split(/[, \t]+/));else if("LAST"==h)b.last=t(f.split(/[, \t]+/));else if("MIN"==h)b.min=t(f.split(/[, \t]+/));else if("MAX"==h)b.max=t(f.split(/[, \t]+/));else if(".NUCLEUS"==h)X.twoD&&(X.yType=f.split(/[, \t]+/)[0]);else if("PAGE"==h){A.page=f.trim(),A.pageValue=parseFloat(f.replace(/^.*=/,"")),A.pageSymbol=A.page.replace(/=.*/,"");var F=b.symbol.indexOf(A.pageSymbol),_="";b.units&&b.units[F]&&(_=b.units[F]),X.indirectFrequency&&"PPM"!=_&&(A.pageValue/=X.indirectFrequency)}else"RETENTIONTIME"==h?A.pageValue=parseFloat(f):"XYDATA"==h?(s(X,A),f.match(/.*\+\+.*/)?l(A,f,X):r(A,f,X),M.push(A),A={}):"PEAKTABLE"==h?(s(X,A),r(A,f,X),M.push(A),A={}):o(h)?A[n(h)]=f:h.match(u)&&(X.info[h]=f.trim())}if(X.profiling&&X.profiling.push({action:"Finished parsing",time:new Date-v}),X.twoD&&(a(X),X.profiling&&X.profiling.push({action:"Finished countour plot calculation",time:new Date-v}),p.keepSpectra||delete X.spectra),M.length>1&&M[0].dataType.toLowerCase().match(/.*mass./)&&(e(X),X.profiling&&X.profiling.push({action:"Finished GCMS calculation",time:new Date-v})),p.xy&&M.length>0)for(var g=0;g<M.length;g++){var A=M[g];if(A.data.length>0)for(var P=0;P<A.data.length;P++){for(var O=A.data[P],N={x:Array(O.length/2),y:Array(O.length/2)},T=0;T<O.length;T+=2)N.x[T/2]=O[T],N.y[T/2]=O[T+1];A.data[P]=N}}return X.profiling&&X.profiling.push({action:"Total time",time:new Date-v}),X}function n(t){return t.toLowerCase().replace(/[^a-z0-9]/g,"")}function o(t){for(var i=0;i<g.length;i++)if(t==g[i])return!0;return!1}function e(t){var i,o=t.spectra,e=[];for(i=0;i<g.length;i++){var s=n(g[i]);o[0][s]&&e.push(s)}var r={};for(r.gc={},r.ms=[],i=0;i<e.length;i++)r.gc[e[i]]=[];for(i=0;i<o.length;i++){for(var l=o[i],p=0;p<e.length;p++)r.gc[e[p]].push(l.pageValue),r.gc[e[p]].push(parseFloat(l[e[p]]));l.data&&(r.ms[i]=l.data[0])}t.gcms=r}function s(t,i){if(i.xFactor||(i.xFactor=1),i.yFactor||(i.yFactor=1),i.observeFrequency&&i.xUnit&&"HZ"==i.xUnit.toUpperCase()&&(i.xUnit="PPM",i.xFactor=i.xFactor/i.observeFrequency,i.firstX=i.firstX/i.observeFrequency,i.lastX=i.lastX/i.observeFrequency,i.deltaX=i.deltaX/i.observeFrequency),t.shiftOffsetVal){var n=i.firstX-t.shiftOffsetVal;i.firstX=i.firstX-n,i.lastX=i.lastX-n}}function r(t,i,n){t.isPeaktable=!0;var o,e,s,r,l,p=[];t.data=[p];var a=i.split(/,? *,?[;\r\n]+ */),u=0;for(o=1,e=a.length;e>o;o++)if(l=a[o].trim().replace(h,"").split(f),l.length%2==0)for(s=0,r=l.length;r>s;s+=2)p[u++]=parseFloat(l[s])*t.xFactor,p[u++]=parseFloat(l[s+1])*t.yFactor;else n.logs.push("Format error: "+l)}function l(t,i,n){t.deltaX||(t.deltaX=(t.lastX-t.firstX)/(t.nbPoints-1)),t.isXYdata=!0;var o=[];t.data=[o];var e,s,r,l=t.firstX,p=t.firstY,a=i.split(/[\r\n]+/);s=[];for(var u=1,f=a.length;f>u;u++)if(s=a[u].trim().replace(h,"").split(c),s.length>0){if(m){t.firstPoint||(t.firstPoint=parseFloat(s[0]));var g=parseFloat(s[0]-t.firstPoint)*t.xFactor+t.firstX;(e||0==e)&&(g+=t.deltaX),n.logs.push("Checking X value: currentX: "+l+" - expectedCurrentX: "+g)}for(var y=1,C=s.length;C>y;y++)if(1!=y||!e&&0!=e){if(s[y].length>0)if(r=s[y].charCodeAt(0),43==r||45==r||46==r||r>47&&58>r)e=null,p=parseFloat(s[y]),o.push(l,p*t.yFactor),l+=t.deltaX;else if(r>63&&74>r)e=null,p=parseFloat(String.fromCharCode(r-16)+s[y].substring(1)),o.push(l,p*t.yFactor),l+=t.deltaX;else if(r>96&&106>r)e=null,p=-parseFloat(String.fromCharCode(r-48)+s[y].substring(1)),o.push(l,p*t.yFactor),l+=t.deltaX;else if(r>82&&91>r||115==r){var H=parseFloat(String.fromCharCode(r-34)+s[y].substring(1))-1;115==r&&(H=parseFloat("9"+s[y].substring(1))-1);for(var d=0;H>d;d++)e&&(p+=e),o.push(l,p*t.yFactor),l+=t.deltaX}else 37==r?(e=parseFloat("0"+s[y].substring(1)),p+=e,o.push(l,p*t.yFactor),l+=t.deltaX):r>73&&83>r?(e=parseFloat(String.fromCharCode(r-25)+s[y].substring(1)),p+=e,o.push(l,p*t.yFactor),l+=t.deltaX):r>105&&115>r&&(e=-parseFloat(String.fromCharCode(r-57)+s[y].substring(1)),p+=e,o.push(l,p*t.yFactor),l+=t.deltaX)}else e=null,r=s[y].charCodeAt(0)}}function p(t){for(var i=0,n=t[0].data[0][0],o=n,e=t.length,s=t[0].data[0].length/2,r=new Array(e),l=0;e>l;l++){r[l]=new Array(s);for(var p=0;s>p;p++)r[l][p]=t[l].data[0][2*p+1],r[l][p]<n&&(n=t[l].data[0][2*p+1]),r[l][p]>o&&(o=t[l].data[0][2*p+1]),0!=l&&0!=p&&(i+=Math.abs(r[l][p]-r[l][p-1])+Math.abs(r[l][p]-r[l-1][p]))}return{z:r,minX:t[0].data[0][0],maxX:t[0].data[0][t[0].data[0].length-2],minY:t[0].pageValue,maxY:t[e-1].pageValue,minZ:n,maxZ:o,noise:i/((e-1)*(s-1)*2)}}function a(t){var i=p(t.spectra);t.contourLines=u(i),delete i.z,t.minMax=i}function u(t){for(var i,n,o,e,s,r=t.noise,l=t.z,p=[],a=7,u=new Float32Array(4),c=[],h=l.length,f=l[0].length,m=t.minX,g=t.maxX,y=(g-m)/(f-1),C=t.minY,H=t.maxY,d=(H-C)/(h-1),v=t.minZ,b=t.maxZ,X=0;2*a>X;X++){var M={};p.push(M);var A=X%2;s=0==A?(b-5*r)*Math.exp(X/2-a)+5*r:-(b-5*r)*Math.exp(X/2-a)-5*r;var x=[];if(M.zValue=s,M.lines=x,!(v>=s||s>=b))for(var S=0;h-1>S;S++)for(var D=0;f-1>D;D++){u[0]=l[S][D],u[1]=l[S][D+1],u[2]=l[S+1][D],u[3]=l[S+1][D+1];for(var Y=0;4>Y;Y++)c[Y]=u[Y]>s;c[0]!=c[1]&&c[0]!=c[2]&&(i=D+(s-u[0])/(u[1]-u[0]),n=S,o=D,e=S+(s-u[0])/(u[2]-u[0]),x.push(i*y+m,n*d+C,o*y+m,e*d+C)),c[3]!=c[1]&&c[3]!=c[2]&&(i=D+1,n=S+1-(s-u[3])/(u[1]-u[3]),o=D+1-(s-u[3])/(u[2]-u[3]),e=S+1,x.push(i*y+m,n*d+C,o*y+m,e*d+C)),c[1]!=c[2]&&(i=D+1-(s-u[1])/(u[2]-u[1]),n=S+(s-u[1])/(u[2]-u[1]),c[1]!=c[0]&&(o=D+1-(s-u[1])/(u[0]-u[1]),e=S,x.push(i*y+m,n*d+C,o*y+m,e*d+C)),c[2]!=c[0]&&(o=D,e=S+1-(s-u[2])/(u[0]-u[2]),x.push(i*y+m,n*d+C,o*y+m,e*d+C)),c[1]!=c[3]&&(o=D+1,e=S+(s-u[1])/(u[3]-u[1]),x.push(i*y+m,n*d+C,o*y+m,e*d+C)),c[2]!=c[3]&&(o=D+(s-u[2])/(u[3]-u[2]),e=S+1,x.push(i*y+m,n*d+C,o*y+m,e*d+C)))}}return{minX:t.minX,maxX:t.maxX,minY:t.minY,maxY:t.maxY,segments:p}}var c=/[,\t \+-]*(?=[^\d,\t \.])|[ \t]+(?=[\d+\.-])/,h=/\$\$.*/,f=/[,\t ]+/,m=!1,g=["TIC",".RIC","SCANNUMBER"];return i}function o(t,i,n){return"boolean"==typeof i&&(n=i,i={}),n?e(t,i):l(t,i)}function e(t,i){return r||s(),new Promise(function(n){var o=Date.now()+""+Math.random();p[o]=n,r.postMessage({stamp:o,input:t,options:i})})}function s(){var t=URL.createObjectURL(new Blob(["var getConverter ="+n.toString()+";var convert = getConverter(); onmessage = function (event) { postMessage({stamp: event.data.stamp, output: convert(event.data.input, event.data.options)}); };"],{type:"application/javascript"}));r=new Worker(t),URL.revokeObjectURL(t),r.addEventListener("message",function(t){var i=t.data.stamp;p[i]&&p[i](t.data.output)})}var r,l=n(),p={};i.exports={convert:o}},{}],3:[function(t,i){"use strict";function n(t){for(var i=-1/0,n=t.length,o=0;n>o;o++)t[o]>i&&(i=t[o]);return i}function o(t){for(var i=1/0,n=t.length,o=0;n>o;o++)t[o]<i&&(i=t[o]);return i}function e(t){for(var i=1/0,n=-1/0,o=t.length,e=0;o>e;e++)t[e]<i&&(i=t[e]),t[e]>n&&(n=t[e]);return{min:i,max:n}}function s(t){for(var i=0,n=t.length,o=0;n>o;o++)i+=t[o];return i/n}function r(t){for(var i=0,n=t.length,o=0;n>o;o++)i*=t[o];return Math.pow(i,1/n)}function l(t){for(var i=0,n=t.length,o=0;n>o;o++)i+=Math.log(t[o]);return i/n}function p(t,i){for(var n=0,o=0,e=t.length,s=0;e>s;s++)n+=i[s]*t[s],o+=i[s];return n/o}function a(t,i,n){"undefined"==typeof n&&(n=!1),t=n?t:t.slice(),t.sort();for(var o=t.length,e=Math.floor(o*i),s=0,r=e;o-e>r;r++)s+=t[r];return s/(o-2*e)}function u(t,i){"undefined"==typeof i&&(i=1);for(var n=0,o=0,e=t.length,s=0;e>s;s++)n+=Math.pow(t[s],i+1),o+=Math.pow(t[s],i);return n/o}function c(t,i){return Math.sqrt(g(t,i))}function h(t){return c(t)/Math.sqrt(t.length)}function f(t,i){"undefined"==typeof i&&(i=!1),i||(t=t.slice(),t.sort());var n=t.length,o=Math.floor(n/2);return n%2===0?.5*(t[o-1]+t[o]):t[o]}function m(t,i){"undefined"==typeof i&&(i=!1),i||(t=t.slice(),t.sort());var n=t.length/4,o=t[Math.ceil(n)-1],e=f(t,!0),s=t[Math.ceil(3*n)-1];return{q1:o,q2:e,q3:s}}function g(t,i){"undefined"==typeof i&&(i=!0);for(var n=s(t),o=0,e=t.length,r=0;e>r;r++){var l=t[r]-n;o+=l*l}return i?o/(e-1):o/e}function y(t,i){return Math.sqrt(C(t,i))}function C(t,i){"undefined"==typeof i&&(i=!0);for(var n=0,o=0,e=t.length,s=0;e>s;s++){var r=t[s],l=g(r);n+=(r.length-1)*l,o+=i?r.length-1:r.length}return n/o}function H(t){var i,n=t.length,o=new Array(n);for(i=0;n>i;i++)o[i]=0;var e=new Array(n),s=0;for(i=0;n>i;i++){var r=e.indexOf(t[i]);r>=0?o[r]++:(e[s]=t[i],o[s]=1,s++)}var l=0,p=0;for(i=0;s>i;i++)o[i]>l&&(l=o[i],p=i);return e[p]}function d(t,i,n){"undefined"==typeof n&&(n=!0);var o=s(t),e=s(i);if(t.length!==i.length)throw"Vectors do not have the same dimensions";for(var r=0,l=t.length,p=0;l>p;p++){var a=t[p]-o,u=i[p]-e;r+=a*u}return n?r/(l-1):r/l}function v(t,i){"undefined"==typeof i&&(i=!0);for(var n=s(t),o=0,e=0,r=t.length,l=0;r>l;l++){var p=t[l]-n;o+=p*p,e+=p*p*p}var a=o/r,u=e/r,c=u/Math.pow(a,1.5);if(i){var h=Math.sqrt(r*(r-1)),f=r-2;return h/f*c}return c}function b(t,i){"undefined"==typeof i&&(i=!0);for(var n=s(t),o=t.length,e=0,r=0,l=0;o>l;l++){var p=t[l]-n;e+=p*p,r+=p*p*p*p}var a=e/o,u=r/o;if(i){var c=e/(o-1),h=o*(o+1)/((o-1)*(o-2)*(o-3)),f=r/(c*c),m=(o-1)*(o-1)/((o-2)*(o-3));return h*f-3*m}return u/(a*a)-3}function X(t,i){"undefined"==typeof i&&(i=0);for(var n=0,o=t.length,e=0;o>e;e++)n+=t[e]*Math.log(t[e]+i);return-n}function M(t,i){for(var n=0,o=t.length,e=0;o>e;e++)n+=t[e]*i[e];return n}function A(t,i){return Math.sqrt(x(t,i))}function x(t,i){for(var n=M(t,i),o=0,e=t.length,s=0,r=0,l=0;e>l;l++){var p=t[l]-n,a=i[l];o+=a*p*p,r+=a,s+=a*a}return o*(r/(r*r-s))}function S(t,i){"undefined"==typeof i&&(i=!1);var n=t;i||(n=t.slice());for(var o=s(n),e=n.length,r=0;e>r;r++)n[r]-=o}function D(t,i,n){"undefined"==typeof i&&(i=c(t)),"undefined"==typeof n&&(n=!1);for(var o=t.length,e=n?t:new Array(o),s=0;o>s;s++)e[s]=t[s]/i;return e}function Y(t){var i=t.length,n=new Array(i);n[0]=t[0];for(var o=1;i>o;o++)n[o]=n[o-1]+t[o];return n}i.exports={min:o,max:n,minMax:e,mean:s,geometricMean:r,logGeometricMean:l,grandMean:p,truncatedMean:a,contraHarmonicMean:u,standardDeviation:c,standardError:h,median:f,quartiles:m,variance:g,pooledStandardDeviation:y,pooledVariance:C,mode:H,covariance:d,skewness:v,kurtosis:b,entropy:X,weightedMean:M,weightedStandardDeviation:A,weightedVariance:x,center:S,standardize:D,cumulativeSum:Y}},{}],4:[function(t,i){var n=n||{};n.formater=function(){function t(t,n){g="",y="",C="";var o=null;return n&&n.solvent&&(o=n.solvent),n&&void 0!=n.rangeForMultiplet&&(rangeForMultiplet=n.rangeForMultiplet),t.type="NMR SPEC","1H"==t[0].nucleus?i(t,!1,2,1,o):"13C"==t[0].nucleus&&i(t,!1,1,0,o),g.length>0&&(g+="."),g}function i(t,i,s,r,l){h(),n(t,l);for(var p=t.length,a=0;p>a;a++){if(i)var u=t[a];else var u=t[p-a-1];u&&(h(),o(u,s),e(u,r))}}function n(t,i){"NMR SPEC"==t.type?(t[0].nucleus&&(g+=c(t[0].nucleus)),g+=" NMR",(i||t[0].observe)&&(g+=" (",t.observe&&(g+=(1*t[0].observe).toFixed(0)+" MHz",i&&(g+=", ")),i&&(g+=u(i)),g+=")"),g+=" δ "):"IR"==t.type?g+=" IR ":"MASS"==t.type&&(g+=" MASS ")}function o(t,i){var n=0,o=0,e=0;t.startX&&(n="string"==typeof t.startX?parseFloat(t.startX):t.startX),t.stopX&&(o="string"==typeof t.stopX?parseFloat(t.stopX):t.stopX),t.delta1&&(e="string"==typeof t.delta1?parseFloat(t.delta1):t.delta1),"massive"==t.pattern||"m"==t.pattern&&1==rangeForMultiplet?t.startX&&t.stopX?g+=o>n?n.toFixed(i)+"-"+o.toFixed(i):o.toFixed(i)+"-"+n.toFixed(i):t.delta1&&(g+=e.toFixed(i)):t.delta1?g+=e.toFixed(i):t.startX&&t.stopX&&(g+=((n+o)/2).toFixed(i))}function e(t,i){y="",l(t),s(t),p(t,i),r(t),y.length>0&&(g+=" ("+y+")")}function s(t){t.pubIntegration?(f(),y+=t.pubIntegration):t.integralData&&(f(),y+=t.integralData.value.toFixed(0)+" H")}function r(t){t.pubAssignment?(f(),y+=a(t.pubAssignment)):t.assignment&&(f(),y+=a(t.assignment))}function l(t){t.pubMultiplicity?(f(),y+=t.pubMultiplicity):t.multiplicity&&(f(),y+=t.multiplicity)}function p(t,i){if(t.nmrJs){for(var n="<i>J</i> = ",o=0;o<t.nmrJs.length;o++){var e=t.nmrJs[o].coupling;n.length>11&&(n+=", "),n+=e.toFixed(i)}f(),y+=n+" Hz"}}function a(t){return t=t.replace(/([0-9])/g,"<sub>$1</sub>"),t=t.replace(/\"([^\"]*)\"/g,"<i>$1</i>")}function u(t){return t=t.replace(/([0-9])/g,"<sub>$1</sub>")}function c(t){return t=t.replace(/([0-9])/g,"<sup>$1</sup>")}function h(){g.length>0&&!g.match(/ $/)&&(g+=", ")}function f(){y.length>0&&!y.match(", $")&&(y+=", ")}function m(t){return JSON.parse(SDAPI.AcsParserAsJSONString(t))}var g="",y="",C="";return rangeForMultiplet=!0,{toACS:t,toNMRSignal:m}}(),i.exports=n},{}],5:[function(t,i){var n=t("./fftlib"),o={DEBUG:!1,ifft2DArray:function(t,i,o){var e=new Array(i*o),s=i/2,r=2*(o-1);n.init(s);for(var l={re:new Array(s),im:new Array(s)},p=0;o>p;p++){for(var a=s-1;a>=0;a--)l.re[a]=t[2*a*o+p],l.im[a]=t[(2*a+1)*o+p];n.bt(l.re,l.im);for(var a=s-1;a>=0;a--)e[2*a*o+p]=l.re[a],e[(2*a+1)*o+p]=l.im[a]}var u=new Array(s*r);n.init(r);for(var c={re:new Array(r),im:new Array(r)},h=r*s,a=0;i>a;a+=2){c.re[0]=e[a*o],c.im[0]=e[(a+1)*o];for(var p=1;o>p;p++)c.re[p]=e[a*o+p],c.im[p]=e[(a+1)*o+p],c.re[r-p]=e[a*o+p],c.im[r-p]=-e[(a+1)*o+p];n.bt(c.re,c.im);for(var f=a/2*r,p=r-1;p>=0;p--)u[f+p]=c.re[p]/h}return u},fft2DArray:function(t,i,o){var e=o/2+1,s=2*i,r=new Array(s*e);n.init(o);for(var l,p,a,u,c,h={re:new Array(o),im:new Array(o)},f={re:new Array(o),im:new Array(o)},m={re:new Array(o),im:new Array(o)},g=0;i/2>g;g++){l=2*g*o,h.re=t.slice(l,l+o),l=(2*g+1)*o,h.im=t.slice(l,l+o),n.fft1d(h.re,h.im),this.reconstructTwoRealFFT(h,f,m),p=4*g*e,a=(4*g+1)*e,u=(4*g+2)*e,c=(4*g+3)*e;for(var y=e-1;y>=0;y--)r[p+y]=f.re[y],r[a+y]=f.im[y],r[u+y]=m.re[y],r[c+y]=m.im[y]}f=null,m=null;var C=new Array(s*e);n.init(i);for(var H={re:new Array(i),im:new Array(i)},d=e-1;d>=0;d--){for(var g=i-1;g>=0;g--)H.re[g]=r[2*g*e+d],H.im[g]=r[(2*g+1)*e+d];n.fft1d(H.re,H.im);for(var g=i-1;g>=0;g--)C[2*g*e+d]=H.re[g],C[(2*g+1)*e+d]=H.im[g]}return C},reconstructTwoRealFFT:function(t,i,n){var o=t.re.length;i.re[0]=t.re[0],i.im[0]=0,n.re[0]=t.im[0],n.im[0]=0;for(var e,s,r,l,p,a=o/2;a>0;a--)p=o-a,e=.5*(t.re[a]-t.re[p]),s=.5*(t.re[a]+t.re[p]),r=.5*(t.im[a]-t.im[p]),l=.5*(t.im[a]+t.im[p]),i.re[a]=s,i.im[a]=r,i.re[p]=s,i.im[p]=-r,n.re[a]=l,n.im[a]=-e,n.re[p]=l,n.im[p]=e},convolute2DI:function(t,i,n,o){for(var e,s,r=0;n/2>r;r++)for(var l=0;o>l;l++)e=t[2*r*o+l]*i[2*r*o+l]-t[(2*r+1)*o+l]*i[(2*r+1)*o+l],s=t[2*r*o+l]*i[(2*r+1)*o+l]+t[(2*r+1)*o+l]*i[2*r*o+l],t[2*r*o+l]=e,t[(2*r+1)*o+l]=s}};i.exports=o},{"./fftlib":13}],6:[function(t,i){function n(t){o.call(this,t)}var o=t("./SD"),e=t("./PeakPicking"),s=t("jcampconverter");n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.fromJcamp=function(t){var i=s.convert(t,{xy:!0,keepSpectra:!0,keepRecordsRegExp:/^.+$/});return new n(i)},n.prototype.getNucleus=function(){return this.sd.xType},n.prototype.getSolventName=function(){return(this.sd.info[".SOLVENTNAME"]||this.sd.info.$SOLVENT).replace("<","").replace(">","")},n.prototype.observeFrequencyX=function(){return this.sd.spectra[0].observeFrequency},n.prototype.getNMRPeakThreshold=function(t){return"1H"==t?3:"13C"==t?5:1},n.prototype.addNoise=function(){},n.prototype.addSpectraDatas=function(){},n.prototype.autoBaseline=function(){},n.prototype.fourierTransform=function(){},n.prototype.postFourierTransform=function(){},n.prototype.zeroFilling=function(){},n.prototype.haarWhittakerBaselineCorrection=function(){},n.prototype.whittakerBaselineCorrection=function(){},n.prototype.brukerSpectra=function(){},n.prototype.apodization=function(){},n.prototype.echoAntiechoFilter=function(){},n.prototype.SNVFilter=function(){},n.prototype.powerFilter=function(t){var i=this.getMinY();1>t&&0>i&&(this.YShift(-1*i),console.warn("SD.powerFilter: The spectrum had negative values and was automatically shifted before applying the function."))},n.prototype.logarithmFilter=function(){var t=this.getMinY();0>=t&&(this.YShift(-1*t+1),console.warn("SD.logarithmFilter: The spectrum had negative values and was automatically shifted before applying the function."))},n.prototype.correlationFilter=function(){},n.prototype.phaseCorrection=function(){},n.prototype.automaticPhase=function(){},n.prototype.useBrukerPhase=function(){},n.prototype.nmrPeakDetection=function(t){return t=t||{},t.nH||(t.nH=10),e.peakPicking(this,t.nH,this.getSolventName())},n.prototype.toJcamp=function(){return"NOT ImplementED"},i.exports=n},{"./PeakPicking":9,"./SD":11,jcampconverter:2}],7:[function(t,i){function n(t){o.call(this,t)}var o=t("./SD"),e=t("./PeakPicking2D"),s=t("jcampconverter");n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.fromJcamp=function(t){var i=s.convert(t,{xy:!0,keepSpectra:!0});return new n(i)},n.prototype.isHomoNuclear=function(){return this.sd.xType==this.sd.yType},n.prototype.observeFrequencyX=function(){return this.sd.spectra[0].observeFrequency},n.prototype.observeFrequencyY=function(){return this.sd.indirectFrequency},n.prototype.getSolventName=function(){return(this.sd.info[".SOLVENTNAME"]||this.sd.info.$SOLVENT).replace("<","").replace(">","")},n.prototype.getXUnits=function(){return this.sd.ntuples[1].units},n.prototype.getYUnits=function(){return this.sd.ntuples[0].units},n.prototype.getZUnits=function(){return this.sd.ntuples[2].units},n.prototype.getLastY=function(){return this.sd.minMax.maxY},n.prototype.getFirstY=function(){return this.sd.minMax.minY},n.prototype.getDeltaY=function(){return(this.getLastY()-this.getFirstY())/(this.getNbSubSpectra()-1)},n.prototype.nmrPeakDetection2D=function(t){t=t||{},t.thresholdFactor||(t.thresholdFactor=1);var i=Math.round(255*Math.random());t.id||(i=t.id);for(var n=e.findPeaks2D(this,t.thresholdFactor),o=0;o<n.length;o++)n[o]._highlight=[i+"_"+o];return n},n.prototype.getNMRPeakThreshold=function(t){return"1H"==t?3:"13C"==t?5:1},n.prototype.getNucleus=function(t){return 1==t?this.sd.xType:2==t?this.sd.yType:this.sd.xType},i.exports=n},{"./PeakPicking2D":10,"./SD":11,jcampconverter:2}],8:[function(t,i){var n={diagonalError:.05,tolerance:.05,DEBUG:!1,toleranceX:.025,toleranceY:.5,clean:function(t,i){var n,o=Number.NEGATIVE_INFINITY;for(n=t.length-1;n>=0;n--)Math.abs(t[n].z)>o&&(o=Math.abs(t[n].z));for(o*=i,n=t.length-1;n>=0;n--)Math.abs(t[n].z)<o&&t.splice(n,1);return t},enhanceSymmetry:function(t){var i=this.initializeProperties(t),n=t;this.DEBUG&&console.log("Before optimization size: "+n.size());var o,e,s,r;for(o=n.length-1;o>=0;o--)r=n[o],r.peaks.length>1&&i[o][1]++,1==i[o][0]&&(s=this.exist(n,i,r,-1,!0),s>=0&&(i[o][1]+=2,i[s][1]+=2));for(o=n.length-1;o>=0;o--)r=n[o],0==i[o][0]&&(e=this.checkCrossPeaks(n,i,r,!0),i[o][1]+=e);var l=0;for(o=n.length-1;o>=0;o--)0!==i[o][0]&&i[o][1]>2&&(l++,l+=this.completeMissingIfNeeded(n,i,n[o],i[o])),i[o][1]>=2&&0===i[o][0]&&l++;this.DEBUG&&console.log("After optimization size: "+l);var p=new Array(l);for(l--,o=n.length-1;o>=0;o--)0!==i[o][0]&&i[o][1]>2||0===i[o][0]&&i[o][1]>1?p[l--]=n[o]:console.log("Removed "+o+" "+n[o].peaks.length);return p},completeMissingIfNeeded:function(t,i,n,o){var e=this.exist(t,i,n,-o[0],!0),s=0,r=null,l=null;0>e&&(r={nucleusX:n.nucleusX,nucleusY:n.nucleusY},r.resolutionX=n.resolutionX,r.resolutionY=n.resolutionY,r.shiftX=n.shiftY,r.shiftY=n.shiftX,r.peaks=[{x:n.shiftY,y:n.shiftX,z:1}],t.push(r),l=[-o[0],o[1]],i.push(l),s++);var p,a=0,u=!1,c=!1;for(a=t.length-1;a>=0;a--)p=t[a],0===i[a][0]&&(Math.abs(p.shiftX-n.shiftX)<this.diagonalError&&(u=!0),Math.abs(p.shiftY-n.shiftY)<this.diagonalError&&(c=!0));return u===!1&&(r={nucleusX:n.nucleusX,nucleusY:n.nucleusY},r.resolutionX=n.resolutionX,r.resolutionY=n.resolutionY,r.shiftX=n.shiftX,r.shiftY=n.shiftX,r.peaks=[{x:n.shiftX,y:n.shiftX,z:1}],t.push(r),l=[0,o[1]],i.push(l),s++),c===!1&&(r={nucleusX:n.nucleusX,nucleusY:n.nucleusY},r.resolutionX=n.resolutionX,r.resolutionY=n.resolutionY,r.shiftX=n.shiftY,r.shiftY=n.shiftY,r.peaks=[{x:n.shiftY,y:n.shiftY,z:1}],t.push(r),l=[0,o[1]],i.push(l),s++),s},checkCrossPeaks:function(t,i,n,o){var e,s=0,r=0,l=4*n.shiftX,p=[],a=[];for(r=t.length-1;r>=0;r--)e=t[r],0!==i[r][0]&&(Math.abs(e.shiftX-n.shiftX)<this.diagonalError?(s++,o&&i[r][1]++,p.push(r),l+=e.shiftX):Math.abs(e.shiftY-n.shiftY)<this.diagonalError&&(s++,o&&i[r][1]++,a.push(r),l+=e.shiftY));if(l/=p.length+a.length+4,p.length>0)for(r=p.length-1;r>=0;r--)t[p[r]].shiftX=l;if(a.length>0)for(r=a.length-1;r>=0;r--)t[a[r]].shiftY=l;return n.shiftX=l,n.shiftY=l,s},exist:function(t,i,n,o,e){for(var s=t.length-1;s>=0;s--)if(i[s][0]==o&&this.distanceTo(n,t[s],e)<this.tolerance){if(e){var r=n.shiftX,l=t[s].shiftX;t[s].shiftY=r,n.shiftY=l}else{var r=(t[s].shiftX+n.shiftX)/2,l=(t[s].shiftY+n.shiftY)/2;t[s].shiftX=r,t[s].shiftY=l,n.shiftX=r,n.shiftY=l}return s}return-1},initializeProperties:function(t){for(var i=new Array(t.length),n=t.length-1;n>=0;n--)if(i[n]=[0,0],Math.abs(t[n].shiftX-t[n].shiftY)<=this.diagonalError){i[n][1]=1;var o=(2*t[n].shiftX+t[n].shiftY)/3;t[n].shiftX=o,t[n].shiftY=o}else i[n][0]=t[n].shiftX-t[n].shiftY>0?1:-1;return i},distanceTo:function(t,i,n){return Math.sqrt(n?Math.pow(t.shiftX-i.shiftY,2)+Math.pow(t.shiftY-i.shiftX,2):Math.pow(t.shiftX-i.shiftX,2)+Math.pow(t.shiftY-i.shiftY,2))}};i.exports=n},{}],9:[function(t,i){var n={impurities:[],maxJ:20,peakPicking:function(t,i){var n=this.GSD(t),o=this.detectSignals(n,t.observeFrequencyX(),i);return o},init:function(){this.impurities=[{impurities:[{shifts:[{proton:"X",coupling:0,multiplicity:"",shift:7.26}],name:"solvent_residual_peak"},{shifts:[{proton:"H2O",coupling:0,multiplicity:"s",shift:1.56}],name:"H2O"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.1}],name:"acetic_acid"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.17}],name:"acetone"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.1}],name:"acetonitrile"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.36}],name:"benzene"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.28}],name:"tert-butyl_alcohol"},{shifts:[{proton:"CCH3",coupling:0,multiplicity:"s",shift:1.19},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.22}],name:"tert-butyl_methyl_ether"},{shifts:[{proton:"ArH",coupling:0,multiplicity:"s",shift:6.98},{proton:"OHc",coupling:0,multiplicity:"s",shift:5.01},{proton:"ArCH3",coupling:0,multiplicity:"s",shift:2.27},{proton:"ArC(CH3)3",coupling:0,multiplicity:"s",shift:1.43}],name:"BHTb"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.26}],name:"chloroform"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:1.43}],name:"cyclohexane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.73}],name:"1,2-dichloroethane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:5.3}],name:"dichloromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.21},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.48}],name:"diethyl_ether"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:3.65},{proton:"CH2",coupling:0,multiplicity:"m",shift:3.57},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.39}],name:"diglyme"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.4},{proton:"CH2",coupling:0,multiplicity:"s",shift:3.55}],name:"1,2-dimethoxyethane"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.09},{proton:"NCH3",coupling:0,multiplicity:"s",shift:3.02},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.94}],name:"dimethylacetamide"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:8.02},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.96},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.88}],name:"dimethylformamide"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.62}],name:"dimethyl_sulfoxide"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.71}],name:"dioxane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.25},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.72},{proton:"OH",coupling:5,multiplicity:"s,t",shift:1.32}],name:"ethanol"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.05},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:4.12},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:1.26}],name:"ethyl_acetate"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.14},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:2.46},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:1.06}],name:"ethyl_methyl_ketone"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:3.76}],name:"ethylene_glycol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"m",shift:.86},{proton:"CH2",coupling:0,multiplicity:"br_s",shift:1.26}],name:"grease^f"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"t",shift:.88},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.26}],name:"n-hexane"},{shifts:[{proton:"CH3",coupling:9.5,multiplicity:"d",shift:2.65}],name:"HMPAg"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.49},{proton:"OH",coupling:0,multiplicity:"s",shift:1.09}],name:"methanol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:4.33}],name:"nitromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:7},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.27}],name:"n-pentane"},{shifts:[{proton:"CH3",coupling:6,multiplicity:"d",shift:1.22},{proton:"CH",coupling:6,multiplicity:"sep",shift:4.04}],name:"2-propanol"},{shifts:[{proton:"CH(2)",coupling:0,multiplicity:"m",shift:8.62},{proton:"CH(3)",coupling:0,multiplicity:"m",shift:7.29},{proton:"CH(4)",coupling:0,multiplicity:"m",shift:7.68}],name:"pyridine"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:.07}],name:"silicone_greasei"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:1.85},{proton:"CH2O",coupling:0,multiplicity:"m",shift:3.76}],name:"tetrahydrofuran"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.36},{proton:"CH(o/p)",coupling:0,multiplicity:"m",shift:7.17},{proton:"CH(m)",coupling:0,multiplicity:"m",shift:7.25}],name:"toluene"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.03},{proton:"CH2",coupling:7,multiplicity:"q",shift:2.53}],name:"triethylamine"}],solvent:"CDCl3"},{impurities:[{shifts:[{proton:"X",coupling:0,multiplicity:"",shift:2.05}],name:"solvent_residual_peak"},{shifts:[{proton:"H2O",coupling:0,multiplicity:"s",shift:2.84}],name:"H2O"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.96}],name:"acetic_acid"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.09}],name:"acetone"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.05}],name:"acetonitrile"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.36}],name:"benzene"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.18}],name:"tert-butyl_alcohol"},{shifts:[{proton:"CCH3",coupling:0,multiplicity:"s",shift:1.13},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.13}],name:"tert-butyl_methyl_ether"},{shifts:[{proton:"ArH",coupling:0,multiplicity:"s",shift:6.96},{proton:"ArCH3",coupling:0,multiplicity:"s",shift:2.22},{proton:"ArC(CH3)3",coupling:0,multiplicity:"s",shift:1.41}],name:"BHTb"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:8.02}],name:"chloroform"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:1.43}],name:"cyclohexane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.87}],name:"1,2-dichloroethane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:5.63}],name:"dichloromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.11},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.41}],name:"diethyl_ether"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:3.56},{proton:"CH2",coupling:0,multiplicity:"m",shift:3.47},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.28}],name:"diglyme"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.28},{proton:"CH2",coupling:0,multiplicity:"s",shift:3.46}],name:"1,2-dimethoxyethane"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:1.97},{proton:"NCH3",coupling:0,multiplicity:"s",shift:3},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.83}],name:"dimethylacetamide"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.96},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.94},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.78}],name:"dimethylformamide"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.52}],name:"dimethyl_sulfoxide"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.59}],name:"dioxane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.12},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.57},{proton:"OH",coupling:5,multiplicity:"s,t",shift:3.39}],name:"ethanol"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:1.97},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:4.05},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:1.2}],name:"ethyl_acetate"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.07},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:2.45},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:.96}],name:"ethyl_methyl_ketone"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:3.28}],name:"ethylene_glycol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"m",shift:.87},{proton:"CH2",coupling:0,multiplicity:"br_s",shift:1.29}],name:"grease^f"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"t",shift:.88},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.28}],name:"n-hexane"},{shifts:[{proton:"CH3",coupling:9.5,multiplicity:"d",shift:2.59}],name:"HMPAg"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.31},{proton:"OH",coupling:0,multiplicity:"s",shift:3.12}],name:"methanol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:4.43}],name:"nitromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.88},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.27}],name:"n-pentane"},{shifts:[{proton:"CH3",coupling:6,multiplicity:"d",shift:1.1},{proton:"CH",coupling:6,multiplicity:"sep",shift:3.9}],name:"2-propanol"},{shifts:[{proton:"CH(2)",coupling:0,multiplicity:"m",shift:8.58},{proton:"CH(3)",coupling:0,multiplicity:"m",shift:7.35},{proton:"CH(4)",coupling:0,multiplicity:"m",shift:7.76}],name:"pyridine"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:.13}],name:"silicone_greasei"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:1.79},{proton:"CH2O",coupling:0,multiplicity:"m",shift:3.63}],name:"tetrahydrofuran"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.32},{proton:"CH(o/p)",coupling:0,multiplicity:"m",shift:7.5},{proton:"CH(m)",coupling:0,multiplicity:"m",shift:7.5}],name:"toluene"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.96},{proton:"CH2",coupling:7,multiplicity:"q",shift:2.45}],name:"triethylamine"}],solvent:"(CD3)2CO"},{impurities:[{shifts:[{proton:"X",coupling:0,multiplicity:"",shift:2.5}],name:"solvent_residual_peak"},{shifts:[{proton:"H2O",coupling:0,multiplicity:"s",shift:3.33}],name:"H2O"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.91}],name:"acetic_acid"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.09}],name:"acetone"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.07}],name:"acetonitrile"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.37}],name:"benzene"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.11},{proton:"OHc",coupling:0,multiplicity:"s",shift:4.19}],name:"tert-butyl_alcohol"},{shifts:[{proton:"CCH3",coupling:0,multiplicity:"s",shift:1.11},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.08}],name:"tert-butyl_methyl_ether"},{shifts:[{proton:"ArH",coupling:0,multiplicity:"s",shift:6.87},{proton:"OHc",coupling:0,multiplicity:"s",shift:6.65},{proton:"ArCH3",coupling:0,multiplicity:"s",shift:2.18},{proton:"ArC(CH3)3",coupling:0,multiplicity:"s",shift:1.36}],name:"BHTb"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:8.32}],name:"chloroform"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:1.4}],name:"cyclohexane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.9}],name:"1,2-dichloroethane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:5.76}],name:"dichloromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.09},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.38}],name:"diethyl_ether"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:3.51},{proton:"CH2",coupling:0,multiplicity:"m",shift:3.38},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.24}],name:"diglyme"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.24},{proton:"CH2",coupling:0,multiplicity:"s",shift:3.43}],name:"1,2-dimethoxyethane"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:1.96},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.94},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.78}],name:"dimethylacetamide"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.95},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.89},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.73}],name:"dimethylformamide"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.54}],name:"dimethyl_sulfoxide"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.57}],name:"dioxane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.06},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.44},{proton:"OH",coupling:5,multiplicity:"s,t",shift:4.63}],name:"ethanol"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:1.99},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:4.03},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:1.17}],name:"ethyl_acetate"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.07},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:2.43},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:.91}],name:"ethyl_methyl_ketone"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:3.34}],name:"ethylene_glycol"},{shifts:[],name:"grease^f"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"t",shift:.86},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.25}],name:"n-hexane"},{shifts:[{proton:"CH3",coupling:9.5,multiplicity:"d",shift:2.53}],name:"HMPAg"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.16},{proton:"OH",coupling:0,multiplicity:"s",shift:4.01}],name:"methanol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:4.42}],name:"nitromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.88},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.27}],name:"n-pentane"},{shifts:[{proton:"CH3",coupling:6,multiplicity:"d",shift:1.04},{proton:"CH",coupling:6,multiplicity:"sep",shift:3.78}],name:"2-propanol"},{shifts:[{proton:"CH(2)",coupling:0,multiplicity:"m",shift:8.58},{proton:"CH(3)",coupling:0,multiplicity:"m",shift:7.39},{proton:"CH(4)",coupling:0,multiplicity:"m",shift:7.79}],name:"pyridine"},{shifts:[],name:"silicone_greasei"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:1.76},{proton:"CH2O",coupling:0,multiplicity:"m",shift:3.6}],name:"tetrahydrofuran"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.3},{proton:"CH(o/p)",coupling:0,multiplicity:"m",shift:7.18},{proton:"CH(m)",coupling:0,multiplicity:"m",shift:7.25}],name:"toluene"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.93},{proton:"CH2",coupling:7,multiplicity:"q",shift:2.43}],name:"triethylamine"}],solvent:"(CD3)2SO/DMSO"},{impurities:[{shifts:[{proton:"X",coupling:0,multiplicity:"",shift:7.16}],name:"solvent_residual_peak"},{shifts:[{proton:"H2O",coupling:0,multiplicity:"s",shift:.4}],name:"H2O"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.55}],name:"acetic_acid"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.55}],name:"acetone"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.55}],name:"acetonitrile"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.15}],name:"benzene"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.05},{proton:"OHc",coupling:0,multiplicity:"s",shift:1.55}],name:"tert-butyl_alcohol"},{shifts:[{proton:"CCH3",coupling:0,multiplicity:"s",shift:1.07},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.04}],name:"tert-butyl_methyl_ether"},{shifts:[{proton:"ArH",coupling:0,multiplicity:"s",shift:7.05},{proton:"OHc",coupling:0,multiplicity:"s",shift:4.79},{proton:"ArCH3",coupling:0,multiplicity:"s",shift:2.24},{proton:"ArC(CH3)3",coupling:0,multiplicity:"s",shift:1.38}],name:"BHTb"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:6.15}],name:"chloroform"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:1.4}],name:"cyclohexane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:2.9}],name:"1,2-dichloroethane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:4.27}],name:"dichloromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.11},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.26}],name:"diethyl_ether"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:3.46},{proton:"CH2",coupling:0,multiplicity:"m",shift:3.34},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.11}],name:"diglyme"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.12},{proton:"CH2",coupling:0,multiplicity:"s",shift:3.33}],name:"1,2-dimethoxyethane"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:1.6},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.57},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.05}],name:"dimethylacetamide"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.63},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.36},{proton:"CH3",coupling:0,multiplicity:"s",shift:1.86}],name:"dimethylformamide"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.68}],name:"dimethyl_sulfoxide"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.35}],name:"dioxane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.96},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.34}],name:"ethanol"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:1.65},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:3.89},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:.92}],name:"ethyl_acetate"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:1.58},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:1.81},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:.85}],name:"ethyl_methyl_ketone"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:3.41}],name:"ethylene_glycol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"m",shift:.92},{proton:"CH2",coupling:0,multiplicity:"br_s",shift:1.36}],name:"grease^f"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"t",shift:.89},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.24}],name:"n-hexane"},{shifts:[{proton:"CH3",coupling:9.5,multiplicity:"d",shift:2.4}],name:"HMPAg"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.07}],name:"methanol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.94}],name:"nitromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.86},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.23}],name:"n-pentane"},{shifts:[{proton:"CH3",coupling:6,multiplicity:"d",shift:.95},{proton:"CH",coupling:6,multiplicity:"sep",shift:3.67}],name:"2-propanol"},{shifts:[{proton:"CH(2)",coupling:0,multiplicity:"m",shift:8.53},{proton:"CH(3)",coupling:0,multiplicity:"m",shift:6.66},{proton:"CH(4)",coupling:0,multiplicity:"m",shift:6.98}],name:"pyridine"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:.29}],name:"silicone_greasei"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:1.4},{proton:"CH2O",coupling:0,multiplicity:"m",shift:3.57}],name:"tetrahydrofuran"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.11},{proton:"CH(o/p)",coupling:0,multiplicity:"m",shift:7.02},{proton:"CH(m)",coupling:0,multiplicity:"m",shift:7.13}],name:"toluene"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.96},{proton:"CH2",coupling:7,multiplicity:"q",shift:2.4}],name:"triethylamine"}],solvent:"C6D6"},{impurities:[{shifts:[{proton:"X",coupling:0,multiplicity:"",shift:1.94}],name:"solvent_residual_peak"},{shifts:[{proton:"H2O",coupling:0,multiplicity:"s",shift:2.13}],name:"H2O"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.96}],name:"acetic_acid"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.08}],name:"acetone"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.96}],name:"acetonitrile"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.37}],name:"benzene"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.16},{proton:"OHc",coupling:0,multiplicity:"s",shift:2.18}],name:"tert-butyl_alcohol"},{shifts:[{proton:"CCH3",coupling:0,multiplicity:"s",shift:1.14},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.13}],name:"tert-butyl_methyl_ether"},{shifts:[{proton:"ArH",coupling:0,multiplicity:"s",shift:6.97},{proton:"OHc",coupling:0,multiplicity:"s",shift:5.2},{proton:"ArCH3",coupling:0,multiplicity:"s",shift:2.22},{proton:"ArC(CH3)3",coupling:0,multiplicity:"s",shift:1.39}],name:"BHTb"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.58}],name:"chloroform"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:1.44}],name:"cyclohexane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.81}],name:"1,2-dichloroethane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:5.44}],name:"dichloromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.12},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.42}],name:"diethyl_ether"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:3.53},{proton:"CH2",coupling:0,multiplicity:"m",shift:3.45},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.29}],name:"diglyme"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.28},{proton:"CH2",coupling:0,multiplicity:"s",shift:3.45}],name:"1,2-dimethoxyethane"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:1.97},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.96},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.83}],name:"dimethylacetamide"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.92},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.89},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.77}],name:"dimethylformamide"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.5}],name:"dimethyl_sulfoxide"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.6}],name:"dioxane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.12},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.54},{proton:"OH",coupling:5,multiplicity:"s,t",shift:2.47}],name:"ethanol"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:1.97},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:4.06},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:1.2}],name:"ethyl_acetate"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.06},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:2.43},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:.96}],name:"ethyl_methyl_ketone"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:3.51}],name:"ethylene_glycol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"m",shift:.86},{proton:"CH2",coupling:0,multiplicity:"br_s",shift:1.27}],name:"grease^f"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"t",shift:.89},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.28}],name:"n-hexane"},{shifts:[{proton:"CH3",coupling:9.5,multiplicity:"d",shift:2.57}],name:"HMPAg"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.28},{proton:"OH",coupling:0,multiplicity:"s",shift:2.16}],name:"methanol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:4.31}],name:"nitromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.87},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.29}],name:"n-pentane"},{shifts:[{proton:"CH3",coupling:6,multiplicity:"d",shift:1.09},{proton:"CH",coupling:6,multiplicity:"sep",shift:3.87}],name:"2-propanol"},{shifts:[{proton:"CH(2)",coupling:0,multiplicity:"m",shift:8.57},{proton:"CH(3)",coupling:0,multiplicity:"m",shift:7.33},{proton:"CH(4)",coupling:0,multiplicity:"m",shift:7.73}],name:"pyridine"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:.08}],name:"silicone_greasei"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:1.8},{proton:"CH2O",coupling:0,multiplicity:"m",shift:3.64}],name:"tetrahydrofuran"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.33},{proton:"CH(o/p)",coupling:0,multiplicity:"m",shift:7.2},{proton:"CH(m)",coupling:0,multiplicity:"m",shift:7.2}],name:"toluene"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.96},{proton:"CH2",coupling:7,multiplicity:"q",shift:2.45}],name:"triethylamine"}],solvent:"CD3CN"},{impurities:[{shifts:[{proton:"X",coupling:0,multiplicity:"",shift:3.31}],name:"solvent_residual_peak"},{shifts:[{proton:"H2O",coupling:0,multiplicity:"s",shift:4.87}],name:"H2O"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.99}],name:"acetic_acid"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.15}],name:"acetone"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.03}],name:"acetonitrile"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.33}],name:"benzene"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.4}],name:"tert-butyl_alcohol"},{shifts:[{proton:"CCH3",coupling:0,multiplicity:"s",shift:1.15},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.2}],name:"tert-butyl_methyl_ether"},{shifts:[{proton:"ArH",coupling:0,multiplicity:"s",shift:6.92},{proton:"ArCH3",coupling:0,multiplicity:"s",shift:2.21},{proton:"ArC(CH3)3",coupling:0,multiplicity:"s",shift:1.4}],name:"BHTb"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.9}],name:"chloroform"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:1.45}],name:"cyclohexane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.78}],name:"1,2-dichloroethane"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:5.49}],name:"dichloromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.18},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.49}],name:"diethyl_ether"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:3.61},{proton:"CH2",coupling:0,multiplicity:"m",shift:3.58},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.35}],name:"diglyme"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.35},{proton:"CH2",coupling:0,multiplicity:"s",shift:3.52}],name:"1,2-dimethoxyethane"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.07},{proton:"NCH3",coupling:0,multiplicity:"s",shift:3.31},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.92}],name:"dimethylacetamide"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.97},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.99},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.86}],name:"dimethylformamide"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.65}],name:"dimethyl_sulfoxide"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.66}],name:"dioxane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.19},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.6}],name:"ethanol"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.01},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:4.09},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:1.24}],name:"ethyl_acetate"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.12},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:2.5},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:1.01}],name:"ethyl_methyl_ketone"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:3.59}],name:"ethylene_glycol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"m",shift:.88},{proton:"CH2",coupling:0,multiplicity:"br_s",shift:1.29}],name:"grease^f"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"t",shift:.9},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.29}],name:"n-hexane"},{shifts:[{proton:"CH3",coupling:9.5,multiplicity:"d",shift:2.64}],name:"HMPAg"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.34}],name:"methanol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:4.34}],name:"nitromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.89},{proton:"CH2",coupling:0,multiplicity:"m",shift:1.29}],name:"n-pentane"},{shifts:[{proton:"CH3",coupling:6,multiplicity:"d",shift:1.5},{proton:"CH",coupling:6,multiplicity:"sep",shift:3.92}],name:"2-propanol"},{shifts:[{proton:"CH(2)",coupling:0,multiplicity:"m",shift:8.53},{proton:"CH(3)",coupling:0,multiplicity:"m",shift:7.44},{proton:"CH(4)",coupling:0,multiplicity:"m",shift:7.85}],name:"pyridine"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:.1}],name:"silicone_greasei"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:1.87},{proton:"CH2O",coupling:0,multiplicity:"m",shift:3.71}],name:"tetrahydrofuran"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.32},{proton:"CH(o/p)",coupling:0,multiplicity:"m",shift:7.16},{proton:"CH(m)",coupling:0,multiplicity:"m",shift:7.16}],name:"toluene"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.05},{proton:"CH2",coupling:7,multiplicity:"q",shift:2.58}],name:"triethylamine"}],solvent:"CD3OD"},{impurities:[{shifts:[{proton:"X",coupling:0,multiplicity:"",shift:4.79}],name:"solvent_residual_peak"},{shifts:[],name:"H2O"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.08}],name:"acetic_acid"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.22}],name:"acetone"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.06}],name:"acetonitrile"},{shifts:[],name:"benzene"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:1.24}],name:"tert-butyl_alcohol"},{shifts:[{proton:"CCH3",coupling:0,multiplicity:"s",shift:1.21},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.22}],name:"tert-butyl_methyl_ether"},{shifts:[],name:"BHTb"},{shifts:[],name:"chloroform"},{shifts:[],name:"cyclohexane"},{shifts:[],name:"1,2-dichloroethane"},{shifts:[],name:"dichloromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.17},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.56}],name:"diethyl_ether"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:3.67},{proton:"CH2",coupling:0,multiplicity:"m",shift:3.61},{proton:"OCH3",coupling:0,multiplicity:"s",shift:3.37}],name:"diglyme"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.37},{proton:"CH2",coupling:0,multiplicity:"s",shift:3.6}],name:"1,2-dimethoxyethane"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.08},{proton:"NCH3",coupling:0,multiplicity:"s",shift:3.06},{proton:"NCH3",coupling:0,multiplicity:"s",shift:2.9}],name:"dimethylacetamide"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:7.92},{proton:"CH3",coupling:0,multiplicity:"s",shift:3.01},{proton:"CH3",coupling:0,multiplicity:"s",shift:2.85}],name:"dimethylformamide"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:2.71}],name:"dimethyl_sulfoxide"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"s",shift:3.75}],name:"dioxane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:1.17},{proton:"CH2",coupling:7,multiplicity:"q",shift:3.65}],name:"ethanol"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.07},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:4.14},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:1.24}],name:"ethyl_acetate"},{shifts:[{proton:"CH3CO",coupling:0,multiplicity:"s",shift:2.19},{proton:"CH2CH3",coupling:7,multiplicity:"q",shift:3.18},{proton:"CH2CH3",coupling:7,multiplicity:"t",shift:1.26}],name:"ethyl_methyl_ketone"},{shifts:[{proton:"CH",coupling:0,multiplicity:"s",shift:3.65}],name:"ethylene_glycol"},{shifts:[],name:"grease^f"},{shifts:[],name:"n-hexane"},{shifts:[{proton:"CH3",coupling:9.5,multiplicity:"d",shift:2.61}],name:"HMPAg"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:3.34}],name:"methanol"},{shifts:[{proton:"CH3",coupling:0,multiplicity:"s",shift:4.4}],name:"nitromethane"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.9}],name:"n-pentane"},{shifts:[{proton:"CH3",coupling:6,multiplicity:"d",shift:1.17},{proton:"CH",coupling:6,multiplicity:"sep",shift:4.02}],name:"2-propanol"},{shifts:[{proton:"CH(2)",coupling:0,multiplicity:"m",shift:8.52},{proton:"CH(3)",coupling:0,multiplicity:"m",shift:7.45},{proton:"CH(4)",coupling:0,multiplicity:"m",shift:7.87}],name:"pyridine"},{shifts:[],name:"silicone_greasei"},{shifts:[{proton:"CH2",coupling:0,multiplicity:"m",shift:1.88},{proton:"CH2O",coupling:0,multiplicity:"m",shift:3.74}],name:"tetrahydrofuran"},{shifts:[],name:"toluene"},{shifts:[{proton:"CH3",coupling:7,multiplicity:"t",shift:.99},{proton:"CH2",coupling:7,multiplicity:"q",shift:2.57}],name:"triethylamine"}],solvent:"D2O"}]
},detectSignals:function(t,i,n){for(var o=[],e={},s=[1e5,0],r=16/i,l=0,p=0;p<t.length;p++)Math.abs(t[p][0]-s[0])>r?(e={nbPeaks:1,units:"PPM",startX:t[p][0]+t[p][2],stopX:t[p][0]-t[p][2],multiplicity:"",pattern:"",observe:i,nucleus:"1H",integralData:{from:t[p][0]-2*t[p][2],to:t[p][0]+2*t[p][2],value:this.area(t[p])},peaks:[]},e.peaks.push({x:t[p][0],intensity:t[p][1],width:t[p][2]}),o.push(e),l+=this.area(t[p])):(e.stopX=t[p][0]-t[p][2],e.nbPeaks++,e.peaks.push({x:t[p][0],intensity:t[p][1]}),e.integralData.value+=this.area(t[p]),e.integralData.from=t[p][0]-2*t[p][2],l+=this.area(t[p])),s=t[p];for(var p=0;p<o.length;p++){o[p].integralData.value*=n/l;for(var a=o[p].peaks,u=0,c=0,h=0;h<a.length;h++)u+=a[h].x*a[h].intensity,c+=a[h].intensity;o[p].delta1=u/c}return o},area:function(t){return Math.abs(t[1]*t[2]*1.772453851)},labelPeaks:function(t,i,n){var o=0;for(o=4;o<this.impurities.length&&!(this.impurities[0][o].indexOf(i)>=0);o++);var e=this.impurities.length-1,s=t.length;console.log(e);for(var r,l=new Array(e),p=0,a=0,u=0,c=.2,h=-1,f="",m=0,g=s-1;g>=0;g--)t[g][1]>m&&(m=t[g][1]);for(r=e-1;r>=0;r--){this.impurities[r+1][0]!=f&&(h++,f=this.impurities[r+1][0]),l[r]=[h,this.impurities[r+1][2],this.impurities[r+1][3],0,[],0],p=0;for(var g=s-1;g>=0;g--)a=1e4,this.impurities[r+1][o]>0&&(a=Math.abs(t[g][0]-this.impurities[r+1][o])),3*c>a&&(u=this.score(a,c),u>p&&(p=u,l[r][3]=p,l[r][4]=[g]))}for(var y=-1,C=0,H=0,d=[],v=[],r=e-1;r>=-1;){if(-1==r||l[r][0]!=y&&-1!=y){if(-1!=y&&(l[r+1][5]=C/H,l[r+1][5]>.9&&(u=this.updateScore(d,t,m,n),u>.9)))for(var g=0;g<d.length;g++)for(var b=d[g][4].length-1;b>=0;b--)v.push(t[d[g][4][b]]);r>=0&&(y=l[r][0],C=l[r][3],H=1,d=[l[r]])}else y=l[r][0],d.push(l[r]),C+=l[r][3],H++;r--}return v},updateScore:function(t,i,n,o){for(var e,s,r="",l=0,p=(this.maxJ/o,0),a=0,u=0,c=t.length-1;c>=0;c--){if(r=t[c][1],l=t[c][2],e=t[c][4][0],r.indexOf("sep")>=0)i[e][1]>.33*n&&t.splice(c,1);else if(r.indexOf("s")>=0||r.indexOf("X")>=0){for(s=e-1,p=i[e][1],a=e;s>=0&&Math.abs(i[e][0]-i[s][0])<.025;)i[s][1]<p&&(p=i[s][1],a=s),s--;for(s=e+1;s<i.length&&Math.abs(i[e][0]-i[s][0])<.025;)i[s][1]<p&&(p=i[s][1],a=s),s++;t[c][4][0]=a,u+=1}if(r.indexOf("d")>=0&&e>0&&e<i.length-1){var h=Math.abs(Math.abs(i[e-1][0]-i[e][0])*o-l),f=Math.abs(Math.abs(i[e+1][0]-i[e][0])*o-l),m=Math.abs(Math.abs(i[e+1][0]-i[e-1][0])*o-l);(2>h||2>f||2>m)&&(f>h?m>h?(t[c][4]=[e-1,e],u+=1):(t[c][4]=[e-1,e+1],u+=1):m>f?(t[c][4]=[e,e+1],u+=1):(t[c][4]=[e-1,e+1],u+=1))}if(r.indexOf("t")>=0&&e>0&&e<i.length-1){var h=Math.abs(Math.abs(i[e-1][0]-i[e][0])*o-l),f=Math.abs(Math.abs(i[e+1][0]-i[e][0])*o-l),g=Math.abs(Math.abs(i[e+1][0]-i[e+2][0])*o-l);2>h&&(t[c][4]=[e-1,e],u+=.5),2>f&&(t[c][4].push(e+1),u+=.5),2>m&&(t[c][4].push(e+2),u+=.5)}if(r.indexOf("q")>=0&&e>1&&e<i.length-2){var h=Math.abs(Math.abs(i[e-2][0]-i[e-1][0])*o-l),f=Math.abs(Math.abs(i[e-1][0]-i[e][0])*o-l),m=Math.abs(Math.abs(i[e+1][0]-i[e][0])*o-l),g=Math.abs(Math.abs(i[e+2][0]-i[e+1][0])*o-l);2>h&&(t[c][4].push(e-2),u+=.25),2>f&&(t[c][4].push(e-1),u+=.25),2>m&&(t[c][4].push(e+1),u+=.25),2>g&&(t[c][4].push(e+2),u+=.25)}}if(u/t.length<.5){for(var c=t.length-1;c>=0;c--)t.splice(c,1);return 0}return 1},score:function(t,i){return Math.exp(-Math.pow(t/i,2)/2)},createSignals:function(){},GSD:function(t){for(var i=t.getXYData(),n=i[1],o=i[0],e=Math.abs(t.getNoiseLevel()),s=n.length-1;s>=0;s--)Math.abs(n[s])<e&&(n[s]=0);for(var r=o[1]-o[0],l=[],p=new Array,a=new Array,u=new Array,c=2;c<o.length-2;c++)p.push(1/35*(-3*n[c-2]+12*n[c-1]+17*n[c]+12*n[c+1]-3*n[c+2])),l.push(o[c]),a.push(1/(12*r)*(n[c-2]-8*n[c-1]+8*n[c+1]-n[c+2])),u.push(1/(7*r*r)*(2*n[c-2]-n[c-1]-2*n[c]-n[c+1]+2*n[c+2]));for(var h=new Array,f=new Array,m=new Array,g=new Array,s=1;s<p.length-1;s++){if(p[s]>p[s-1]&&p[s]>p[s+1]&&h.push(l[s]),a[s]<a[s-1]&&a[s]<a[s+1]&&f.push(l[s]),a[s]>a[s-1]&&a[s]>a[s+1])try{m.push([l[s],f.pop()])}catch(y){console.log("Error I don't know why")}u[s]<u[s-1]&&u[s]<u[s+1]&&g.push([l[s],p[s]])}for(var C=new Array,H=new Array,c=0;c<g.length;c++){for(var d=g[c],v=d[0],b=new Array,X=0;X<m.length;X++){var s=m[X];v>s[0]&&v<s[1]&&b.push(s)}if(b.length>0)if(1==b.length){var M=b[0],A=M[1]-M[0],x=d[1],S=p;S.sort(function(t,i){return t-i}),A>2*r&&x>1e-4*S[0]&&(H.push([v,x,A]),C.push([v,x]))}else console.log("Nested "+b)}return H}};i.exports=n},{}],10:[function(t,i){var n=t("./FFTUtils"),o=t("./PeakOptimizer"),e=t("./SimpleClustering"),s=t("ml-stat/array"),r={DEBUG:!1,smallFilter:[[0,0,1,2,2,2,1,0,0],[0,1,4,7,7,7,4,1,0],[1,4,5,3,0,3,5,4,1],[2,7,3,-12,-23,-12,3,7,2],[2,7,0,-23,-40,-23,0,7,2],[2,7,3,-12,-23,-12,3,7,2],[1,4,5,3,0,3,5,4,1],[0,1,3,7,7,7,3,1,0],[0,0,1,2,2,2,1,0,0]],getLoGnStdDevNMR:function(t){return t.isHomoNuclear()?1.5:3},findPeaks2D:function(t,i){0==i&&(i=1),0>i&&(i=-i);for(var n=t.getNbPoints(),e=t.getNbSubSpectra(),s=new Array(n*e),r=t.isHomoNuclear(),l=0;e>l;l++)for(var p=t.getYData(l),a=0;n>a;a++)s[l*n+a]=r?p[a]>0?p[a]:0:Math.abs(p[a]);var u=this.getLoGnStdDevNMR(t);if(r){for(var c=this.convoluteWithLoG(s,e,n),h=this.findPeaks2DLoG(s,c,e,n,u*i),f=this.findPeaks2DMax(s,c,e,n,(u+.5)*i),m=0;m<h.length;m++)f.push(h[m]);return o.enhanceSymmetry(this.createSignals2D(f,t,24))}var c=this.convoluteWithLoG(s,e,n),h=this.findPeaks2DLoG(s,c,e,n,u*i);return this.createSignals2D(o.clean(h,.05),t,24)},convoluteWithLoG:function(t,i,o){for(var e=new Array(o*i),s=i*o-1;s>=0;s--)e[s]=t[s];e=n.fft2DArray(e,i,o);for(var r=this.smallFilter.length,l=new Array(o*i),s=o*i-1;s>=0;s--)l[s]=0;for(var p,a,u=(r-1)/2,c=0;r>c;c++){p=(c-u+i)%i;for(var h=0;r>h;h++)a=(h-u+o)%o,l[p*o+a]=this.smallFilter[c][h]}l=n.fft2DArray(l,i,o);var f=2*i,m=o/2+1;return n.convolute2DI(e,l,f,m),n.ifft2DArray(e,f,m)},findPeaks2DLoG:function(t,i,n,o,e){for(var s=0,r=o*n-2;r>=0;r--)s+=Math.pow(i[r]-i[r+1],2);s=-Math.sqrt(s),s*=e/n;for(var l=new Array(o*n),r=o*n-1;r>=0;r--)l[r]=0;for(var p=0,r=i.length-1;r>=0;r--)i[r]<s&&(l[r]=1,p++);for(var a=0,u=[];0!=p;){for(a;a<l.length&&0==l[a];a++);if(a==l.length)break;p-=this.extractArea(t,i,l,a,n,o,u,s)}return u.length>0&&this.DEBUG&&console.log("No peak found"),u},findPeaks2DMax:function(t,i,n,o,e){for(var s=0,r=o*n-2;r>=0;r--)s+=Math.pow(i[r]-i[r+1],2);s=-Math.sqrt(s),s*=e/n;for(var l,p,a=[],u=0,r=0;r<i.length;r++)i[r]<s&&(l=Math.floor(r/o),p=r%o,l>0&&n>l+1&&o>p+1&&p>0&&i[r]<i[r+1]&&i[r]<i[r-1]&&(u=(l-1)*o+p,i[r]<i[u-1]&&i[r]<i[u]&&i[r]<i[u+1]&&(u=(l+1)*o+p,i[r]<i[u-1]&&i[r]<i[u]&&i[r]<i[u+1]&&a.push({x:p,y:l,z:t[r]}))));return a},extractArea:function(t,i,n,o,e,r,l){var p=Math.floor(o/r),a=o%r,u=[];this.scanBitmask(n,e,r,p,a,u);var c=new Array(u.length),h=new Array(u.length),f=new Array(u.length),m=u.length,g=0,y=0,C=0;if(m>=9){this.DEBUG&&console.log("nValues="+m);for(var H=Number.NEGATIVE_INFINITY,d=-1,v=0;m>v;v++){var b=u.splice(0,1)[0];c[v]=b[0],h[v]=b[1],f[v]=t[b[1]*r+b[0]],g+=c[v]*f[v],y+=h[v]*f[v],C+=f[v],f[v]>H&&(H=f[v],d=v)}if(-1!=d){g/=C,y/=C;var X,M={x:g,y:y,z:C};X=s.minMax(c),M.minX=X.min,M.maxX=X.max,X=s.minMax(h),M.minY=X.min,M.maxY=X.max,l.push(M)}}return m},scanBitmask:function(t,i,n,o,e,s){0>o||0>e||e==n||o==i||t[o*n+e]&&(t[o*n+e]=0,s.push([e,o]),this.scanBitmask(t,i,n,o+1,e,s),this.scanBitmask(t,i,n,o-1,e,s),this.scanBitmask(t,i,n,o,e+1,s),this.scanBitmask(t,i,n,o,e-1,s))},createSignals2D:function(t,i,n){for(var o=[],s=(i.getNbSubSpectra(),i.observeFrequencyX()),r=i.observeFrequencyY(),l=i.getFirstY(),p=(i.getLastY(),i.getDeltaY()),a=t.length-1;a>=0;a--)t[a].x=i.arrayPointToUnits(t[a].x),t[a].y=l+p*t[a].y,(t[a].y<-1||t[a].y>=210)&&t.splice(a,1);var u=[],c=0;n*=n;for(var a=0;a<t.length;a++)for(var h=a;h<t.length;h++)c=Math.pow((t[a].x-t[h].x)*s,2)+Math.pow((t[a].y-t[h].y)*r,2),u.push(n>c?1:0);var f=e.fullClusterGenerator(u),o=[];if(null!=t)for(var m=0;m<f.length;m++){var g={nucleusX:i.getNucleus(1),nucleusY:i.getNucleus(2)};g.resolutionX=(i.getLastX()-i.getFirstX())/i.getNbPoints(),g.resolutionY=p;var y=[];g.shiftX=0,g.shiftY=0;for(var C=0,H=f[m].length-1;H>=0;H--)1==f[m][H]&&(y.push(t[H]),g.shiftX+=t[H].x*t[H].z,g.shiftY+=t[H].y*t[H].z,C+=t[H].z);g.shiftX/=C,g.shiftY/=C,g.peaks=y,o.push(g)}return o}};i.exports=r},{"./FFTUtils":5,"./PeakOptimizer":8,"./SimpleClustering":12,"ml-stat/array":3}],11:[function(t,i){function n(t){this.sd=t,this.activeElement=0,this.DATACLASS_XY=1,this.DATACLASS_PEAK=2,this.TYPE_NMR_SPECTRUM="NMR Spectrum",this.TYPE_NMR_FID="NMR FID",this.TYPE_IR="IR",this.TYPE_RAMAN="RAMAN",this.TYPE_UV="UV",this.TYPE_MASS="MASS",this.TYPE_HPLC="HPLC",this.TYPE_GC="GC",this.TYPE_CD="CD",this.TYPE_2DNMR_SPECTRUM="nD NMR SPECTRUM",this.TYPE_2DNMR_FID="nD NMR FID",this.TYPE_XY_DEC="XY DEC",this.TYPE_XY_INC="XY INC",this.TYPE_IV="IV"}var o=t("ml-stat/array"),e=t("jcampconverter");n.fromJcamp=function(t){var i=e.convert(t,{xy:!0});return new n(i)},n.prototype.setActiveElement=function(t){this.activeElement=t},n.prototype.getActiveElement=function(){return this.activeElement},n.prototype.getXUnits=function(){return this.getSpectrum().xUnit},n.prototype.getYUnits=function(){return this.getSpectrum().yUnit},n.prototype.getNbPoints=function(t){return this.getSpectrumData(t).y.length},n.prototype.getFirstX=function(t){return t=t||this.activeElement,this.sd.spectra[t].firstX},n.prototype.getLastX=function(t){return t=t||this.activeElement,this.sd.spectra[t].lastX},n.prototype.getFirstY=function(t){return t=t||this.activeElement,this.sd.spectra[t].firstY},n.prototype.getLastY=function(t){return t=t||this.activeElement,this.sd.spectra[t].lastY},n.prototype.setDataClass=function(t){t==this.DATACLASS_PEAK&&(this.getSpectrum().isPeaktable=!0,this.getSpectrum().isXYdata=!1),t==this.DATACLASS_XY&&(this.getSpectrum().isXYdata=!0,this.getSpectrum().isPeaktable=!1)},n.prototype.isDataClassPeak=function(){return this.getSpectrum().isPeaktable?this.getSpectrum().isPeaktable:!1},n.prototype.isDataClassXY=function(){return this.getSpectrum().isXYdata?this.getSpectrum().isXYdata:!1},n.prototype.setDataType=function(t){this.getSpectrum().dataType=t},n.prototype.getDataType=function(){return this.getSpectrum().dataType},n.prototype.getSpectrumData=function(t){return t=t||this.activeElement,this.sd.spectra[t].data[0]},n.prototype.getSpectrum=function(t){return t=t||this.activeElement,this.sd.spectra[t]},n.prototype.getNbSubSpectra=function(){return this.sd.spectra.length},n.prototype.getXData=function(t){return this.getSpectrumData(t).x},n.prototype.getYData=function(t){return this.getSpectrumData(t).y},n.prototype.getX=function(t){return this.getXData()[t]},n.prototype.getY=function(t){return this.getYData()[t]},n.prototype.getXYData=function(t){return[this.getXData(t),this.getYData(t)]},n.prototype.getTitle=function(t){return this.getSpectrum(t).title},n.prototype.setTitle=function(t,i){this.getSpectrum(i).title=t},n.prototype.getMinY=function(t){return o.min(this.getYData(t))},n.prototype.getMaxY=function(t){return o.max(this.getYData(t))},n.prototype.getMinMaxY=function(t){return o.minMax(this.getYData(t))},n.prototype.getNoiseLevel=function(){var t=0,i=0,n=this.getYData(),o=this.getNbPoints(),e=0;for(e=0;o>e;e++)t+=n[e];t/=this.getNbPoints();var s=new Array(o);for(e=0;o>e;e++)s[e]=Math.abs(n[e]-t);return s.sort(),i=o%2==1?s[(o-1)/2]/.6745:.5*(s[o/2]+s[o/2-1])/.6745,i*this.getNMRPeakThreshold(this.getNucleus(1))},n.prototype.arrayPointToUnits=function(t){return this.getFirstX()-t*(this.getFirstX()-this.getLastX())/(this.getNbPoints()-1)},n.prototype.unitsToArrayPoint=function(t){if(this.isDataClassXY())return Math.ceil((this.getFirstX()-t)*(-1/this.getInterval()));if(this.isDataClassPeak()){var i,n=0,o=this.getNbPoints()-1,e=0;if(this.getFirstX()>this.getLastX()){if(o=0,e=this.getNbPoints()-1,t>this.getFirstX())return this.getNbPoints();if(t<this.getLastX())return-1}else{if(t<this.getFirstX())return-1;if(t>this.getLastX())return this.getNbPoints()}for(;Math.abs(o-e)>1;){if(i=Math.round(Math.floor((o+e)/2)),this.getX(i)==t)return i;this.getX(i)>t?o=i:e=i}return n=e,Math.abs(this.getX(e)-t)>Math.abs(this.getX(o)-t)&&(n=o),n}return 0},n.prototype.getDeltaX=function(){return(this.getLastX()-this.getFirstX())/(this.getNbPoints()-1)},n.prototype.setMinMax=function(t,i){for(var n=this.getYData(),e=o.minMax(n),s=(i-t)/(e.max-e.min),r=0;r<n.length;r++)n[r]=(n[r]-e.min)*s+t},n.prototype.setMin=function(t){for(var i=this.getYData(),n=o.min(i),e=t/n,s=0;s<i.length;s++)i[s]*=e},n.prototype.setMax=function(t){for(var i=this.getYData(),n=o.max(i),e=t/n,s=0;s<i.length;s++)i[s]*=e},n.prototype.YShift=function(t){var i=this.getSpectrumData().y,n=this.getNbPoints(),o=0;for(o=0;n>o;o++)i[o]+=t;this.getSpectrum().firstY+=t,this.getSpectrum().lastY+=t},n.prototype.shift=function(t){for(var i=0;i<this.getNbSubSpectra();i++){this.setActiveElement(i);var n=this.getSpectrumData().x,o=this.getNbPoints(),i=0;for(i=0;o>i;i++)n[i]+=t;this.getSpectrum().firstX+=t,this.getSpectrum().lastX+=t}},n.prototype.fillWith=function(t,i,n){var o,e,s,r,l;if(t>i){var o=t;t=i,i=o}for(var p=0;p<this.getNbSubSpectra();p++)for(this.setActiveElement(p),r=this.getXData(),l=this.getYData(),e=this.unitsToArrayPoint(t),s=this.unitsToArrayPoint(i),e>s&&(o=e,e=s,s=o),0>e&&(e=0),s>=this.getNbPoints&&(s=this.getNbPoints-1),p=e;s>=p;p++)l[p]=n},n.prototype.suppressZone=function(t,i){var n,o,e,s,r;if(t>i){var n=t;t=i,i=n}for(var l=0;l<this.getNbSubSpectra();l++)for(this.setActiveElement(l),s=this.getXData(),r=this.getYData(),o=this.unitsToArrayPoint(t),e=this.unitsToArrayPoint(i),o>e&&(n=o,o=e,e=n),0>o&&(o=0),e>=this.getNbPoints&&(e=this.getNbPoints-1),l=e;l>=o;l--)r.splice(l,1),s.splice(l,1);this.setDataClass(this.DATACLASS_PEAK)},n.prototype.simplePeakPicking=function(){},n.prototype.getMaxPeak=function(){for(var t=this.getSpectraDataY(),i=t[0],n=0,o=0;o<t.length;o++)i<t[o]&&(i=t[o],n=o);return[this.getSpectraDataX()[n],i]},n.prototype.getParamDouble=function(t,i){var n=this.sd.info[t];return n||(n=i),n},n.prototype.getParamString=function(t,i){var n=this.sd.info[t];return n||(n=i),n+""},n.prototype.getParamInt=function(t,i){var n=this.sd.info[t];return n||(n=i),n},n.prototype.getSpectrumDataY=function(){return this.getYData()},n.prototype.getSpectraDataX=function(){return this.getXData()},n.prototype.putParam=function(t,i){this.sd.info[t]=i},n.prototype.getVector=function(t,i){var n=this.getSpectraDataX(),o=this.getSpectraDataY(),e=0,s=n.length-1,r=1,l=!1;if(n[0]>n[1]&&(r=-1,e=n.length-1,s=0),t>i){var p=t;t=i,i=p,l=!0}if(n[s]>t||n[e]>i)return[];for(;n[e]<t;)e+=r;if(n[s]>i)for(var s=e;n[s]<i;)s+=r;var a=Math.abs(s-e)+1,u=new Array(a),c=new Array(a),h=0;-1==r&&(h=a-1);var f=e-r;do f+=r,u[h]=n[f],c[h]=o[f],h+=r;while(f!=s);return[u,c]},n.prototype.is2D=function(){return!1},i.exports=n},{jcampconverter:2,"ml-stat/array":3}],12:[function(t,i){var n={fullClusterGenerator:function(t){var i=Math.sqrt(2*t.length+.25)-.5,n=[],o=new Array(i),e=i,s=0,r=[];for(s=i-1;s>=0;s--)o[s]=1;for(var l=-1,p=[];e>0;){if(0===p.length){for(r=new Array(i),s=i-1;s>=0;s--)r[s]=0;for(n.push(r),l=i-1;0==o[l];l--);}else l=p.splice(0,1);r[l]=1,o[l]=0,e--;var a=new Array(i);for(s=i-1;s>=0;s--){var u=Math.max(l,s),c=Math.min(l,s);a[s]=t[c*(2*i-c-1)/2+u],1==a[s]&&1==o[s]&&0==r[s]&&(p.push(s),r[s]=1)}}return n}};i.exports=n},{}],13:[function(t,i,n){(function(){var t;t="undefined"!=typeof n?n:{};var i={release:"0.3.0",date:"2013-03"};t.toString=function(){return"version "+i.release+", released "+i.date};for(var o=0,e=null,s=null,r={init:function(t){if(0===t||0!==(t&t-1))throw new Error("init: radix-2 required");o=t,r._initArray(),r._makeBitReversalTable(),r._makeCosSinTable()},fft1d:function(t,i){r.fft(t,i,1)},ifft1d:function(t,i){var n=1/o;r.fft(t,i,-1);for(var e=0;o>e;e++)t[e]*=n,i[e]*=n},bt1d:function(t,i){r.fft(t,i,-1)},fft2d:function(t,i){for(var n=[],e=[],s=0,l=0;o>l;l++){s=l*o;for(var p=0;o>p;p++)n[p]=t[p+s],e[p]=i[p+s];r.fft1d(n,e);for(var a=0;o>a;a++)t[a+s]=n[a],i[a+s]=e[a]}for(var u=0;o>u;u++){for(var c=0;o>c;c++)s=u+c*o,n[c]=t[s],e[c]=i[s];r.fft1d(n,e);for(var h=0;o>h;h++)s=u+h*o,t[s]=n[h],i[s]=e[h]}},ifft2d:function(t,i){for(var n=[],e=[],s=0,l=0;o>l;l++){s=l*o;for(var p=0;o>p;p++)n[p]=t[p+s],e[p]=i[p+s];r.ifft1d(n,e);for(var a=0;o>a;a++)t[a+s]=n[a],i[a+s]=e[a]}for(var u=0;o>u;u++){for(var c=0;o>c;c++)s=u+c*o,n[c]=t[s],e[c]=i[s];r.ifft1d(n,e);for(var h=0;o>h;h++)s=u+h*o,t[s]=n[h],i[s]=e[h]}},fft:function(t,i,n){for(var r,l,p,a,u,c,h,f,m,g=o>>2,y=0;o>y;y++)a=e[y],a>y&&(u=t[y],t[y]=t[a],t[a]=u,u=i[y],i[y]=i[a],i[a]=u);for(var C=1;o>C;C<<=1){l=0,r=o/(C<<1);for(var H=0;C>H;H++){c=s[l+g],h=n*s[l];for(var d=H;o>d;d+=C<<1)p=d+C,f=c*t[p]+h*i[p],m=c*i[p]-h*t[p],t[p]=t[d]-f,t[d]+=f,i[p]=i[d]-m,i[d]+=m;l+=r}}},_initArray:function(){e="undefined"!=typeof Uint32Array?new Uint32Array(o):[],s="undefined"!=typeof Float64Array?new Float64Array(1.25*o):[]},_paddingZero:function(){},_makeBitReversalTable:function(){var t=0,i=0,n=0;for(e[0]=0;++t<o;){for(n=o>>1;i>=n;)i-=n,n>>=1;i+=n,e[t]=i}},_makeCosSinTable:function(){var t=o>>1,i=o>>2,n=o>>3,e=t+i,r=Math.sin(Math.PI/o),l=2*r*r,p=Math.sqrt(l*(2-l)),a=s[i]=1,u=s[0]=0;r=2*l;for(var c=1;n>c;c++)a-=l,l+=r*a,u+=p,p-=r*u,s[c]=u,s[i-c]=a;0!==n&&(s[n]=Math.sqrt(.5));for(var h=0;i>h;h++)s[t-h]=s[h];for(var f=0;e>f;f++)s[f+t]=-s[f]}},l=["init","fft1d","ifft1d","fft2d","ifft2d"],p=0;p<l.length;p++)t[l[p]]=r[l[p]];return t.bt=r.bt1d,t.fft=r.fft1d,t.ifft=r.ifft1d,t}).call(this)},{}]},{},[1])(1)});
//# sourceMappingURL=spectra-data.min.js.map