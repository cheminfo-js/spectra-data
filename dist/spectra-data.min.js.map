{"version":3,"sources":["spectra-data.min.js"],"names":["e","exports","module","define","amd","f","window","global","self","spectraData","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"SD","NMR","NMR2D","ACS","./AcsParser","./NMR","./NMR2D","./SD",2,"getConverter","convertToFloatArray","stringArray","floatArray","Array","parseFloat","convert","jcamp","options","keepRecordsRegExp","ldr","dataLabel","dataValue","ldrs","ii","position","endLine","infos","start","Date","ntuples","result","profiling","logs","spectra","info","spectrum","push","action","time","split","replace","indexOf","substring","trim","toUpperCase","xIndex","yIndex","firstVariable","secondVariable","symbol","first","firstX","firstY","last","lastX","lastY","vardim","nbPoints","factor","xFactor","yFactor","units","xUnit","yUnit","datatable","deltaX","title","dataType","twoD","observeFrequency","xType","indirectFrequency","shiftOffsetNum","shiftOffsetVal","varname","vartype","varform","min","max","yType","page","pageValue","pageSymbol","pageSymbolIndex","unit","prepareSpectrum","match","parseXYData","parsePeakTable","isMSField","convertMSFieldToLabel","Object","keys","newNtuples","key","values","j","add2D","keepSpectra","toLowerCase","addGCMS","xy","data","newData","x","y","k","value","GC_MS_FIELDS","existingGCMSFields","label","gcms","gc","ms","shift","isPeaktable","jj","currentData","lines","removeCommentRegExp","peakTableSplitRegExp","isXYdata","lastDif","ascii","currentX","currentY","xyDataSplitRegExp","DEBUG","firstPoint","expectedCurrentX","charCodeAt","String","fromCharCode","dup","convertTo3DZ","noise","minZ","maxZ","ySize","xSize","z","Math","abs","minX","maxX","minY","maxY","zData","contourLines","generateContourLines","minMax","pAx","pAy","pBx","pBy","lineZValue","contourLevels","nbLevels","povarHeight","Float32Array","isOver","nbSubSpectra","nbPovars","x0","xN","dx","y0","yN","dy","level","contourLevel","side","exp","zValue","iSubSpectra","povar","segments","JcampConverter","input","useWorker","postToWorker","worker","createWorker","Promise","resolve","stamp","now","random","stamps","postMessage","workerURL","URL","createObjectURL","Blob","toString","type","Worker","revokeObjectURL","addEventListener","event","output",3,"Infinity","mean","sum","geometricMean","pow","logGeometricMean","lnsum","log","grandMean","means","samples","truncatedMean","percent","inPlace","slice","sort","floor","contraHarmonicMean","order","r1","r2","standardDeviation","unbiased","sqrt","variance","standardError","median","alreadySorted","half","quartiles","quart","q1","ceil","q2","q3","theMean","theVariance","pooledStandardDeviation","pooledVariance","vari","mode","itemCount","itemArray","count","index","maxValue","maxIndex","covariance","vector1","vector2","mean1","mean2","cov","skewness","s2","s3","dev","m2","m3","g","b","kurtosis","s4","m4","v","c","entropy","eps","weightedMean","weights","weightedStandardDeviation","weightedVariance","w","center","standardize","standardDev","cumulativeSum","array",4,"formater","fromNMRSignal1D2ACS","acsString","parenthesis","spectro","solvent","undefined","rangeForMultiplet","formatAcs_default","ascending","decimalValue","decimalJ","appendSeparator","appendSpectroInformation","numberSmartPeakLabels","signal","appendDelta","appendParenthesis","nucleus","formatNucleus","observe","toFixed","formatMF","line","nbDecimal","startX","stopX","delta1","pattern","appendMultiplicity","appendIntegration","appendCoupling","appendAssignment","pubIntegration","appendParenthesisSeparator","integralData","pubAssignment","formatAssignment","assignment","pubMultiplicity","multiplicity","nmrJs","coupling","mf","fromACS2NMRSignal1D","JSON","parse","SDAPI","AcsParserAsJSONString","toACS","toNMRSignal",5,"FFT","FFTUtils","ifft2DArray","ft","ftRows","ftCols","tempTransform","nRows","nCols","init","tmpCols","re","im","iCol","iRow","bt","finalTransform","tmpRows","scale","indexB","fft2DArray","iRow0","iRow1","iRow2","iRow3","row1","row2","fft1d","this","reconstructTwoRealFFT","fourierTransform","realTransform1","realTransform2","rm","rp","ip","convolute2DI","ftSignal","ftFilter","./fftlib",6,"sd","PeakPicking","prototype","create","constructor","fromJcamp","getNucleus","getSolventName","observeFrequencyX","getNMRPeakThreshold","addNoise","addSpectraDatas","autoBaseline","postFourierTransform","zeroFilling","haarWhittakerBaselineCorrection","whittakerBaselineCorrection","brukerSpectra","apodization","echoAntiechoFilter","SNVFilter","powerFilter","power","getMinY","YShift","console","warn","logarithmFilter","correlationFilter","phaseCorrection","automaticPhase","useBrukerPhase","nmrPeakDetection","parameters","nH","peakPicking","toJcamp","./PeakPicking","jcampconverter",7,"PeakPicking2D","isHomoNuclear","observeFrequencyY","getXUnits","getYUnits","getZUnits","getLastY","getFirstY","getDeltaY","getNbSubSpectra","nmrPeakDetection2D","thresholdFactor","id","round","peakList","findPeaks2D","_highlight","dim","./PeakPicking2D",8,"PeakOptimizer","diagonalError","tolerance","toleranceX","toleranceY","clean","peaks","threshold","Number","NEGATIVE_INFINITY","splice","enhanceSymmetry","signals","properties","initializeProperties","size","hits","exist","checkCrossPeaks","completeMissingIfNeeded","toReturn","thisSignal","thisProp","addedPeaks","newSignal","tmpProp","nucleusX","nucleusY","resolutionX","resolutionY","shiftX","shiftY","diagX","diagY","updateProperties","cross","crossPeaksX","crossPeaksY","symmetricSearch","distanceTo","signalsProperties","toImage",9,"impurities","maxJ","GSD","detectSignals","shifts","proton","name","frequency","signal1D","prevPeak","rangeX","spectrumIntegral","nbPeaks","from","to","area","intensity","width","cs","peak","labelPeaks","column","nImpurities","nPeaks","scores","diff","score","gamma","impurityID","prevImp","maxIntensity","prevIndex","candidates","impuritiesPeaks","updateScore","mul","indexMin","thisJ1","thisJ2","thisJ3","thisJ4","createSignals","getXYData","noiseLevel","getNoiseLevel","X","Y","dY","ddY","stackInt","intervals","minddY","pop","signalsS","frecuency","possible","inter","linewith","height","points",10,"SimpleClustering","StatArray","smallFilter","getLoGnStdDevNMR","getNbPoints","isHomonuclear","getYData","nStdDev","convolutedSpectrum","convoluteWithLoG","peaksMC1","findPeaks2DLoG","peaksMax1","findPeaks2DMax","createSignals2D","inputSpectrum","ftSpectrum","ftFilterData","ir","ic","bitmask","nbDetectedPoints","iStart","extractArea","rowI","colI","peakListMax","tmpIndex","peakPoints","scanBitmask","nValues","xAverage","yAverage","zSum","pt","minmax","newPeak","bf1","bf2","arrayPointToUnits","connectivity","tmp","clusters","fullClusterGenerator","iCluster","getLastX","getFirstX","peaks2D","sumZ","jPeak","./FFTUtils","./PeakOptimizer","./SimpleClustering","ml-stat/array",11,"activeElement","DATACLASS_XY","DATACLASS_PEAK","TYPE_NMR_SPECTRUM","TYPE_NMR_FID","TYPE_IR","TYPE_RAMAN","TYPE_UV","TYPE_MASS","TYPE_HPLC","TYPE_GC","TYPE_CD","TYPE_2DNMR_SPECTRUM","TYPE_2DNMR_FID","TYPE_XY_DEC","TYPE_XY_INC","TYPE_IV","setActiveElement","nactiveSpectrum","getActiveElement","getSpectrum","getSpectrumData","setDataClass","dataClass","isDataClassPeak","isDataClassXY","setDataType","getDataType","getXData","getX","getY","getTitle","setTitle","newTitle","getMaxY","getMinMaxY","stddev","averageDeviations","doublePoint","unitsToArrayPoint","inValue","getInterval","midPoint","currentArrayPoint","upperLimit","lowerLimit","getDeltaX","setMinMax","setMin","currentMin","setMax","globalShift","fillWith","end","suppressZone","simplePeakPicking","getMaxPeak","getSpectraDataY","getSpectraDataX","getParamDouble","defvalue","getParamString","getParamInt","getSpectrumDataY","putParam","getVector","direction","reversed","winPoints","xwin","ywin","is2D",12,"conn","clusterList","available","remaining","cluster","nextAv","toInclude","row",13,"version","release","date","_n","_bitrev","_cstb","core","_initArray","_makeBitReversalTable","_makeCosSinTable","fft","ifft1d","bt1d","fft2d","tre","tim","x1","x2","y1","y2","ifft2d","inv","d","h","ik","m","wr","wi","xr","xi","n4","Uint32Array","Float64Array","_paddingZero","n2","n8","n2p4","sin","PI","dc","ds","apis","ifft"],"mappings":"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","file":"spectra-data.min.js","sourcesContent":["/**\n * spectra-data - spectra-data project - manipulate spectra\n * @version v1.0.2\n * @link https://github.com/cheminfo-js/spectra-data\n * @license MIT\n */\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.spectraData=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n\nexports.SD = require('./SD');\nexports.NMR = require('./NMR');\nexports.NMR2D = require('./NMR2D');\nexports.ACS = require('./AcsParser');\n\n//exports.SD2 = require('/SD2');\n},{\"./AcsParser\":4,\"./NMR\":6,\"./NMR2D\":7,\"./SD\":11}],2:[function(require,module,exports){\n'use strict';\n\nfunction getConverter() {\n\n    // the following RegExp can only be used for XYdata, some peakTables have values with a \"E-5\" ...\n    var xyDataSplitRegExp = /[,\\t \\+-]*(?=[^\\d,\\t \\.])|[ \\t]+(?=[\\d+\\.-])/;\n    var removeCommentRegExp = /\\$\\$.*/;\n    var peakTableSplitRegExp = /[,\\t ]+/;\n    var DEBUG = false;\n\n    var GC_MS_FIELDS = ['TIC', '.RIC', 'SCANNUMBER'];\n\n    function convertToFloatArray(stringArray) {\n        var l = stringArray.length;\n        var floatArray = new Array(l);\n        for (var i = 0; i < l; i++) {\n            floatArray[i] = parseFloat(stringArray[i]);\n        }\n        return floatArray;\n    }\n\n    /*\n     options.keepSpectra: keep the original spectra for a 2D\n     options.xy: true // create x / y array instead of a 1D array\n     options.keepRecordsRegExp: which fields do we keep\n     */\n\n    function convert(jcamp, options) {\n        options = options || {};\n\n        var keepRecordsRegExp=/^[A-Z]+$/;\n        if (options.keepRecordsRegExp) keepRecordsRegExp=options.keepRecordsRegExp;\n\n        var start = new Date();\n\n        var ntuples = {},\n            ldr,\n            dataLabel,\n            dataValue,\n            ldrs,\n            i, ii, position, endLine, infos;\n\n        var result = {};\n        result.profiling = [];\n        result.logs = [];\n        var spectra = [];\n        result.spectra = spectra;\n        result.info = {};\n        var spectrum = {};\n\n        if (!(typeof jcamp == 'string')) return result;\n        // console.time('start');\n\n        if (result.profiling) result.profiling.push({action: 'Before split to LDRS', time: new Date() - start});\n\n        ldrs = jcamp.split(/[\\r\\n]+##/);\n\n        if (result.profiling) result.profiling.push({action: 'Split to LDRS', time: new Date() - start});\n\n        if (ldrs[0]) ldrs[0] = ldrs[0].replace(/^[\\r\\n ]*##/, '');\n\n        for (i = 0, ii = ldrs.length; i < ii; i++) {\n            ldr = ldrs[i];\n            // This is a new LDR\n            position = ldr.indexOf('=');\n            if (position > 0) {\n                dataLabel = ldr.substring(0, position);\n                dataValue = ldr.substring(position + 1).trim();\n            } else {\n                dataLabel = ldr;\n                dataValue = '';\n            }\n            dataLabel = dataLabel.replace(/[_ -]/g, '').toUpperCase();\n\n            if (dataLabel == 'DATATABLE') {\n                endLine = dataValue.indexOf('\\n');\n                if (endLine == -1) endLine = dataValue.indexOf('\\r');\n                if (endLine > 0) {\n                    var xIndex = -1;\n                    var yIndex = -1;\n                    // ##DATA TABLE= (X++(I..I)), XYDATA\n                    // We need to find the variables\n\n                    infos = dataValue.substring(0, endLine).split(/[ ,;\\t]{2,}/);\n                    if (infos[0].indexOf('++') > 0) {\n                        var firstVariable = infos[0].replace(/.*\\(([a-zA-Z0-9]+)\\+\\+.*/, '$1');\n                        var secondVariable = infos[0].replace(/.*\\.\\.([a-zA-Z0-9]+).*/, '$1');\n                        xIndex = ntuples.symbol.indexOf(firstVariable);\n                        yIndex = ntuples.symbol.indexOf(secondVariable);\n                    }\n\n                    if (xIndex == -1) xIndex = 0;\n                    if (yIndex == -1) yIndex = 0;\n\n                    if (ntuples.first) {\n                        if (ntuples.first.length > xIndex) spectrum.firstX = ntuples.first[xIndex];\n                        if (ntuples.first.length > yIndex) spectrum.firstY = ntuples.first[yIndex];\n                    }\n                    if (ntuples.last) {\n                        if (ntuples.last.length > xIndex) spectrum.lastX = ntuples.last[xIndex];\n                        if (ntuples.last.length > yIndex) spectrum.lastY = ntuples.last[yIndex];\n                    }\n                    if (ntuples.vardim && ntuples.vardim.length > xIndex) {\n                        spectrum.nbPoints = ntuples.vardim[xIndex];\n                    }\n                    if (ntuples.factor) {\n                        if (ntuples.factor.length > xIndex) spectrum.xFactor = ntuples.factor[xIndex];\n                        if (ntuples.factor.length > yIndex) spectrum.yFactor = ntuples.factor[yIndex];\n                    }\n                    if (ntuples.units) {\n                        if (ntuples.units.length > xIndex) spectrum.xUnit = ntuples.units[xIndex];\n                        if (ntuples.units.length > yIndex) spectrum.yUnit = ntuples.units[yIndex];\n                    }\n                    spectrum.datatable = infos[0];\n                    if (infos[1] && infos[1].indexOf('PEAKS') > -1) {\n                        dataLabel = 'PEAKTABLE';\n                    } else if (infos[1] && (infos[1].indexOf('XYDATA') || infos[0].indexOf('++') > 0)) {\n                        dataLabel = 'XYDATA';\n                        spectrum.deltaX = (spectrum.lastX - spectrum.firstX) / (spectrum.nbPoints - 1);\n                    }\n                }\n            }\n\n\n            if (dataLabel == 'TITLE') {\n                spectrum.title = dataValue;\n            } else if (dataLabel == 'DATATYPE') {\n                spectrum.dataType = dataValue;\n                if (dataValue.indexOf('nD') > -1) {\n                    result.twoD = true;\n                }\n            } else if (dataLabel == 'XUNITS') {\n                spectrum.xUnit = dataValue;\n            } else if (dataLabel == 'YUNITS') {\n                spectrum.yUnit = dataValue;\n            } else if (dataLabel == 'FIRSTX') {\n                spectrum.firstX = parseFloat(dataValue);\n            } else if (dataLabel == 'LASTX') {\n                spectrum.lastX = parseFloat(dataValue);\n            } else if (dataLabel == 'FIRSTY') {\n                spectrum.firstY = parseFloat(dataValue);\n            } else if (dataLabel == 'NPOINTS') {\n                spectrum.nbPoints = parseFloat(dataValue);\n            } else if (dataLabel == 'XFACTOR') {\n                spectrum.xFactor = parseFloat(dataValue);\n            } else if (dataLabel == 'YFACTOR') {\n                spectrum.yFactor = parseFloat(dataValue);\n            } else if (dataLabel == 'DELTAX') {\n                spectrum.deltaX = parseFloat(dataValue);\n            } else if (dataLabel == '.OBSERVEFREQUENCY' || dataLabel == '$SFO1') {\n                if (!spectrum.observeFrequency) spectrum.observeFrequency = parseFloat(dataValue);\n            } else if (dataLabel == '.OBSERVENUCLEUS') {\n                if (!spectrum.xType) result.xType = dataValue.replace(/[^a-zA-Z0-9]/g, '');\n            } else if (dataLabel == '$SFO2') {\n                if (!result.indirectFrequency) result.indirectFrequency = parseFloat(dataValue);\n\n            } else if (dataLabel == '$OFFSET') {   // OFFSET for Bruker spectra\n                result.shiftOffsetNum = 0;\n                if (!result.shiftOffsetVal)  result.shiftOffsetVal = parseFloat(dataValue);\n            } else if (dataLabel == '$REFERENCEPOINT') {   // OFFSET for Varian spectra\n\n\n                // if we activate this part it does not work for ACD specmanager\n                //         } else if (dataLabel=='.SHIFTREFERENCE') {   // OFFSET FOR Bruker Spectra\n                //                 var parts = dataValue.split(/ *, */);\n                //                 result.shiftOffsetNum = parseInt(parts[2].trim());\n                //                 result.shiftOffsetVal = parseFloat(parts[3].trim());\n            } else if (dataLabel == 'VARNAME') {\n                ntuples.varname = dataValue.split(/[, \\t]{2,}/);\n            } else if (dataLabel == 'SYMBOL') {\n                ntuples.symbol = dataValue.split(/[, \\t]{2,}/);\n            } else if (dataLabel == 'VARTYPE') {\n                ntuples.vartype = dataValue.split(/[, \\t]{2,}/);\n            } else if (dataLabel == 'VARFORM') {\n                ntuples.varform = dataValue.split(/[, \\t]{2,}/);\n            } else if (dataLabel == 'VARDIM') {\n                ntuples.vardim = convertToFloatArray(dataValue.split(/[, \\t]{2,}/));\n            } else if (dataLabel == 'UNITS') {\n                ntuples.units = dataValue.split(/[, \\t]{2,}/);\n            } else if (dataLabel == 'FACTOR') {\n                ntuples.factor = convertToFloatArray(dataValue.split(/[, \\t]{2,}/));\n            } else if (dataLabel == 'FIRST') {\n                ntuples.first = convertToFloatArray(dataValue.split(/[, \\t]{2,}/));\n            } else if (dataLabel == 'LAST') {\n                ntuples.last = convertToFloatArray(dataValue.split(/[, \\t]{2,}/));\n            } else if (dataLabel == 'MIN') {\n                ntuples.min = convertToFloatArray(dataValue.split(/[, \\t]{2,}/));\n            } else if (dataLabel == 'MAX') {\n                ntuples.max = convertToFloatArray(dataValue.split(/[, \\t]{2,}/));\n            } else if (dataLabel == '.NUCLEUS') {\n                if (result.twoD) {\n                    result.yType = dataValue.split(/[, \\t]{2,}/)[0];\n                }\n            } else if (dataLabel == 'PAGE') {\n                spectrum.page = dataValue.trim();\n                spectrum.pageValue = parseFloat(dataValue.replace(/^.*=/, ''));\n                spectrum.pageSymbol = spectrum.page.replace(/=.*/, '');\n                var pageSymbolIndex = ntuples.symbol.indexOf(spectrum.pageSymbol);\n                var unit = '';\n                if (ntuples.units && ntuples.units[pageSymbolIndex]) {\n                    unit = ntuples.units[pageSymbolIndex];\n                }\n                if (result.indirectFrequency && unit != 'PPM') {\n                    spectrum.pageValue /= result.indirectFrequency;\n                }\n            } else if (dataLabel == 'RETENTIONTIME') {\n                spectrum.pageValue = parseFloat(dataValue);\n            } else if (dataLabel == 'XYDATA') {\n                prepareSpectrum(result, spectrum);\n                // well apparently we should still consider it is a PEAK TABLE if there are no '++' after\n                if (dataValue.match(/.*\\+\\+.*/)) {\n                    parseXYData(spectrum, dataValue, result);\n                } else {\n                    parsePeakTable(spectrum, dataValue, result);\n                }\n                spectra.push(spectrum);\n                spectrum = {};\n            } else if (dataLabel == 'PEAKTABLE') {\n                prepareSpectrum(result, spectrum);\n                parsePeakTable(spectrum, dataValue, result);\n                spectra.push(spectrum);\n                spectrum = {};\n            } else if (isMSField(dataLabel)) {\n                spectrum[convertMSFieldToLabel(dataLabel)] = dataValue;\n            } else if (dataLabel.match(keepRecordsRegExp)) {\n                result.info[dataLabel] = dataValue.trim();\n            }\n        }\n\n        // Currently disabled\n        //    if (options && options.lowRes) addLowRes(spectra,options);\n\n        if (result.profiling) result.profiling.push({action: 'Finished parsing', time: new Date() - start});\n\n        if (Object.keys(ntuples).length>0) {\n            var newNtuples=[];\n            var keys=Object.keys(ntuples);\n            for (var i=0; i<keys.length; i++) {\n                var key=keys[i];\n                var values=ntuples[key];\n                for (var j=0; j<values.length; j++) {\n                    if (! newNtuples[j]) newNtuples[j]={};\n                    newNtuples[j][key]=values[j];\n                }\n            }\n            result.ntuples=newNtuples;\n        }\n\n        if (result.twoD) {\n            add2D(result);\n            if (result.profiling) result.profiling.push({\n                action: 'Finished countour plot calculation',\n                time: new Date() - start\n            });\n            if (!options.keepSpectra) {\n                delete result.spectra;\n            }\n        }\n\n\n        // maybe it is a GC (HPLC) / MS. In this case we add a new format\n        if (spectra.length > 1 && spectra[0].dataType && spectra[0].dataType.toLowerCase().match(/.*mass./)) {\n            addGCMS(result);\n            if (result.profiling) result.profiling.push({\n                action: 'Finished GCMS calculation',\n                time: new Date() - start\n            });\n        }\n\n\n        if (options.xy) { // the spectraData should not be a oneD array but an object with x and y\n            if (spectra.length > 0) {\n                for (var i=0; i<spectra.length; i++) {\n                    var spectrum=spectra[i];\n                    if (spectrum.data.length>0) {\n                        for (var j=0; j<spectrum.data.length; j++) {\n                            var data=spectrum.data[j];\n                            var newData={x:Array(data.length/2), y:Array(data.length/2)};\n                            for (var k=0; k<data.length; k=k+2) {\n                                newData.x[k/2]=data[k];\n                                newData.y[k/2]=data[k+1];\n                            }\n                            spectrum.data[j]=newData;\n                        }\n\n                    }\n\n                }\n            }\n        }\n\n        if (result.profiling) {\n            result.profiling.push({action: 'Total time', time: new Date() - start});\n        }\n\n        //   console.log(result);\n        //    console.log(JSON.stringify(spectra));\n        return result;\n\n    }\n\n\n    function convertMSFieldToLabel(value) {\n        return value.toLowerCase().replace(/[^a-z0-9]/g, '');\n    }\n\n    function isMSField(dataLabel) {\n        for (var i = 0; i < GC_MS_FIELDS.length; i++) {\n            if (dataLabel == GC_MS_FIELDS[i]) return true;\n        }\n        return false;\n    }\n\n    function addGCMS(result) {\n        var spectra = result.spectra;\n        var existingGCMSFields = [];\n        var i;\n        for (i = 0; i < GC_MS_FIELDS.length; i++) {\n            var label = convertMSFieldToLabel(GC_MS_FIELDS[i]);\n            if (spectra[0][label]) {\n                existingGCMSFields.push(label);\n            }\n        }\n        var gcms = {};\n        gcms.gc = {};\n        gcms.ms = [];\n        for (i = 0; i < existingGCMSFields.length; i++) {\n            gcms.gc[existingGCMSFields[i]] = [];\n        }\n        for (i = 0; i < spectra.length; i++) {\n            var spectrum = spectra[i];\n            for (var j = 0; j < existingGCMSFields.length; j++) {\n                gcms.gc[existingGCMSFields[j]].push(spectrum.pageValue);\n                gcms.gc[existingGCMSFields[j]].push(parseFloat(spectrum[existingGCMSFields[j]]));\n            }\n            if (spectrum.data) gcms.ms[i] = spectrum.data[0];\n\n        }\n        result.gcms = gcms;\n    }\n\n    function prepareSpectrum(result, spectrum) {\n        if (!spectrum.xFactor) spectrum.xFactor = 1;\n        if (!spectrum.yFactor) spectrum.yFactor = 1;\n        if (spectrum.observeFrequency) {\n            if (spectrum.xUnit && spectrum.xUnit.toUpperCase() == 'HZ') {\n                spectrum.xUnit = 'PPM';\n                spectrum.xFactor = spectrum.xFactor / spectrum.observeFrequency;\n                spectrum.firstX = spectrum.firstX / spectrum.observeFrequency;\n                spectrum.lastX = spectrum.lastX / spectrum.observeFrequency;\n                spectrum.deltaX = spectrum.deltaX / spectrum.observeFrequency;\n            }\n        }\n        if (result.shiftOffsetVal) {\n            var shift = spectrum.firstX - result.shiftOffsetVal;\n            spectrum.firstX = spectrum.firstX - shift;\n            spectrum.lastX = spectrum.lastX - shift;\n        }\n    }\n\n    function parsePeakTable(spectrum, value, result) {\n        spectrum.isPeaktable=true;\n        var i, ii, j, jj, values;\n        var currentData = [];\n        spectrum.data = [currentData];\n\n        // counts for around 20% of the time\n        var lines = value.split(/,? *,?[;\\r\\n]+ */);\n\n        var k = 0;\n        for (i = 1, ii = lines.length; i < ii; i++) {\n            values = lines[i].trim().replace(removeCommentRegExp, '').split(peakTableSplitRegExp);\n            if (values.length % 2 == 0) {\n                for (j = 0, jj = values.length; j < jj; j = j + 2) {\n                    // takes around 40% of the time to add and parse the 2 values nearly exclusively because of parseFloat\n                    currentData[k++] = (parseFloat(values[j]) * spectrum.xFactor);\n                    currentData[k++] = (parseFloat(values[j + 1]) * spectrum.yFactor);\n                }\n            } else {\n                result.logs.push('Format error: ' + values);\n            }\n        }\n    }\n\n    function parseXYData(spectrum, value, result) {\n        // we check if deltaX is defined otherwise we calculate it\n        if (!spectrum.deltaX) {\n            spectrum.deltaX = (spectrum.lastX - spectrum.firstX) / (spectrum.nbPoints - 1);\n        }\n\n        spectrum.isXYdata=true;\n\n        var currentData = [];\n        spectrum.data = [currentData];\n\n        var currentX = spectrum.firstX;\n        var currentY = spectrum.firstY;\n        var lines = value.split(/[\\r\\n]+/);\n        var lastDif, values, ascii, expectedY;\n        values = [];\n        for (var i = 1, ii = lines.length; i < ii; i++) {\n            //var previousValues=JSON.parse(JSON.stringify(values));\n            values = lines[i].trim().replace(removeCommentRegExp, '').split(xyDataSplitRegExp);\n            if (values.length > 0) {\n                if (DEBUG) {\n                    if (!spectrum.firstPoint) {\n                        spectrum.firstPoint = parseFloat(values[0]);\n                    }\n                    var expectedCurrentX = parseFloat(values[0] - spectrum.firstPoint) * spectrum.xFactor + spectrum.firstX;\n                    if ((lastDif || lastDif == 0)) {\n                        expectedCurrentX += spectrum.deltaX;\n                    }\n                    result.logs.push('Checking X value: currentX: ' + currentX + ' - expectedCurrentX: ' + expectedCurrentX);\n                }\n                for (var j = 1, jj = values.length; j < jj; j++) {\n                    if (j == 1 && (lastDif || lastDif == 0)) {\n                        lastDif = null; // at the beginning of each line there should be the full value X / Y so the diff is always undefined\n                        // we could check if we have the expected Y value\n                        ascii = values[j].charCodeAt(0);\n\n                        if (false) { // this code is just to check the jcamp DIFDUP and the next line repeat of Y value\n                            // + - . 0 1 2 3 4 5 6 7 8 9\n                            if ((ascii == 43) || (ascii == 45) || (ascii == 46) || ((ascii > 47) && (ascii < 58))) {\n                                expectedY = parseFloat(values[j]);\n                            } else\n                            // positive SQZ digits @ A B C D E F G H I (ascii 64-73)\n                            if ((ascii > 63) && (ascii < 74)) {\n                                // we could use parseInt but parseFloat is faster at least in Chrome\n                                expectedY = parseFloat(String.fromCharCode(ascii - 16) + values[j].substring(1));\n                            } else\n                            // negative SQZ digits a b c d e f g h i (ascii 97-105)\n                            if ((ascii > 96) && (ascii < 106)) {\n                                // we could use parseInt but parseFloat is faster at least in Chrome\n                                expectedY = -parseFloat(String.fromCharCode(ascii - 48) + values[j].substring(1));\n                            }\n                            if (expectedY != currentY) {\n                                result.logs.push('Y value check error: Found: ' + expectedY + ' - Current: ' + currentY);\n                                result.logs.push('Previous values: ' + previousValues.length);\n                                result.logs.push(previousValues);\n                            }\n                        }\n                    } else {\n                        if (values[j].length > 0) {\n                            ascii = values[j].charCodeAt(0);\n                            // + - . 0 1 2 3 4 5 6 7 8 9\n                            if ((ascii == 43) || (ascii == 45) || (ascii == 46) || ((ascii > 47) && (ascii < 58))) {\n                                lastDif = null;\n                                currentY = parseFloat(values[j]);\n                                currentData.push(currentX, currentY * spectrum.yFactor);;\n                                currentX += spectrum.deltaX;\n                            } else\n                            // positive SQZ digits @ A B C D E F G H I (ascii 64-73)\n                            if ((ascii > 63) && (ascii < 74)) {\n                                lastDif = null;\n                                currentY = parseFloat(String.fromCharCode(ascii - 16) + values[j].substring(1));\n                                currentData.push(currentX, currentY * spectrum.yFactor);;\n                                currentX += spectrum.deltaX;\n                            } else\n                            // negative SQZ digits a b c d e f g h i (ascii 97-105)\n                            if ((ascii > 96) && (ascii < 106)) {\n                                lastDif = null;\n                                currentY = -parseFloat(String.fromCharCode(ascii - 48) + values[j].substring(1));\n                                currentData.push(currentX, currentY * spectrum.yFactor);;\n                                currentX += spectrum.deltaX;\n                            } else\n\n\n\n                            // DUP digits S T U V W X Y Z s (ascii 83-90, 115)\n                            if (((ascii > 82) && (ascii < 91)) || (ascii == 115)) {\n                                var dup = parseFloat(String.fromCharCode(ascii - 34) + values[j].substring(1)) - 1;\n                                if (ascii == 115) {\n                                    dup = parseFloat('9' + values[j].substring(1)) - 1;\n                                }\n                                for (var l = 0; l < dup; l++) {\n                                    if (lastDif) {\n                                        currentY = currentY + lastDif;\n                                    }\n                                    currentData.push(currentX, currentY * spectrum.yFactor);;\n                                    currentX += spectrum.deltaX;\n                                }\n                            } else\n                            // positive DIF digits % J K L M N O P Q R (ascii 37, 74-82)\n                            if (ascii == 37) {\n                                lastDif = parseFloat('0' + values[j].substring(1));\n                                currentY += lastDif;\n                                currentData.push(currentX, currentY * spectrum.yFactor);;\n                                currentX += spectrum.deltaX;\n                            } else if ((ascii > 73) && (ascii < 83)) {\n                                lastDif = parseFloat(String.fromCharCode(ascii - 25) + values[j].substring(1));\n                                currentY += lastDif;\n                                currentData.push(currentX, currentY * spectrum.yFactor);;\n                                currentX += spectrum.deltaX;\n                            } else\n                            // negative DIF digits j k l m n o p q r (ascii 106-114)\n                            if ((ascii > 105) && (ascii < 115)) {\n                                lastDif = -parseFloat(String.fromCharCode(ascii - 57) + values[j].substring(1));\n                                currentY += lastDif;\n                                currentData.push(currentX, currentY * spectrum.yFactor);;\n                                currentX += spectrum.deltaX;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n    }\n\n    function convertTo3DZ(spectra) {\n        var noise = 0;\n        var minZ = spectra[0].data[0][0];\n        var maxZ = minZ;\n        var ySize = spectra.length;\n        var xSize = spectra[0].data[0].length / 2;\n        var z = new Array(ySize);\n        for (var i = 0; i < ySize; i++) {\n            z[i] = new Array(xSize);\n            for (var j = 0; j < xSize; j++) {\n                z[i][j] = spectra[i].data[0][j * 2 + 1];\n                if (z[i][j] < minZ) minZ = spectra[i].data[0][j * 2 + 1];\n                if (z[i][j] > maxZ) maxZ = spectra[i].data[0][j * 2 + 1];\n                if (i != 0 && j != 0) {\n                    noise += Math.abs(z[i][j] - z[i][j - 1]) + Math.abs(z[i][j] - z[i - 1][j]);\n                }\n            }\n        }\n        return {\n            z: z,\n            minX: spectra[0].data[0][0],\n            maxX: spectra[0].data[0][spectra[0].data[0].length - 2],\n            minY: spectra[0].pageValue,\n            maxY: spectra[ySize - 1].pageValue,\n            minZ: minZ,\n            maxZ: maxZ,\n            noise: noise / ((ySize - 1) * (xSize - 1) * 2)\n        };\n\n    }\n\n    function add2D(result) {\n        var zData = convertTo3DZ(result.spectra);\n        result.contourLines = generateContourLines(zData);\n        delete zData.z;\n        result.minMax = zData;\n    }\n\n\n    function generateContourLines(zData, options) {\n        //console.time('generateContourLines');\n        var noise = zData.noise;\n        var z = zData.z;\n        var contourLevels = [];\n        var nbLevels = 7;\n        var povarHeight = new Float32Array(4);\n        var isOver = [];\n        var nbSubSpectra = z.length;\n        var nbPovars = z[0].length;\n        var pAx, pAy, pBx, pBy;\n\n        var x0 = zData.minX;\n        var xN = zData.maxX;\n        var dx = (xN - x0) / (nbPovars - 1);\n        var y0 = zData.minY;\n        var yN = zData.maxY;\n        var dy = (yN - y0) / (nbSubSpectra - 1);\n        var minZ = zData.minZ;\n        var maxZ = zData.maxZ;\n\n        //System.out.prvarln('y0 '+y0+' yN '+yN);\n        // -------------------------\n        // Povars attribution\n        //\n        // 0----1\n        // |  / |\n        // | /  |\n        // 2----3\n        //\n        // ---------------------d------\n\n        var lineZValue;\n        for (var level = 0; level < nbLevels * 2; level++) { // multiply by 2 for positif and negatif\n            var contourLevel = {};\n            contourLevels.push(contourLevel);\n            var side = level % 2;\n            if (side == 0) {\n                lineZValue = (maxZ - 5 * noise) * Math.exp(level / 2 - nbLevels) + 5 * noise;\n            } else {\n                lineZValue = -(maxZ - 5 * noise) * Math.exp(level / 2 - nbLevels) - 5 * noise;\n            }\n            var lines = [];\n            contourLevel.zValue = lineZValue;\n            contourLevel.lines = lines;\n\n            if (lineZValue <= minZ || lineZValue >= maxZ) continue;\n\n            for (var iSubSpectra = 0; iSubSpectra < nbSubSpectra - 1; iSubSpectra++) {\n                for (var povar = 0; povar < nbPovars - 1; povar++) {\n                    povarHeight[0] = z[iSubSpectra][povar];\n                    povarHeight[1] = z[iSubSpectra][povar + 1];\n                    povarHeight[2] = z[(iSubSpectra + 1)][povar];\n                    povarHeight[3] = z[(iSubSpectra + 1)][(povar + 1)];\n\n                    for (var i = 0; i < 4; i++) {\n                        isOver[i] = (povarHeight[i] > lineZValue);\n                    }\n\n                    // Example povar0 is over the plane and povar1 and\n                    // povar2 are below, we find the varersections and add\n                    // the segment\n                    if (isOver[0] != isOver[1] && isOver[0] != isOver[2]) {\n                        pAx = povar + (lineZValue - povarHeight[0]) / (povarHeight[1] - povarHeight[0]);\n                        pAy = iSubSpectra;\n                        pBx = povar;\n                        pBy = iSubSpectra + (lineZValue - povarHeight[0]) / (povarHeight[2] - povarHeight[0]);\n                        lines.push(pAx * dx + x0, pAy * dy + y0, pBx * dx + x0, pBy * dy + y0);\n                    }\n                    if (isOver[3] != isOver[1] && isOver[3] != isOver[2]) {\n                        pAx = povar + 1;\n                        pAy = iSubSpectra + 1 - (lineZValue - povarHeight[3]) / (povarHeight[1] - povarHeight[3]);\n                        pBx = povar + 1 - (lineZValue - povarHeight[3]) / (povarHeight[2] - povarHeight[3]);\n                        pBy = iSubSpectra + 1;\n                        lines.push(pAx * dx + x0, pAy * dy + y0, pBx * dx + x0, pBy * dy + y0);\n                    }\n                    // test around the diagonal\n                    if (isOver[1] != isOver[2]) {\n                        pAx = povar + 1 - (lineZValue - povarHeight[1]) / (povarHeight[2] - povarHeight[1]);\n                        pAy = iSubSpectra + (lineZValue - povarHeight[1]) / (povarHeight[2] - povarHeight[1]);\n                        if (isOver[1] != isOver[0]) {\n                            pBx = povar + 1 - (lineZValue - povarHeight[1]) / (povarHeight[0] - povarHeight[1]);\n                            pBy = iSubSpectra;\n                            lines.push(pAx * dx + x0, pAy * dy + y0, pBx * dx + x0, pBy * dy + y0);\n                        }\n                        if (isOver[2] != isOver[0]) {\n                            pBx = povar;\n                            pBy = iSubSpectra + 1 - (lineZValue - povarHeight[2]) / (povarHeight[0] - povarHeight[2]);\n                            lines.push(pAx * dx + x0, pAy * dy + y0, pBx * dx + x0, pBy * dy + y0);\n                        }\n                        if (isOver[1] != isOver[3]) {\n                            pBx = povar + 1;\n                            pBy = iSubSpectra + (lineZValue - povarHeight[1]) / (povarHeight[3] - povarHeight[1]);\n                            lines.push(pAx * dx + x0, pAy * dy + y0, pBx * dx + x0, pBy * dy + y0);\n                        }\n                        if (isOver[2] != isOver[3]) {\n                            pBx = povar + (lineZValue - povarHeight[2]) / (povarHeight[3] - povarHeight[2]);\n                            pBy = iSubSpectra + 1;\n                            lines.push(pAx * dx + x0, pAy * dy + y0, pBx * dx + x0, pBy * dy + y0);\n                        }\n                    }\n                }\n            }\n        }\n        // console.timeEnd('generateContourLines');\n        return {\n            minX: zData.minX,\n            maxX: zData.maxX,\n            minY: zData.minY,\n            maxY: zData.maxY,\n            segments: contourLevels\n        };\n        //return contourLevels;\n    }\n\n\n    function addLowRes(spectra, options) {\n        var spectrum;\n        var averageX, averageY;\n        var targetNbPoints = options.lowRes;\n        var highResData;\n        for (var i = 0; i < spectra.length; i++) {\n            spectrum = spectra[i];\n            // we need to find the current higher resolution\n            if (spectrum.data.length > 0) {\n                highResData = spectrum.data[0];\n                for (var j = 1; j < spectrum.data.length; j++) {\n                    if (spectrum.data[j].length > highResData.length) {\n                        highResData = spectrum.data[j];\n                    }\n                }\n\n                if (targetNbPoints > (highResData.length / 2)) return;\n                var i, ii;\n                var lowResData = [];\n                var modulo = Math.ceil(highResData.length / (targetNbPoints * 2));\n                for (i = 0, ii = highResData.length; i < ii; i = i + 2) {\n                    if (i % modulo == 0) {\n                        lowResData.push(highResData[i], highResData[i + 1])\n                    }\n                }\n                spectrum.data.push(lowResData);\n            }\n        }\n    }\n\n    return convert;\n\n}\n\nvar convert = getConverter();\n\nfunction JcampConverter(input, options, useWorker) {\n    if (typeof options === 'boolean') {\n        useWorker = options;\n        options = {};\n    }\n    if (useWorker) {\n        return postToWorker(input, options);\n    } else {\n        return convert(input, options);\n    }\n}\n\nvar stamps = {},\n    worker;\n\nfunction postToWorker(input, options) {\n    if (!worker) {\n        createWorker();\n    }\n    return new Promise(function (resolve) {\n        var stamp = Date.now() + '' + Math.random();\n        stamps[stamp] = resolve;\n        worker.postMessage({stamp: stamp, input: input, options: options});\n    });\n}\n\nfunction createWorker() {\n    var workerURL = URL.createObjectURL(new Blob([\n        'var getConverter =' + getConverter.toString() + ';var convert = getConverter(); onmessage = function (event) { postMessage({stamp: event.data.stamp, output: convert(event.data.input, event.data.options)}); };'\n    ], {type: 'application/javascript'}));\n    worker = new Worker(workerURL);\n    URL.revokeObjectURL(workerURL);\n    worker.addEventListener('message', function (event) {\n        var stamp = event.data.stamp;\n        if (stamps[stamp]) {\n            stamps[stamp](event.data.output);\n        }\n    });\n}\n\nmodule.exports = {\n    convert: JcampConverter\n};\n},{}],3:[function(require,module,exports){\n'use strict';\n// https://github.com/accord-net/framework/blob/development/Sources/Accord.Statistics/Tools.cs\n\nfunction max(values) {\n    var max = -Infinity, l = values.length;\n    for (var i = 0; i < l; i++) {\n        if (values[i] > max) max = values[i];\n    }\n    return max;\n}\n\nfunction min(values) {\n    var min = Infinity, l = values.length;\n    for (var i = 0; i < l; i++) {\n        if (values[i] < min) min = values[i];\n    }\n    return min;\n}\n\nfunction minMax(values) {\n    var min = Infinity,\n        max = -Infinity,\n        l = values.length;\n    for (var i = 0; i < l; i++) {\n        if (values[i] < min) min = values[i];\n        if (values[i] > max) max = values[i];\n    }\n    return {\n        min: min,\n        max: max\n    };\n}\n\nfunction mean(values) {\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i];\n    return sum / l;\n}\n\nfunction geometricMean(values) {\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum *= values[i];\n    return Math.pow(sum, 1 / l);\n}\n\nfunction logGeometricMean(values) {\n    var lnsum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        lnsum += Math.log(values[i]);\n    return lnsum / l;\n}\n\nfunction grandMean(means, samples) {\n    var sum = 0, n = 0, l = means.length;\n    for (var i = 0; i < l; i++) {\n        sum += samples[i] * means[i];\n        n += samples[i];\n    }\n    return sum / n;\n}\n\nfunction truncatedMean(values, percent, inPlace) {\n    if (typeof(inPlace) === 'undefined') inPlace = false;\n\n    values = inPlace ? values : values.slice();\n    values.sort();\n\n    var l = values.length;\n    var k = Math.floor(l * percent);\n\n    var sum = 0;\n    for (var i = k; i < l - k; i++)\n        sum += values[i];\n\n    return sum / (l - 2 * k);\n}\n\nfunction contraHarmonicMean(values, order) {\n    if (typeof(order) === 'undefined') order = 1;\n    var r1 = 0, r2 = 0, l = values.length;\n    for (var i = 0; i < l; i++) {\n        r1 += Math.pow(values[i], order + 1);\n        r2 += Math.pow(values[i], order);\n    }\n    return r1 / r2;\n}\n\nfunction standardDeviation(values, unbiased) {\n    return Math.sqrt(variance(values, unbiased));\n}\n\nfunction standardError(values) {\n    return standardDeviation(values) / Math.sqrt(values.length);\n}\n\nfunction median(values, alreadySorted) {\n    if (typeof(alreadySorted) === 'undefined') alreadySorted = false;\n    if (!alreadySorted) {\n        values = values.slice();\n        values.sort();\n    }\n\n    var l = values.length;\n    var half = Math.floor(l / 2);\n    if (l % 2 === 0)\n        return (values[half - 1] + values[half]) * 0.5;\n    return values[half];\n}\n\nfunction quartiles(values, alreadySorted) {\n    if (typeof(alreadySorted) === 'undefined') alreadySorted = false;\n    if (!alreadySorted) {\n        values = values.slice();\n        values.sort();\n    }\n\n    var quart = values.length / 4;\n    var q1 = values[Math.ceil(quart) - 1];\n    var q2 = median(values, true);\n    var q3 = values[Math.ceil(quart * 3) - 1];\n\n    return {q1: q1, q2: q2, q3: q3};\n}\n\nfunction variance(values, unbiased) {\n    if (typeof(unbiased) === 'undefined') unbiased = true;\n    var theMean = mean(values);\n    var theVariance = 0, l = values.length;\n\n    for (var i = 0; i < l; i++) {\n        var x = values[i] - theMean;\n        theVariance += x * x;\n    }\n\n    if (unbiased)\n        return theVariance / (l - 1);\n    else\n        return theVariance / l;\n}\n\nfunction pooledStandardDeviation(samples, unbiased) {\n    return Math.sqrt(pooledVariance(samples, unbiased));\n}\n\nfunction pooledVariance(samples, unbiased) {\n    if (typeof(unbiased) === 'undefined') unbiased = true;\n    var sum = 0;\n    var length = 0, l = samples.length;\n    for (var i = 0; i < l; i++) {\n        var values = samples[i];\n        var vari = variance(values);\n\n        sum += (values.length - 1) * vari;\n\n        if (unbiased)\n            length += values.length - 1;\n        else\n            length += values.length;\n    }\n    return sum / length;\n}\n\nfunction mode(values) {\n    var l = values.length,\n        itemCount = new Array(l),\n        i;\n    for (i = 0; i < l; i++) {\n        itemCount[i] = 0;\n    }\n    var itemArray = new Array(l);\n    var count = 0;\n\n    for (i = 0; i < l; i++) {\n        var index = itemArray.indexOf(values[i]);\n        if (index >= 0)\n            itemCount[index]++;\n        else {\n            itemArray[count] = values[i];\n            itemCount[count] = 1;\n            count++;\n        }\n    }\n\n    var maxValue = 0, maxIndex = 0;\n    for (i = 0; i < count; i++) {\n        if (itemCount[i] > maxValue) {\n            maxValue = itemCount[i];\n            maxIndex = i;\n        }\n    }\n\n    return itemArray[maxIndex];\n}\n\nfunction covariance(vector1, vector2, unbiased) {\n    if (typeof(unbiased) === 'undefined') unbiased = true;\n    var mean1 = mean(vector1);\n    var mean2 = mean(vector2);\n\n    if (vector1.length !== vector2.length)\n        throw \"Vectors do not have the same dimensions\";\n\n    var cov = 0, l = vector1.length;\n    for (var i = 0; i < l; i++) {\n        var x = vector1[i] - mean1;\n        var y = vector2[i] - mean2;\n        cov += x * y;\n    }\n\n    if (unbiased)\n        return cov / (l - 1);\n    else\n        return cov / l;\n}\n\nfunction skewness(values, unbiased) {\n    if (typeof(unbiased) === 'undefined') unbiased = true;\n    var theMean = mean(values);\n\n    var s2 = 0, s3 = 0, l = values.length;\n    for (var i = 0; i < l; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s3 += dev * dev * dev;\n    }\n    var m2 = s2 / l;\n    var m3 = s3 / l;\n\n    var g = m3 / (Math.pow(m2, 3 / 2.0));\n    if (unbiased) {\n        var a = Math.sqrt(l * (l - 1));\n        var b = l - 2;\n        return (a / b) * g;\n    }\n    else {\n        return g;\n    }\n}\n\nfunction kurtosis(values, unbiased) {\n    if (typeof(unbiased) === 'undefined') unbiased = true;\n    var theMean = mean(values);\n    var n = values.length, s2 = 0, s4 = 0;\n\n    for (var i = 0; i < n; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s4 += dev * dev * dev * dev;\n    }\n    var m2 = s2 / n;\n    var m4 = s4 / n;\n\n    if (unbiased) {\n        var v = s2 / (n - 1);\n        var a = (n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3));\n        var b = s4 / (v * v);\n        var c = ((n - 1) * (n - 1)) / ((n - 2) * (n - 3));\n\n        return a * b - 3 * c;\n    }\n    else {\n        return m4 / (m2 * m2) - 3;\n    }\n}\n\nfunction entropy(values, eps) {\n    if (typeof(eps) === 'undefined') eps = 0;\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * Math.log(values[i] + eps);\n    return -sum;\n}\n\nfunction weightedMean(values, weights) {\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * weights[i];\n    return sum;\n}\n\nfunction weightedStandardDeviation(values, weights) {\n    return Math.sqrt(weightedVariance(values, weights));\n}\n\nfunction weightedVariance(values, weights) {\n    var theMean = weightedMean(values, weights);\n    var vari = 0, l = values.length;\n    var a = 0, b = 0;\n\n    for (var i = 0; i < l; i++) {\n        var z = values[i] - theMean;\n        var w = weights[i];\n\n        vari += w * (z * z);\n        b += w;\n        a += w * w;\n    }\n\n    return vari * (b / (b * b - a));\n}\n\nfunction center(values, inPlace) {\n    if (typeof(inPlace) === 'undefined') inPlace = false;\n\n    var result = values;\n    if (!inPlace)\n        result = values.slice();\n\n    var theMean = mean(result), l = result.length;\n    for (var i = 0; i < l; i++)\n        result[i] -= theMean;\n}\n\nfunction standardize(values, standardDev, inPlace) {\n    if (typeof(standardDev) === 'undefined') standardDev = standardDeviation(values);\n    if (typeof(inPlace) === 'undefined') inPlace = false;\n    var l = values.length;\n    var result = inPlace ? values : new Array(l);\n    for (var i = 0; i < l; i++)\n        result[i] = values[i] / standardDev;\n    return result;\n}\n\nfunction cumulativeSum(array) {\n    var l = array.length;\n    var result = new Array(l);\n    result[0] = array[0];\n    for (var i = 1; i < l; i++)\n        result[i] = result[i - 1] + array[i];\n    return result;\n}\n\nmodule.exports = {\n    min: min,\n    max: max,\n    minMax: minMax,\n    mean: mean,\n    geometricMean: geometricMean,\n    logGeometricMean: logGeometricMean,\n    grandMean: grandMean,\n    truncatedMean: truncatedMean,\n    contraHarmonicMean: contraHarmonicMean,\n    standardDeviation: standardDeviation,\n    standardError: standardError,\n    median: median,\n    quartiles: quartiles,\n    variance: variance,\n    pooledStandardDeviation: pooledStandardDeviation,\n    pooledVariance: pooledVariance,\n    mode: mode,\n    covariance: covariance,\n    skewness: skewness,\n    kurtosis: kurtosis,\n    entropy: entropy,\n    weightedMean: weightedMean,\n    weightedStandardDeviation: weightedStandardDeviation,\n    weightedVariance: weightedVariance,\n    center: center,\n    standardize: standardize,\n    cumulativeSum: cumulativeSum\n};\n\n},{}],4:[function(require,module,exports){\n/**\n * This library formats a set of nmr1D signals to the ACS format.\n * Created by acastillo on 3/11/15. p\n */\nvar ACS=ACS || {};\nACS.formater =(function() {\n    var acsString=\"\";\n    var parenthesis=\"\";\n    var spectro=\"\";\n    rangeForMultiplet=true;\n\n    function fromNMRSignal1D2ACS(spectrum, options){\n        acsString=\"\";\n        parenthesis=\"\";\n        spectro=\"\";\n        var solvent = null;\n        if(options&&options.solvent)\n            solvent = options.solvent;\n        //options.rangeForMultiplet=false;\n        if(options&&options.rangeForMultiplet!=undefined)\n            rangeForMultiplet = options.rangeForMultiplet;\n\n        //console.log(\"Range1: \"+options.rangeForMultiplet);\n\n        spectrum.type=\"NMR SPEC\";\n        if (spectrum[0][\"nucleus\"]==\"1H\") {\n            formatAcs_default(spectrum, false, 2, 1, solvent);\n        } else if (spectrum[0][\"nucleus\"]==\"13C\") {\n            formatAcs_default(spectrum, false, 1, 0, solvent);\n        }\n\n        if (acsString.length>0) acsString+=\".\";\n\n        return acsString;\n    }\n\n    /*function formatAcs_default_IR(spectra, ascending, decimalValue, smw) {\n     appendSeparator();\n     appendSpectroInformation(spectra);\n     if (spectra[\"peakLabels\"]) {\n     var numberPeakLabels=spectra[\"peakLabels\"].length;\n     var minIntensity= 9999999;\n     var maxIntensity=-9999999;\n     for (var i=0; i<numberPeakLabels; i++) {\n     if (spectra[\"peakLabels\"][i].intensity<minIntensity) minIntensity=spectra[\"peakLabels\"][i].intensity;\n     if (spectra[\"peakLabels\"][i].intensity>maxIntensity) maxIntensity=spectra[\"peakLabels\"][i].intensity;\n     }\n     for (var i=0; i<numberPeakLabels; i++) {\n     if (ascending) {\n     var peakLabel=spectra[\"peakLabels\"][i];\n     } else {\n     var peakLabel=spectra[\"peakLabels\"][numberPeakLabels-i-1];\n     }\n     if (peakLabel) {\n     appendSeparator();\n     appendValue(peakLabel,decimalValue);\n     if (smw) { // we need to add small / medium / strong\n     if (peakLabel.intensity<((maxIntensity-minIntensity)/3+minIntensity)) acsString+=\" (s)\";\n     else if (peakLabel.intensity>(maxIntensity-(maxIntensity-minIntensity)/3)) acsString+=\" (w)\";\n     else acsString+=\" (m)\";\n     }\n     }\n     }\n     }\n     }*/\n\n    function formatAcs_default(spectra, ascending, decimalValue, decimalJ, solvent) {\n        appendSeparator();\n        appendSpectroInformation(spectra, solvent);\n        var numberSmartPeakLabels=spectra.length;\n        //console.log(\"SP \"+spectra);\n        //console.log(\"# \"+numberSmartPeakLabels);\n        for (var i=0; i<numberSmartPeakLabels; i++) {\n            if (ascending) {\n                var signal=spectra[i];\n            } else {\n                var signal=spectra[numberSmartPeakLabels-i-1];\n            }\n            if (signal) {\n                //console.log(\"X2X\"+i+JSON.stringify(signal));\n                appendSeparator();\n                appendDelta(signal,decimalValue);\n                appendParenthesis(signal,decimalJ);\n                //console.log(\"S2S\"+i);\n            }\n        }\n    }\n\n    function appendSpectroInformation(spectrum, solvent) {\n        if (spectrum.type==\"NMR SPEC\") {\n            if (spectrum[0].nucleus) {\n                acsString+=formatNucleus(spectrum[0].nucleus);\n            }\n            acsString+=\" NMR\";\n            if ((solvent) || (spectrum[0].observe)) {\n                acsString+=\" (\";\n                if (spectrum.observe) {\n                    acsString+=(spectrum[0].observe*1).toFixed(0)+\" MHz\";\n                    if (solvent) acsString+=\", \";\n                }\n                if (solvent) {\n                    acsString+=formatMF(solvent);\n                }\n                acsString+=\")\";\n            }\n            acsString+=\"  \";\n        } else if (spectrum.type==\"IR\") {\n            acsString+=\" IR \";\n        } else if (spectrum.type==\"MASS\") {\n            acsString+=\" MASS \";\n        }\n    }\n\n    function appendDelta(line, nbDecimal) {\n        //console.log(\"appendDelta1\");\n        var startX = 0,stopX=0,delta1=0;\n        if(line.startX){\n            if((typeof line.startX)==\"string\"){\n                startX=parseFloat(line.startX);\n            }\n            else\n                startX=line.startX;\n        }\n        if(line.stopX){\n            if((typeof line.stopX)==\"string\"){\n                stopX=parseFloat(line.stopX);\n            }\n            else\n                stopX=line.stopX;\n        }\n        if(line.delta1){\n            if((typeof line.delta1)==\"string\"){\n                delta1=parseFloat(line.delta1);\n            }\n            else\n                delta1=line.delta1;\n\n        }\n        //console.log(\"Range2: \"+rangeForMultiplet);\n        if (line.pattern==\"massive\"||(line.pattern==\"m\"&&rangeForMultiplet==true)) {//Is it massive??\n            if (line.startX&&line.stopX) {\n                if (startX<stopX) {\n                    acsString+=startX.toFixed(nbDecimal)+\"-\"+stopX.toFixed(nbDecimal);\n                } else {\n                    acsString+=stopX.toFixed(nbDecimal)+\"-\"+startX.toFixed(nbDecimal);\n                }\n            } else {\n                if(line.delta1)\n                    acsString+=delta1.toFixed(nbDecimal);\n            }\n        }\n        else{\n            if(line.delta1)\n                acsString+=delta1.toFixed(nbDecimal);\n            else{\n                if(line.startX&&line.stopX){\n                    acsString+=((startX+stopX)/2).toFixed(nbDecimal);\n                }\n            }\n        }\n    }\n\n    function appendValue(line, nbDecimal) {\n        if (line.xPosition) {\n            acsString+=line.xPosition.toFixed(nbDecimal);\n        }\n    }\n\n    function appendParenthesis(line, nbDecimal) {\n        //console.log(\"appendParenthesis1\");\n        // need to add assignment - coupling - integration\n        parenthesis=\"\";\n        appendMultiplicity(line);\n        appendIntegration(line);\n        appendCoupling(line,nbDecimal);\n        appendAssignment(line);\n\n\n        if (parenthesis.length>0) {\n            acsString+=\" (\"+parenthesis+\")\";\n        }\n        //console.log(\"appendParenthesis2\");\n    }\n\n    function appendIntegration(line) {\n        if (line.pubIntegration) {\n            appendParenthesisSeparator();\n            parenthesis+=line.pubIntegration;\n        } else if (line.integralData) {\n            appendParenthesisSeparator();\n            parenthesis+=line.integralData.value.toFixed(0)+\" H\";\n        }\n    }\n\n    function appendAssignment(line) {\n        if (line.pubAssignment) {\n            appendParenthesisSeparator();\n            parenthesis+=formatAssignment(line.pubAssignment);\n        }\n        else{\n            if (line.assignment) {\n                appendParenthesisSeparator();\n                parenthesis+=formatAssignment(line.assignment);\n            }\n        }\n    }\n\n    function appendMultiplicity(line) {\n        if (line.pubMultiplicity) {\n            appendParenthesisSeparator();\n            parenthesis+=line.pubMultiplicity;\n        } else if (line.multiplicity) {\n            appendParenthesisSeparator();\n            parenthesis+=line.multiplicity;\n        }\n    }\n\n    function appendCoupling(line, nbDecimal) {\n        if (line.nmrJs) {\n            var j=\"<i>J</i> = \";\n            for (var i=0; i<line.nmrJs.length; i++) {\n                var coupling=line.nmrJs[i].coupling;\n                if (j.length>11) j+=\", \";\n                j+=coupling.toFixed(nbDecimal);\n            }\n            appendParenthesisSeparator();\n            parenthesis+=j+\" Hz\";\n        }\n\n    }\n\n    function formatAssignment(assignment) {\n        assignment=assignment.replace(/([0-9])/g,\"<sub>$1</sub>\");\n        assignment=assignment.replace(/\\\"([^\\\"]*)\\\"/g,\"<i>$1</i>\");\n        return assignment;\n    }\n\n    function formatMF(mf) {\n        mf=mf.replace(/([0-9])/g,\"<sub>$1</sub>\");\n        return mf;\n    }\n\n    function formatNucleus(nucleus) {\n        nucleus=nucleus.replace(/([0-9])/g,\"<sup>$1</sup>\");\n        return nucleus;\n    }\n\n    function appendSeparator() {\n        if ((acsString.length>0) && (! acsString.match(/ $/))) {\n            acsString+=\", \";\n        }\n    }\n\n    function appendParenthesisSeparator() {\n        if ((parenthesis.length>0) && (! parenthesis.match(\", $\"))) parenthesis+=\", \";\n    }\n\n    function fromACS2NMRSignal1D(acsString){\n        return JSON.parse(SDAPI.AcsParserAsJSONString(acsString));\n    }\n\n    return {\n        toACS:fromNMRSignal1D2ACS,\n        toNMRSignal:fromACS2NMRSignal1D\n    }\n})();\n\nmodule.exports=ACS;\n},{}],5:[function(require,module,exports){\nvar FFT = require('./fftlib');\n\nvar FFTUtils= {\n    DEBUG : false,\n\n    /**\n     * Calculates the inverse of a 2D Fourier transform\n     *\n     * @param ft\n     * @param ftRows\n     * @param ftCols\n     * @return\n     */\n    ifft2DArray : function(ft, ftRows, ftCols){\n        var tempTransform = new Array(ftRows * ftCols);\n        var nRows = ftRows / 2;\n        var nCols = (ftCols - 1) * 2;\n        // reverse transform columns\n        FFT.init(nRows);\n        var tmpCols = {re: new Array(nRows), im: new Array(nRows)};\n        for (var iCol = 0; iCol < ftCols; iCol++) {\n            for (var iRow = nRows - 1; iRow >= 0; iRow--) {\n                tmpCols.re[iRow] = ft[(iRow * 2) * ftCols + iCol];\n                tmpCols.im[iRow] = ft[(iRow * 2 + 1) * ftCols + iCol];\n            }\n            //Unnormalized inverse transform\n            FFT.bt(tmpCols.re, tmpCols.im);\n            for (var iRow = nRows - 1; iRow >= 0; iRow--) {\n                tempTransform[(iRow * 2) * ftCols + iCol] = tmpCols.re[iRow];\n                tempTransform[(iRow * 2 + 1) * ftCols + iCol] = tmpCols.im[iRow];\n            }\n        }\n\n        // reverse row transform\n        var finalTransform = new Array(nRows * nCols);\n        FFT.init(nCols);\n        var tmpRows = {re: new Array(nCols), im: new Array(nCols)};\n        var scale = nCols * nRows;\n        for (var iRow = 0; iRow < ftRows; iRow += 2) {\n            tmpRows.re[0] = tempTransform[iRow * ftCols];\n            tmpRows.im[0] = tempTransform[(iRow + 1) * ftCols];\n            for (var iCol = 1; iCol < ftCols; iCol++) {\n                tmpRows.re[iCol] = tempTransform[iRow * ftCols + iCol];\n                tmpRows.im[iCol] = tempTransform[(iRow + 1) * ftCols + iCol];\n                tmpRows.re[nCols - iCol] = tempTransform[iRow * ftCols + iCol];\n                tmpRows.im[nCols - iCol] = -tempTransform[(iRow + 1) * ftCols + iCol];\n            }\n            //Unnormalized inverse transform\n            FFT.bt(tmpRows.re, tmpRows.im);\n\n            var indexB = (iRow / 2) * nCols;\n            for (var iCol = nCols - 1; iCol >= 0; iCol--) {\n                finalTransform[indexB + iCol] = tmpRows.re[iCol] / scale;\n            }\n        }\n        return finalTransform;\n    },\n    /**\n     * Calculates the fourier transform of a matrix of size (nRows,nCols) It is\n     * assumed that both nRows and nCols are a power of two\n     *\n     * On exit the matrix has dimensions (nRows * 2, nCols / 2 + 1) where the\n     * even rows contain the real part and the odd rows the imaginary part of the\n     * transform\n     * @param data\n     * @param nRows\n     * @param nCols\n     * @return\n     */\n    fft2DArray:function(data, nRows, nCols) {\n        var ftCols = (nCols / 2 + 1);\n        var ftRows = nRows * 2;\n        var tempTransform = new Array(ftRows * ftCols);\n        FFT.init(nCols);\n        // transform rows\n        var tmpRows = {re: new Array(nCols), im: new Array(nCols)};\n        var row1 = {re: new Array(nCols), im: new Array(nCols)}\n        var row2 = {re: new Array(nCols), im: new Array(nCols)}\n        var index, iRow0, iRow1, iRow2, iRow3;\n        for (var iRow = 0; iRow < nRows / 2; iRow++) {\n            index = (iRow * 2) * nCols;\n            tmpRows.re = data.slice(index, index + nCols);\n\n            index = (iRow * 2 + 1) * nCols;\n            tmpRows.im = data.slice(index, index + nCols);\n\n            FFT.fft1d(tmpRows.re, tmpRows.im);\n\n            this.reconstructTwoRealFFT(tmpRows, row1, row2);\n            //Now lets put back the result into the output array\n            iRow0 = (iRow * 4) * ftCols;\n            iRow1 = (iRow * 4 + 1) * ftCols;\n            iRow2 = (iRow * 4 + 2) * ftCols;\n            iRow3 = (iRow * 4 + 3) * ftCols;\n            for (var k = ftCols - 1; k >= 0; k--) {\n                tempTransform[iRow0 + k] = row1.re[k];\n                tempTransform[iRow1 + k] = row1.im[k];\n                tempTransform[iRow2 + k] = row2.re[k];\n                tempTransform[iRow3 + k] = row2.im[k];\n            }\n        }\n\n        //console.log(tempTransform);\n        row1 = null;\n        row2 = null;\n        // transform columns\n        var finalTransform = new Array(ftRows * ftCols);\n        FFT.init(nRows);\n        var tmpCols = {re: new Array(nRows), im: new Array(nRows)};\n        for (var iCol = ftCols - 1; iCol >= 0; iCol--) {\n            for (var iRow = nRows - 1; iRow >= 0; iRow--) {\n                tmpCols.re[iRow] = tempTransform[(iRow * 2) * ftCols + iCol];\n                tmpCols.im[iRow] = tempTransform[(iRow * 2 + 1) * ftCols + iCol];\n            }\n            FFT.fft1d(tmpCols.re, tmpCols.im);\n            for (var iRow = nRows - 1; iRow >= 0; iRow--) {\n                finalTransform[(iRow * 2) * ftCols + iCol] = tmpCols.re[iRow];\n                finalTransform[(iRow * 2 + 1) * ftCols + iCol] = tmpCols.im[iRow];\n            }\n        }\n\n        //console.log(finalTransform);\n        return finalTransform;\n\n    },\n    /**\n     *\n     * @param fourierTransform\n     * @param realTransform1\n     * @param realTransform2\n     *\n     * Reconstructs the individual Fourier transforms of two simultaneously\n     * transformed series. Based on the Symmetry relationships (the asterisk\n     * denotes the complex conjugate)\n     *\n     * F_{N-n} = F_n^{*} for a purely real f transformed to F\n     *\n     * G_{N-n} = G_n^{*} for a purely imaginary g transformed to G\n     *\n     */\n    reconstructTwoRealFFT:function(fourierTransform, realTransform1, realTransform2) {\n        var length = fourierTransform.re.length;\n\n        // the components n=0 are trivial\n        realTransform1.re[0] = fourierTransform.re[0];\n        realTransform1.im[0] = 0.0;\n        realTransform2.re[0] = fourierTransform.im[0];\n        realTransform2.im[0] = 0.0;\n        var rm, rp, im, ip, j;\n        for (var i = length / 2; i > 0; i--) {\n            j = length - i;\n            rm = 0.5 * (fourierTransform.re[i] - fourierTransform.re[j]);\n            rp = 0.5 * (fourierTransform.re[i] + fourierTransform.re[j]);\n            im = 0.5 * (fourierTransform.im[i] - fourierTransform.im[j]);\n            ip = 0.5 * (fourierTransform.im[i] + fourierTransform.im[j]);\n            realTransform1.re[i] = rp;\n            realTransform1.im[i] = im;\n            realTransform1.re[j] = rp;\n            realTransform1.im[j] = -im;\n            realTransform2.re[i] = ip;\n            realTransform2.im[i] = -rm;\n            realTransform2.re[j] = ip;\n            realTransform2.im[j] = rm;\n        }\n    },\n\n    /**\n     * In place version of convolute 2D\n     *\n     * @param ftSignal\n     * @param ftFilter\n     * @param ftRows\n     * @param ftCols\n     * @return\n     */\n    convolute2DI:function(ftSignal, ftFilter, ftRows, ftCols) {\n        var re, im;\n        for (var iRow = 0; iRow < ftRows / 2; iRow++) {\n            for (var iCol = 0; iCol < ftCols; iCol++) {\n                //\n                re = ftSignal[(iRow * 2) * ftCols + iCol]\n                * ftFilter[(iRow * 2) * ftCols + iCol]\n                - ftSignal[(iRow * 2 + 1) * ftCols + iCol]\n                * ftFilter[(iRow * 2 + 1) * ftCols + iCol];\n                im = ftSignal[(iRow * 2) * ftCols + iCol]\n                * ftFilter[(iRow * 2 + 1) * ftCols + iCol]\n                + ftSignal[(iRow * 2 + 1) * ftCols + iCol]\n                * ftFilter[(iRow * 2) * ftCols + iCol];\n                //\n                ftSignal[(iRow * 2) * ftCols + iCol] = re;\n                ftSignal[(iRow * 2 + 1) * ftCols + iCol] = im;\n            }\n        }\n    }\n}\n\nmodule.exports = FFTUtils;\n\n},{\"./fftlib\":13}],6:[function(require,module,exports){\nvar SD = require('./SD');\nvar PeakPicking = require('./PeakPicking');\nvar JcampConverter=require(\"jcampconverter\");\n\nfunction NMR(sd) {\n    SD.call(this, sd); // Hritage\n}\n\nNMR.prototype = Object.create(SD.prototype);\nNMR.prototype.constructor = NMR;\n\nNMR.fromJcamp = function(jcamp) {\n    var spectrum= JcampConverter.convert(jcamp,{xy:true,keepSpectra:true,keepRecordsRegExp:/^.+$/});\n    return new NMR(spectrum);\n}\n\n/**\n* Return the observed nucleus \n*/\nNMR.prototype.getNucleus=function(){\n    return this.sd.xType;\n}\n\n/**\n* Returns the solvent name\n*/\nNMR.prototype.getSolventName=function(){\n    return (this.sd.info[\".SOLVENTNAME\"]||this.sd.info[\"$SOLVENT\"]).replace(\"<\",\"\").replace(\">\",\"\");\n}\n\n//Returns the observe frequency in the direct dimension\nNMR.prototype.observeFrequencyX=function(){\n    return this.sd.spectra[0].observeFrequency;\n}\n\n/**\n* Returns the noise factor depending on the nucleus.\n*/\nNMR.prototype.getNMRPeakThreshold=function(nucleus) {\n    if (nucleus == \"1H\")\n        return 3.0;\n    if (nucleus ==\"13C\")\n        return 5.0;\n    return 1.0;\n}\n\n\n    \n/**\n * @function addNoise(SNR)\n * This function adds white noise to the the given spectraData. The intensity of the noise is \n * calculated from the given signal to noise ratio.\n * @param SNR Signal to noise ratio\n */\n NMR.prototype.addNoise=function(SNR) {\n     //@TODO Implement addNoise filter\n}\n\n\n/**\n * @function addSpectraDatas(spec2,factor1,factor2,autoscale )   \n *  This filter performs a linear combination of two spectraDatas.\n * A=spec1\n * B=spec2\n * After to apply this filter you will get:\n *      A=A*factor1+B*factor2\n * if autoscale is set to 'true' then you will obtain:\n *  A=A*factor1+B*k*factor2\n * Where the k is a factor such that the maximum peak in A is equal to the maximum peak in spectraData2 \n * @param spec2 spectraData2\n * @param factor1 linear factor for spec1\n * @param factor2 linear factor for spec2\n * @param autoscale Auto-adjust scales before combine the spectraDatas\n * @example spec1 = addSpectraDatas(spec1,spec2,1,-1, false) This subtract spec2 from spec1\n*/\nNMR.prototype.addSpectraDatas=function(spec2,factor1,factor2,autoscale ) {\n    //@TODO Implement addSpectraDatas filter\n}\n\n/**\n * @function autoBaseline()\n * Automatically corrects the base line of a given spectraData. After this process the spectraData\n * should have meaningful integrals.\n */\nNMR.prototype.autoBaseline=function( ) {\n    //@TODO Implement autoBaseline filter\n}\n\n/**\n * @function fourierTransform()\n * Fourier transforms the given spectraData (Note. no 2D handling yet) this spectraData have to be of type NMR_FID or 2DNMR_FID\n */\nNMR.prototype.fourierTransform=function( ) {\n    //@TODO Implement fourierTransform filter\n}\n\n/**\n * @function postFourierTransform(ph1corr)\n * This filter makes an phase 1 correction that corrects the problem of the spectra that has been obtained \n * on spectrometers using the Bruker digital filters. This method is used in cases when the BrukerSpectra \n * filter could not find the correct number of points to perform a circular shift.\n * The actual problem is that not all of the spectra has the necessary parameters for use only one method for \n * correcting the problem of the Bruker digital filters.\n * @param spectraData A fourier transformed spectraData.\n * @param ph1corr Phase 1 correction value in radians.\n */\nNMR.prototype.postFourierTransform=function(ph1corr) {\n    //@TODO Implement postFourierTransform filter\n}\n\n/**\n * @function zeroFilling(nPointsX [,nPointsY])\n * This function increase the size of the spectrum, filling the new positions with zero values. Doing it one \n * could increase artificially the spectral resolution.\n * @param nPointsX Number of new zero points in the direct dimension\n * @param nPointsY Number of new zero points in the indirect dimension\n */\nNMR.prototype.zeroFilling=function(nPointsX, nPointsY) {\n    //@TODO Implement zeroFilling filter\n}\n\n/**\n * @function  haarWhittakerBaselineCorrection(waveletScale,whittakerLambda)\n * Applies a baseline correction as described in J Magn Resonance 183 (2006) 145-151 10.1016/j.jmr.2006.07.013\n * The needed parameters are the wavelet scale and the lambda used in the whittaker smoother.\n * @param waveletScale To be described\n * @param whittakerLambda To be described\n */\nNMR.prototype.haarWhittakerBaselineCorrection=function(waveletScale,whittakerLambda) {\n    //@TODO Implement haarWhittakerBaselineCorrection filter\n}\n\n/**\n * @function whittakerBaselineCorrection(whittakerLambda,ranges)\n * Applies a baseline correction as described in J Magn Resonance 183 (2006) 145-151 10.1016/j.jmr.2006.07.013\n * The needed parameters are the Wavelet scale and the lambda used in the Whittaker smoother.\n * @param waveletScale To be described\n * @param whittakerLambda To be described\n * @param ranges A string containing the ranges of no signal.\n */\nNMR.prototype.whittakerBaselineCorrection=function(whittakerLambda,ranges) {\n    //@TODO Implement whittakerBaselineCorrection filter\n}\n\n/**\n * @function brukerSpectra(options)\n * This filter applies a circular shift(phase 1 correction in the time domain) to an NMR FID spectrum that \n * have been obtained on spectrometers using the Bruker digital filters. The amount of shift depends on the \n * parameters DECIM and DSPFVS. This spectraData have to be of type NMR_FID\n * @option DECIM: Acquisition parameter\n * @option DSPFVS: Acquisition parameter\n */\nNMR.prototype.brukerSpectra=function(options) {\n    //@TODO Implement brukerSpectra filter\n}\n\n/**\n * @function apodization(functionName, lineBroadening)\n * Apodization of a spectraData object.\n * @param spectraData An spectraData of type NMR_FID\n * @param functionName Valid values for functionsName are\n *  Exponential, exp\n *  Hamming, hamming\n *  Gaussian, gauss\n *  TRAF, traf\n *  Sine Bell, sb\n *  Sine Bell Squared, sb2\n * @param lineBroadening The parameter LB should either be a line broadening factor in Hz \n * or alternatively an angle given by degrees for sine bell functions and the like.\n * @example SD.apodization(, lineBroadening)\n */\nNMR.prototype.apodization=function(functionName, lineBroadening) {\n    //@TODO Implement apodization filter\n}\n\n/**\n * @function echoAntiechoFilter();\n * That decodes an Echo-Antiecho 2D spectrum.\n */\nNMR.prototype.echoAntiechoFilter=function() {\n    //@TODO Implement echoAntiechoFilter filter\n}\n\n/**\n * @function SNVFilter()\n * This function apply a Standard Normal Variate Transformation over the given spectraData. Mainly used for IR spectra.\n */\nNMR.prototype.SNVFilter=function() {\n    //@TODO Implement SNVFilter\n}\n\n/**\n * @function powerFilter(power)\n * This function applies a power to all the Y values.<br>If the power is less than 1 and the spectrum has negative values, it will be shifted so that the lowest value is zero \n * @param   power   The power to apply\n */\nNMR.prototype.powerFilter=function(power) {\n    var minY=this.getMinY();\n    if(power<1 && minY<0){\n        this.YShift(-1*minY);\n        console.warn(\"SD.powerFilter: The spectrum had negative values and was automatically shifted before applying the function.\");\n    }\n    //@TODO Implement powerFilter\n}\n\n/**\n * @function logarithmFilter(base)\n * This function applies a log to all the Y values.<br>If the spectrum has negative or zero values, it will be shifted so that the lowest value is 1 \n * @param   base    The base to use\n */\nNMR.prototype.logarithmFilter=function(base) {\n    var minY=this.getMinY();\n    if(minY<=0){\n        this.YShift((-1*minY)+1);\n        console.warn(\"SD.logarithmFilter: The spectrum had negative values and was automatically shifted before applying the function.\");\n    }\n   //@TODO Implement logarithmFilter filter\n}\n\n\n/**\n * @function correlationFilter(func) \n * This function correlates the given spectraData with the given vector func. The correlation\n * operation (*) is defined as:\n * \n *                    __ inf\n *  c(x)=f(x)(*)g(x)= \\        f(x)*g(x+i)\n *                   ./    \n *                    -- i=-inf\n * @param func A double array containing the function to correlates the spectraData\n * @example var smoothedSP = SD.correlationFilter(spectraData,[1,1]) returns a smoothed version of the\n * given spectraData. \n */\nNMR.prototype.correlationFilter=function(func) {\n    //@TODO Implement correlationFilter filter\n}\n\n/**\n * @function  phaseCorrection(phi0, phi1)\n * Applies the phase correction (phi0,phi1) to a Fourier transformed spectraData. The angles must be given in radians.\n * @param phi0 Zero order phase correction\n * @param phi1 One order phase correction\n*/\nNMR.prototype.phaseCorrection=function(phi0, phi1) {\n    //@TODO Implement phaseCorrection filter\n}\n\n/**\n * @function automaticPhase() \n * This function determines automatically the correct parameters phi0 and phi1 for a phaseCorrection\n * function and applies it.\n */ \nNMR.prototype.automaticPhase=function() {\n    //@TODO Implement automaticPhase filter\n}\n\n/**\n *  @function useBrukerPhase()\n *  This function extract the parameters of the phaseCorrection from the jcamp-dx parameters\n *  if the spectrum was acquired in Bruker spectrometers . Basically it will look for the parameters\n *  $PHC0 and $PHC1, and will use it to call the phaseCorrection function.\n */\nNMR.prototype.useBrukerPhase=function() {\n   //@TODO Implement useBrukerPhase filter\n}\n\n/**\n * @function nmrPeakDetection(parameters);\n * This function process the given spectraData and tries to determine the NMR signals. Returns an NMRSignal1D array containing all the detected 1D-NMR Signals\n * @param parameters A JSONObject containing the optional parameters:\n * @option fromX:   Lower limit.\n * @option toX:     Upper limit.\n * @option threshold: The minimum intensity to consider a peak as a signal, expressed as a percentage of the highest peak. \n * @option stdev: Number of standard deviation of the noise for the threshold calculation if a threshold is not specified.\n */\nNMR.prototype.nmrPeakDetection=function(parameters) {\n    parameters=parameters||{};\n    if(!parameters.nH)\n        parameters.nH=10;\n    return PeakPicking.peakPicking(this, parameters.nH, this.getSolventName());\n}\n\n/**\n * @function toJcamp(options)\n * This function creates a String that represents the given spectraData in the format JCAM-DX 5.0\n * The X,Y data can be compressed using one of the methods described in: \n * \"JCAMP-DX. A STANDARD FORMAT FOR THE EXCHANGE OF ION MOBILITY SPECTROMETRY DATA\", \n *  http://www.iupac.org/publications/pac/pdf/2001/pdf/7311x1765.pdf\n * @option encode: ['FIX','SQZ','DIF','DIFDUP','CVS','PAC'] (Default: 'FIX')\n * @option yfactor: The YFACTOR. It allows to compress the data by removing digits from the ordinate. (Default: 1)\n * @option type: [\"NTUPLES\", \"SIMPLE\"] (Default: \"SIMPLE\")\n * @option keep: A set of user defined parameters of the given SpectraData to be stored in the jcamp.\n * @example SD.toJcamp(spectraData,{encode:'DIFDUP',yfactor:0.01,type:\"SIMPLE\",keep:['#batchID','#url']});\n */ \nNMR.prototype.toJcamp=function(options) {\n     //@TODO Implement toJcamp filter\n     return \"NOT ImplementED\"\n}\n\n\nmodule.exports = NMR;\n\n},{\"./PeakPicking\":9,\"./SD\":11,\"jcampconverter\":2}],7:[function(require,module,exports){\nvar SD = require('./SD');\nvar PeakPicking2D = require('./PeakPicking2D');\nvar JcampConverter=require(\"jcampconverter\");\n\nfunction NMR2D(sd) {\n    SD.call(this, sd); // Hritage\n}\n\nNMR2D.prototype = Object.create(SD.prototype);\nNMR2D.prototype.constructor = NMR2D;\n\nNMR2D.fromJcamp = function(jcamp) {\n    var spectrum= JcampConverter.convert(jcamp,{xy:true,keepSpectra:true});\n    return new NMR2D(spectrum);\n}\n\nNMR2D.prototype.isHomoNuclear=function(){\n    return this.sd.xType==this.sd.yType;\n}\n\n//Returns the observe frequency in the direct dimension\nNMR2D.prototype.observeFrequencyX=function(){\n    return this.sd.spectra[0].observeFrequency;\n}\n\n//Returns the observe frequency in the indirect dimension\nNMR2D.prototype.observeFrequencyY=function(){\n    return this.sd.indirectFrequency;\n}\n\n/**\n * Returns the solvent name\n */\nNMR2D.prototype.getSolventName=function(){\n    return (this.sd.info[\".SOLVENTNAME\"]||this.sd.info[\"$SOLVENT\"]).replace(\"<\",\"\").replace(\">\",\"\");\n}\n\n/**\n * This function returns the units of the direct dimension. It overrides the SD getXUnits function\n * @returns {ntuples.units|*|b.units}\n */\nNMR2D.prototype.getXUnits = function(){\n    return this.sd.ntuples[1].units;\n}\n/**\n * This function returns the units of the indirect dimension. It overrides the SD getYUnits function\n * @returns {ntuples.units|*|b.units}\n */\nNMR2D.prototype.getYUnits = function(){\n    return this.sd.ntuples[0].units;\n}\n/**\n * Returns the units of the dependent variable\n * @returns {ntuples.units|*|b.units}\n */\nNMR2D.prototype.getZUnits = function(){\n    return this.sd.ntuples[2].units;\n}\n/**\n * Overwrite this function. Now, the Y axe refers to the indirect dimension\n * @returns {sd.minMax.maxY}\n */\nNMR2D.prototype.getLastY = function(){\n    return this.sd.minMax.maxY;\n}\n/**\n * * Overwrite this function. Now, the Y axe refers to the indirect dimension\n * @returns {sd.minMax.minY}\n */\nNMR2D.prototype.getFirstY = function(){\n    return this.sd.minMax.minY;\n}\n\n//Returns the separation between 2 consecutive points in the indirect domain\nNMR2D.prototype.getDeltaY=function(){\n    return ( this.getLastY()-this.getFirstY()) / (this.getNbSubSpectra()-1);\n}\n\n/**\n * @function nmrPeakDetection2D(options)\n * This function process the given spectraData and tries to determine the NMR signals. \n + Returns an NMRSignal2D array containing all the detected 2D-NMR Signals\n * @param\toptions:+Object\t\t\tObject containing the options\n * @option\tthresholdFactor:number\tA factor to scale the automatically determined noise threshold.\n * @returns\t+Object\tset of NMRSignal2D\n */\nNMR2D.prototype.nmrPeakDetection2D=function(options){\n    options = options||{};\n    if(!options.thresholdFactor)\n        options.thresholdFactor=1;\n    var id = Math.round(Math.random()*255);\n    if(!options.id){\n        id=options.id;\n    }\n    var peakList = PeakPicking2D.findPeaks2D(this, options.thresholdFactor);\n\n    //lets add an unique ID for each peak.\n    for(var i=0;i<peakList.length;i++){\n        peakList[i]._highlight=[id+\"_\"+i];\n    }\n    return peakList;\n}\n\n/**\n* Returns the noise factor depending on the nucleus.\n*/\nNMR2D.prototype.getNMRPeakThreshold=function(nucleus) {\n    if (nucleus == \"1H\")\n        return 3.0;\n    if (nucleus ==\"13C\")\n        return 5.0;\n    return 1.0;\n}\n\n/**\n* Returns the nucleus in the specified dimension\n*/\nNMR2D.prototype.getNucleus=function(dim){\n    if(dim==1)\n        return this.sd.xType;\n    if(dim==2)\n        return this.sd.yType;\n    return this.sd.xType;\n}\n\nmodule.exports = NMR2D;\n\n},{\"./PeakPicking2D\":10,\"./SD\":11,\"jcampconverter\":2}],8:[function(require,module,exports){\nvar PeakOptimizer={\n\tdiagonalError:0.05,\n\ttolerance:0.05,\n\tDEBUG:false,\n    toleranceX : 0.025,\n    toleranceY : 0.5,\n\n    clean: function(peaks, threshold){\n        var max = Number.NEGATIVE_INFINITY;\n        var i,peak;\n        //double min = Double.MAX_VALUE;\n        for(i=peaks.length-1;i>=0;i--){\n            if(Math.abs(peaks[i].z)>max)\n                max=Math.abs(peaks[i].z);\n        }\n        max*=threshold;\n        for(i=peaks.length-1;i>=0;i--){\n            if(Math.abs(peaks[i].z)<max)\n                peaks.splice(i,1);\n        }\n        return peaks;\n    },\n\t\n\tenhanceSymmetry: function(signals){\n\t\t\n\t\tvar properties = this.initializeProperties(signals);\n\t\tvar output = signals;\n\n\t\tif(this.DEBUG)\n\t\t\tconsole.log(\"Before optimization size: \"+output.size());\n\t\t\n\t\t//First step of the optimization: Symmetry validation\n\t\tvar i,hits,index;\n\t\tvar signal;\n\t\tfor(i=output.length-1;i>=0;i--){\n\t\t\tsignal = output[i];\n\t\t\tif(signal.peaks.length>1)\n\t\t\t\tproperties[i][1]++;\n\t\t\tif(properties[i][0]==1){\n\t\t\t\tindex = this.exist(output, properties, signal,-1,true);\n\t\t\t\tif(index>=0){\n\t\t\t\t\tproperties[i][1]+=2;\n\t\t\t\t\tproperties[index][1]+=2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//Second step of the optimization: Diagonal image existence\n\t\tfor(i=output.length-1;i>=0;i--){\n\t\t\tsignal = output[i];\n\t\t\tif(properties[i][0]==0){\n\t\t\t\thits = this.checkCrossPeaks(output, properties, signal, true);\n\t\t\t\tproperties[i][1]+=hits;\n\t\t\t\t//checkCrossPeaks(output, properties, signal, false);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//Now, each peak have a score between 0 and 4, we can complete the patterns which\n\t\t//contains peaks with high scores, and finally, we can remove peaks with scores 0 and 1\n\t\tvar count = 0;\n\t\tfor(i=output.length-1;i>=0;i--){\n\t\t\tif(properties[i][0]!==0&&properties[i][1]>2){\n\t\t\t\tcount++;\n\t\t\t\tcount+=this.completeMissingIfNeeded(output,properties,output[i],properties[i]);\n\t\t\t}\n\t\t\tif(properties[i][1]>=2&&properties[i][0]===0)\n\t\t\t\tcount++;\n\t\t}\n\t\t\n\t\tif(this.DEBUG)\n\t\t\tconsole.log(\"After optimization size: \"+count);\n\t\tvar  toReturn = new Array(count);\n\t\tcount--;\n\t\tfor(i=output.length-1;i>=0;i--){\n\t\t\tif(properties[i][0]!==0&&properties[i][1]>2\n\t\t\t\t\t||properties[i][0]===0&&properties[i][1]>1){\n\t\t\t\ttoReturn[count--]=output[i];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.log(\"Removed \"+i+\" \"+output[i].peaks.length);\n\t\t\t}\n\t\t\t//if(properties.get(i)[1]>=2)\n\t\t\t//\ttoReturn[count--]=output.get(i);\n\t\t}\n\t\treturn toReturn;\n\t},\n\t\n\tcompleteMissingIfNeeded: function(output, properties, thisSignal, thisProp) {\n\t\t//Check for symmetry\n\t\tvar index = this.exist(output, properties, thisSignal,-thisProp[0],true);\n\t\tvar addedPeaks=0;\n\t\tvar newSignal = null, tmpProp=null;\n\t\tif(index<0){//If this signal have no a symmetry image, we have to include it\n\t\t\tnewSignal = {nucleusX:thisSignal.nucleusX,nucleusY:thisSignal.nucleusY};\n\t\t\tnewSignal.resolutionX=thisSignal.resolutionX;\n\t\t\tnewSignal.resolutionY=thisSignal.resolutionY;\n\t\t\tnewSignal.shiftX=thisSignal.shiftY;\n\t\t\tnewSignal.shiftY=thisSignal.shiftX;\n\t\t\tnewSignal.peaks = [{x:thisSignal.shiftY,y:thisSignal.shiftX,z:1}];\n\t\t\toutput.push(newSignal);\n\t\t\ttmpProp = [-thisProp[0],thisProp[1]];\n\t\t\tproperties.push(tmpProp);\n\t\t\taddedPeaks++;\n\t\t}\n\t\t//Check for diagonal peaks\n\t\tvar j=0;\n\t\tvar diagX=false, diagY=false;\n\t\tvar signal;\n\t\tfor(j=output.length-1;j>=0;j--){\n\t\t\tsignal = output[j];\n\t\t\tif(properties[j][0]===0){\n\t\t\t\tif(Math.abs(signal.shiftX-thisSignal.shiftX)<this.diagonalError)\n\t\t\t\t\tdiagX=true;\n\t\t\t\tif(Math.abs(signal.shiftY-thisSignal.shiftY)<this.diagonalError)\n\t\t\t\t\tdiagY=true;\n\t\t\t}\n\t\t}\n\t\tif(diagX===false){\n\t\t\tnewSignal = {nucleusX:thisSignal.nucleusX,nucleusY:thisSignal.nucleusY};\n\t\t\tnewSignal.resolutionX=thisSignal.resolutionX;\n\t\t\tnewSignal.resolutionY=thisSignal.resolutionY;\n\t\t\tnewSignal.shiftX=thisSignal.shiftX;\n\t\t\tnewSignal.shiftY=thisSignal.shiftX;\n\t\t\tnewSignal.peaks = [{x:thisSignal.shiftX,y:thisSignal.shiftX,z:1}];\n\t\t\toutput.push(newSignal);\n\t\t\ttmpProp = [0,thisProp[1]];\n\t\t\tproperties.push(tmpProp);\n\t\t\taddedPeaks++;\n\t\t}\n\t\tif(diagY===false){\n\t\t\tnewSignal = {nucleusX:thisSignal.nucleusX,nucleusY:thisSignal.nucleusY};\n\t\t\tnewSignal.resolutionX=thisSignal.resolutionX;\n\t\t\tnewSignal.resolutionY=thisSignal.resolutionY;\n\t\t\tnewSignal.shiftX=thisSignal.shiftY;\n\t\t\tnewSignal.shiftY=thisSignal.shiftY;\n\t\t\tnewSignal.peaks = [{x:thisSignal.shiftY,y:thisSignal.shiftY,z:1}];\n\t\t\toutput.push(newSignal);\n\t\t\ttmpProp = [0,thisProp[1]];\n\t\t\tproperties.push(tmpProp);\n\t\t\taddedPeaks++;\n\t\t}\n\t\treturn addedPeaks;\n\t\t\n\t},\n\t\n\t//Check for any diagonal peak that match this cross peak\n\tcheckCrossPeaks: function(output, properties, signal, updateProperties) {\n\t\tvar hits = 0, i=0, shift=signal.shiftX*4;\n\t\tvar crossPeaksX = [],crossPeaksY = [];\n\t\tvar cross;\n\t\tfor(i=output.length-1;i>=0;i--){\n\t\t\tcross = output[i];\n\t\t\tif(properties[i][0]!==0){\n\t\t\t\tif(Math.abs(cross.shiftX-signal.shiftX)<this.diagonalError){\n\t\t\t\t\thits++;\n\t\t\t\t\tif(updateProperties)\n\t\t\t\t\t\tproperties[i][1]++;\n\t\t\t\t\tcrossPeaksX.push(i);\n\t\t\t\t\tshift+=cross.shiftX;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(Math.abs(cross.shiftY-signal.shiftY)<this.diagonalError){\n\t\t\t\t\t\thits++;\n\t\t\t\t\t\tif(updateProperties)\n\t\t\t\t\t\t\tproperties[i][1]++;\n\t\t\t\t\t\tcrossPeaksY.push(i);\n\t\t\t\t\t\tshift+=cross.shiftY;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//Update found crossPeaks and diagonal peak\n\t\tshift/=(crossPeaksX.length+crossPeaksY.length+4);\n\t\tif(crossPeaksX.length>0){\n\t\t\tfor( i=crossPeaksX.length-1;i>=0;i--){\n\t\t\t\toutput[crossPeaksX[i]].shiftX=shift;\n\t\t\t}\n\t\t}\n\t\tif(crossPeaksY.length>0){\n\t\t\tfor( i=crossPeaksY.length-1;i>=0;i--){\n\t\t\t\toutput[crossPeaksY[i]].shiftY=shift;\n\t\t\t}\n\t\t}\n\t\tsignal.shiftX=shift;\n\t\tsignal.shiftY=shift;\n\t\treturn hits;\n\t},\n\n\texist: function(output, properties, signal, type, symmetricSearch) {\n\t\tfor(var i=output.length-1;i>=0;i--){\n\t\t\tif(properties[i][0]==type){\n\t\t\t\tif(this.distanceTo(signal, output[i], symmetricSearch)<this.tolerance){\n\t\t\t\t\tif(!symmetricSearch){\n\t\t\t\t\t\tvar shiftX=(output[i].shiftX+signal.shiftX)/2.0;\n\t\t\t\t\t\tvar shiftY=(output[i].shiftY+signal.shiftY)/2.0;\n\t\t\t\t\t\toutput[i].shiftX=shiftX;\n\t\t\t\t\t\toutput[i].shiftY=shiftY;\n\t\t\t\t\t\tsignal.shiftX=shiftX;\n\t\t\t\t\t\tsignal.shiftY=shiftY;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar shiftX=signal.shiftX;\n\t\t\t\t\t\tvar shiftY=output[i].shiftX;\n\t\t\t\t\t\toutput[i].shiftY=shiftX;\n\t\t\t\t\t\tsignal.shiftY=shiftY;\n\t\t\t\t\t}\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\t/**\n\t * We try to determine the position of each signal within the spectrum matrix.\n\t * Peaks could be of 3 types: upper diagonal, diagonal or under diagonal 1,0,-1\n\t * respectively.\n\t * @param Signals\n\t * @return A matrix containing the properties of each signal\n\t */\n\tinitializeProperties: function(signals){\n\t\tvar signalsProperties = new Array(signals.length);\n\t\tfor(var i=signals.length-1;i>=0;i--){\n\t\t\tsignalsProperties[i]=[0,0];\n\t\t\t//We check if it is a diagonal peak\n\t\t\tif(Math.abs(signals[i].shiftX-signals[i].shiftY)<=this.diagonalError){\n\t\t\t\tsignalsProperties[i][1]=1;\n\t\t\t\t//We adjust the x and y value to be symmetric.\n\t\t\t\t//In general chemical shift in the direct dimension is better than in the other one,\n\t\t\t\t//so, we believe more to the shiftX than to the shiftY.\n\t\t\t\tvar shift = (signals[i].shiftX*2+signals[i].shiftY)/3.0;\n\t\t\t\tsignals[i].shiftX=shift;\n\t\t\t\tsignals[i].shiftY=shift;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(signals[i].shiftX-signals[i].shiftY>0)\n\t\t\t\t\tsignalsProperties[i][0]=1;\n\t\t\t\telse\n\t\t\t\t\tsignalsProperties[i][0]=-1;\n\t\t\t}\n\t\t}\n\t\treturn signalsProperties;\n\t},\n\t\n\t/**\n\t * This function calculates the distance between 2 nmr signals . If toImage is true, \n\t * it will interchange x by y in the distance calculation for the second signal.\n\t */\n\tdistanceTo: function(a, b, toImage){\n\t\tif(!toImage){\n\t\t\treturn Math.sqrt(Math.pow(a.shiftX-b.shiftX, 2)\n\t\t\t\t\t+Math.pow(a.shiftY-b.shiftY, 2));\n\t\t}\n\t\telse{\n\t\t\treturn Math.sqrt(Math.pow(a.shiftX-b.shiftY, 2)\n\t\t\t\t\t+Math.pow(a.shiftY-b.shiftX, 2));\n\t\t}\n\t}\n};\n\nmodule.exports = PeakOptimizer;\n},{}],9:[function(require,module,exports){\n/**\n * Implementation of the peak pickig method described by Cobas in:\n * A new approach to improving automated analysis of proton NMR spectra\n * through Global Spectral Deconvolution (GSD)\n * http://www.spectroscopyeurope.com/images/stories/ColumnPDFs/TD_23_1.pdf\n */\nvar PeakPicking={\n    impurities:[],\n    maxJ:20,\n\n    peakPicking:function(spectrum, nH, solvent){\n        var peakList = this.GSD(spectrum);\n        var signals = this.detectSignals(peakList, spectrum.observeFrequencyX(), nH);\n        //For now just return the peak List\n        //@TODO work in the peakPicking\n        return signals;\n\n        /*var frequency = spectrum.observeFrequencyX();//getParamDouble(\"$BF1\",400);\n        var imp = this.labelPeaks(peakList, solvent, frequency);\n        return [peakList,imp];\n        */\n        //return createSignals(peakList,nH);\n    },\n\n    /**\n     * Should we read the impurities table from somewhere else?\n     */\n    init:function(){\n        this.impurities = [{\"impurities\":[{\"shifts\":[{\"proton\":\"X\",\"coupling\":0,\"multiplicity\":\"\",\"shift\":7.26}],\"name\":\"solvent_residual_peak\"},{\"shifts\":[{\"proton\":\"H2O\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.56}],\"name\":\"H2O\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.1}],\"name\":\"acetic_acid\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.17}],\"name\":\"acetone\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.1}],\"name\":\"acetonitrile\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.36}],\"name\":\"benzene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.28}],\"name\":\"tert-butyl_alcohol\"},{\"shifts\":[{\"proton\":\"CCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.19},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.22}],\"name\":\"tert-butyl_methyl_ether\"},{\"shifts\":[{\"proton\":\"ArH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":6.98},{\"proton\":\"OHc\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":5.01},{\"proton\":\"ArCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.27},{\"proton\":\"ArC(CH3)3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.43}],\"name\":\"BHTb\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.26}],\"name\":\"chloroform\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.43}],\"name\":\"cyclohexane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.73}],\"name\":\"1,2-dichloroethane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":5.3}],\"name\":\"dichloromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.21},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.48}],\"name\":\"diethyl_ether\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.65},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.57},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.39}],\"name\":\"diglyme\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.4},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.55}],\"name\":\"1,2-dimethoxyethane\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.09},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.02},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.94}],\"name\":\"dimethylacetamide\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":8.02},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.96},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.88}],\"name\":\"dimethylformamide\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.62}],\"name\":\"dimethyl_sulfoxide\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.71}],\"name\":\"dioxane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.25},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.72},{\"proton\":\"OH\",\"coupling\":5,\"multiplicity\":\"s,t\",\"shift\":1.32}],\"name\":\"ethanol\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.05},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":4.12},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.26}],\"name\":\"ethyl_acetate\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.14},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.46},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.06}],\"name\":\"ethyl_methyl_ketone\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.76}],\"name\":\"ethylene_glycol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":0.86},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"br_s\",\"shift\":1.26}],\"name\":\"grease^f\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"t\",\"shift\":0.88},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.26}],\"name\":\"n-hexane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":9.5,\"multiplicity\":\"d\",\"shift\":2.65}],\"name\":\"HMPAg\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.49},{\"proton\":\"OH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.09}],\"name\":\"methanol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.33}],\"name\":\"nitromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":7},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.27}],\"name\":\"n-pentane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":6,\"multiplicity\":\"d\",\"shift\":1.22},{\"proton\":\"CH\",\"coupling\":6,\"multiplicity\":\"sep\",\"shift\":4.04}],\"name\":\"2-propanol\"},{\"shifts\":[{\"proton\":\"CH(2)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":8.62},{\"proton\":\"CH(3)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.29},{\"proton\":\"CH(4)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.68}],\"name\":\"pyridine\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":0.07}],\"name\":\"silicone_greasei\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.85},{\"proton\":\"CH2O\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.76}],\"name\":\"tetrahydrofuran\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.36},{\"proton\":\"CH(o/p)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.17},{\"proton\":\"CH(m)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.25}],\"name\":\"toluene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.03},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.53}],\"name\":\"triethylamine\"}],\"solvent\":\"CDCl3\"},{\"impurities\":[{\"shifts\":[{\"proton\":\"X\",\"coupling\":0,\"multiplicity\":\"\",\"shift\":2.05}],\"name\":\"solvent_residual_peak\"},{\"shifts\":[{\"proton\":\"H2O\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.84}],\"name\":\"H2O\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.96}],\"name\":\"acetic_acid\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.09}],\"name\":\"acetone\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.05}],\"name\":\"acetonitrile\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.36}],\"name\":\"benzene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.18}],\"name\":\"tert-butyl_alcohol\"},{\"shifts\":[{\"proton\":\"CCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.13},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.13}],\"name\":\"tert-butyl_methyl_ether\"},{\"shifts\":[{\"proton\":\"ArH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":6.96},{\"proton\":\"ArCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.22},{\"proton\":\"ArC(CH3)3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.41}],\"name\":\"BHTb\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":8.02}],\"name\":\"chloroform\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.43}],\"name\":\"cyclohexane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.87}],\"name\":\"1,2-dichloroethane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":5.63}],\"name\":\"dichloromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.11},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.41}],\"name\":\"diethyl_ether\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.56},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.47},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.28}],\"name\":\"diglyme\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.28},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.46}],\"name\":\"1,2-dimethoxyethane\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.97},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.83}],\"name\":\"dimethylacetamide\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.96},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.94},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.78}],\"name\":\"dimethylformamide\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.52}],\"name\":\"dimethyl_sulfoxide\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.59}],\"name\":\"dioxane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.12},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.57},{\"proton\":\"OH\",\"coupling\":5,\"multiplicity\":\"s,t\",\"shift\":3.39}],\"name\":\"ethanol\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.97},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":4.05},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.2}],\"name\":\"ethyl_acetate\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.07},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.45},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.96}],\"name\":\"ethyl_methyl_ketone\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.28}],\"name\":\"ethylene_glycol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":0.87},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"br_s\",\"shift\":1.29}],\"name\":\"grease^f\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"t\",\"shift\":0.88},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.28}],\"name\":\"n-hexane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":9.5,\"multiplicity\":\"d\",\"shift\":2.59}],\"name\":\"HMPAg\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.31},{\"proton\":\"OH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.12}],\"name\":\"methanol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.43}],\"name\":\"nitromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.88},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.27}],\"name\":\"n-pentane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":6,\"multiplicity\":\"d\",\"shift\":1.1},{\"proton\":\"CH\",\"coupling\":6,\"multiplicity\":\"sep\",\"shift\":3.9}],\"name\":\"2-propanol\"},{\"shifts\":[{\"proton\":\"CH(2)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":8.58},{\"proton\":\"CH(3)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.35},{\"proton\":\"CH(4)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.76}],\"name\":\"pyridine\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":0.13}],\"name\":\"silicone_greasei\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.79},{\"proton\":\"CH2O\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.63}],\"name\":\"tetrahydrofuran\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.32},{\"proton\":\"CH(o/p)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.5},{\"proton\":\"CH(m)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.5}],\"name\":\"toluene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.96},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.45}],\"name\":\"triethylamine\"}],\"solvent\":\"(CD3)2CO\"},{\"impurities\":[{\"shifts\":[{\"proton\":\"X\",\"coupling\":0,\"multiplicity\":\"\",\"shift\":2.5}],\"name\":\"solvent_residual_peak\"},{\"shifts\":[{\"proton\":\"H2O\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.33}],\"name\":\"H2O\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.91}],\"name\":\"acetic_acid\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.09}],\"name\":\"acetone\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.07}],\"name\":\"acetonitrile\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.37}],\"name\":\"benzene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.11},{\"proton\":\"OHc\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.19}],\"name\":\"tert-butyl_alcohol\"},{\"shifts\":[{\"proton\":\"CCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.11},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.08}],\"name\":\"tert-butyl_methyl_ether\"},{\"shifts\":[{\"proton\":\"ArH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":6.87},{\"proton\":\"OHc\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":6.65},{\"proton\":\"ArCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.18},{\"proton\":\"ArC(CH3)3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.36}],\"name\":\"BHTb\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":8.32}],\"name\":\"chloroform\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.4}],\"name\":\"cyclohexane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.9}],\"name\":\"1,2-dichloroethane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":5.76}],\"name\":\"dichloromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.09},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.38}],\"name\":\"diethyl_ether\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.51},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.38},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.24}],\"name\":\"diglyme\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.24},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.43}],\"name\":\"1,2-dimethoxyethane\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.96},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.94},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.78}],\"name\":\"dimethylacetamide\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.95},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.89},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.73}],\"name\":\"dimethylformamide\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.54}],\"name\":\"dimethyl_sulfoxide\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.57}],\"name\":\"dioxane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.06},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.44},{\"proton\":\"OH\",\"coupling\":5,\"multiplicity\":\"s,t\",\"shift\":4.63}],\"name\":\"ethanol\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.99},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":4.03},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.17}],\"name\":\"ethyl_acetate\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.07},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.43},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.91}],\"name\":\"ethyl_methyl_ketone\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.34}],\"name\":\"ethylene_glycol\"},{\"shifts\":[],\"name\":\"grease^f\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"t\",\"shift\":0.86},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.25}],\"name\":\"n-hexane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":9.5,\"multiplicity\":\"d\",\"shift\":2.53}],\"name\":\"HMPAg\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.16},{\"proton\":\"OH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.01}],\"name\":\"methanol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.42}],\"name\":\"nitromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.88},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.27}],\"name\":\"n-pentane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":6,\"multiplicity\":\"d\",\"shift\":1.04},{\"proton\":\"CH\",\"coupling\":6,\"multiplicity\":\"sep\",\"shift\":3.78}],\"name\":\"2-propanol\"},{\"shifts\":[{\"proton\":\"CH(2)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":8.58},{\"proton\":\"CH(3)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.39},{\"proton\":\"CH(4)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.79}],\"name\":\"pyridine\"},{\"shifts\":[],\"name\":\"silicone_greasei\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.76},{\"proton\":\"CH2O\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.6}],\"name\":\"tetrahydrofuran\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.3},{\"proton\":\"CH(o/p)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.18},{\"proton\":\"CH(m)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.25}],\"name\":\"toluene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.93},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.43}],\"name\":\"triethylamine\"}],\"solvent\":\"(CD3)2SO/DMSO\"},{\"impurities\":[{\"shifts\":[{\"proton\":\"X\",\"coupling\":0,\"multiplicity\":\"\",\"shift\":7.16}],\"name\":\"solvent_residual_peak\"},{\"shifts\":[{\"proton\":\"H2O\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":0.4}],\"name\":\"H2O\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.55}],\"name\":\"acetic_acid\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.55}],\"name\":\"acetone\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.55}],\"name\":\"acetonitrile\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.15}],\"name\":\"benzene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.05},{\"proton\":\"OHc\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.55}],\"name\":\"tert-butyl_alcohol\"},{\"shifts\":[{\"proton\":\"CCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.07},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.04}],\"name\":\"tert-butyl_methyl_ether\"},{\"shifts\":[{\"proton\":\"ArH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.05},{\"proton\":\"OHc\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.79},{\"proton\":\"ArCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.24},{\"proton\":\"ArC(CH3)3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.38}],\"name\":\"BHTb\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":6.15}],\"name\":\"chloroform\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.4}],\"name\":\"cyclohexane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.9}],\"name\":\"1,2-dichloroethane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.27}],\"name\":\"dichloromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.11},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.26}],\"name\":\"diethyl_ether\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.46},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.34},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.11}],\"name\":\"diglyme\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.12},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.33}],\"name\":\"1,2-dimethoxyethane\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.6},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.57},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.05}],\"name\":\"dimethylacetamide\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.63},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.36},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.86}],\"name\":\"dimethylformamide\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.68}],\"name\":\"dimethyl_sulfoxide\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.35}],\"name\":\"dioxane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.96},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.34}],\"name\":\"ethanol\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.65},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.89},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.92}],\"name\":\"ethyl_acetate\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.58},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":1.81},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.85}],\"name\":\"ethyl_methyl_ketone\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.41}],\"name\":\"ethylene_glycol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":0.92},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"br_s\",\"shift\":1.36}],\"name\":\"grease^f\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"t\",\"shift\":0.89},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.24}],\"name\":\"n-hexane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":9.5,\"multiplicity\":\"d\",\"shift\":2.4}],\"name\":\"HMPAg\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.07}],\"name\":\"methanol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.94}],\"name\":\"nitromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.86},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.23}],\"name\":\"n-pentane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":6,\"multiplicity\":\"d\",\"shift\":0.95},{\"proton\":\"CH\",\"coupling\":6,\"multiplicity\":\"sep\",\"shift\":3.67}],\"name\":\"2-propanol\"},{\"shifts\":[{\"proton\":\"CH(2)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":8.53},{\"proton\":\"CH(3)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":6.66},{\"proton\":\"CH(4)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":6.98}],\"name\":\"pyridine\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":0.29}],\"name\":\"silicone_greasei\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.4},{\"proton\":\"CH2O\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.57}],\"name\":\"tetrahydrofuran\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.11},{\"proton\":\"CH(o/p)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.02},{\"proton\":\"CH(m)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.13}],\"name\":\"toluene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.96},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.4}],\"name\":\"triethylamine\"}],\"solvent\":\"C6D6\"},{\"impurities\":[{\"shifts\":[{\"proton\":\"X\",\"coupling\":0,\"multiplicity\":\"\",\"shift\":1.94}],\"name\":\"solvent_residual_peak\"},{\"shifts\":[{\"proton\":\"H2O\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.13}],\"name\":\"H2O\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.96}],\"name\":\"acetic_acid\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.08}],\"name\":\"acetone\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.96}],\"name\":\"acetonitrile\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.37}],\"name\":\"benzene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.16},{\"proton\":\"OHc\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.18}],\"name\":\"tert-butyl_alcohol\"},{\"shifts\":[{\"proton\":\"CCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.14},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.13}],\"name\":\"tert-butyl_methyl_ether\"},{\"shifts\":[{\"proton\":\"ArH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":6.97},{\"proton\":\"OHc\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":5.2},{\"proton\":\"ArCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.22},{\"proton\":\"ArC(CH3)3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.39}],\"name\":\"BHTb\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.58}],\"name\":\"chloroform\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.44}],\"name\":\"cyclohexane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.81}],\"name\":\"1,2-dichloroethane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":5.44}],\"name\":\"dichloromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.12},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.42}],\"name\":\"diethyl_ether\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.53},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.45},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.29}],\"name\":\"diglyme\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.28},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.45}],\"name\":\"1,2-dimethoxyethane\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.97},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.96},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.83}],\"name\":\"dimethylacetamide\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.92},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.89},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.77}],\"name\":\"dimethylformamide\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.5}],\"name\":\"dimethyl_sulfoxide\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.6}],\"name\":\"dioxane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.12},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.54},{\"proton\":\"OH\",\"coupling\":5,\"multiplicity\":\"s,t\",\"shift\":2.47}],\"name\":\"ethanol\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.97},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":4.06},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.2}],\"name\":\"ethyl_acetate\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.06},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.43},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.96}],\"name\":\"ethyl_methyl_ketone\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.51}],\"name\":\"ethylene_glycol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":0.86},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"br_s\",\"shift\":1.27}],\"name\":\"grease^f\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"t\",\"shift\":0.89},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.28}],\"name\":\"n-hexane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":9.5,\"multiplicity\":\"d\",\"shift\":2.57}],\"name\":\"HMPAg\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.28},{\"proton\":\"OH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.16}],\"name\":\"methanol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.31}],\"name\":\"nitromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.87},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.29}],\"name\":\"n-pentane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":6,\"multiplicity\":\"d\",\"shift\":1.09},{\"proton\":\"CH\",\"coupling\":6,\"multiplicity\":\"sep\",\"shift\":3.87}],\"name\":\"2-propanol\"},{\"shifts\":[{\"proton\":\"CH(2)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":8.57},{\"proton\":\"CH(3)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.33},{\"proton\":\"CH(4)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.73}],\"name\":\"pyridine\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":0.08}],\"name\":\"silicone_greasei\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.8},{\"proton\":\"CH2O\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.64}],\"name\":\"tetrahydrofuran\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.33},{\"proton\":\"CH(o/p)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.2},{\"proton\":\"CH(m)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.2}],\"name\":\"toluene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.96},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.45}],\"name\":\"triethylamine\"}],\"solvent\":\"CD3CN\"},{\"impurities\":[{\"shifts\":[{\"proton\":\"X\",\"coupling\":0,\"multiplicity\":\"\",\"shift\":3.31}],\"name\":\"solvent_residual_peak\"},{\"shifts\":[{\"proton\":\"H2O\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.87}],\"name\":\"H2O\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.99}],\"name\":\"acetic_acid\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.15}],\"name\":\"acetone\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.03}],\"name\":\"acetonitrile\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.33}],\"name\":\"benzene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.4}],\"name\":\"tert-butyl_alcohol\"},{\"shifts\":[{\"proton\":\"CCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.15},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.2}],\"name\":\"tert-butyl_methyl_ether\"},{\"shifts\":[{\"proton\":\"ArH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":6.92},{\"proton\":\"ArCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.21},{\"proton\":\"ArC(CH3)3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.4}],\"name\":\"BHTb\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.9}],\"name\":\"chloroform\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.45}],\"name\":\"cyclohexane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.78}],\"name\":\"1,2-dichloroethane\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":5.49}],\"name\":\"dichloromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.18},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.49}],\"name\":\"diethyl_ether\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.61},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.58},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.35}],\"name\":\"diglyme\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.35},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.52}],\"name\":\"1,2-dimethoxyethane\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.07},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.31},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.92}],\"name\":\"dimethylacetamide\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.97},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.99},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.86}],\"name\":\"dimethylformamide\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.65}],\"name\":\"dimethyl_sulfoxide\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.66}],\"name\":\"dioxane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.19},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.6}],\"name\":\"ethanol\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.01},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":4.09},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.24}],\"name\":\"ethyl_acetate\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.12},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.5},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.01}],\"name\":\"ethyl_methyl_ketone\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.59}],\"name\":\"ethylene_glycol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":0.88},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"br_s\",\"shift\":1.29}],\"name\":\"grease^f\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"t\",\"shift\":0.9},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.29}],\"name\":\"n-hexane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":9.5,\"multiplicity\":\"d\",\"shift\":2.64}],\"name\":\"HMPAg\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.34}],\"name\":\"methanol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.34}],\"name\":\"nitromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.89},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.29}],\"name\":\"n-pentane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":6,\"multiplicity\":\"d\",\"shift\":1.5},{\"proton\":\"CH\",\"coupling\":6,\"multiplicity\":\"sep\",\"shift\":3.92}],\"name\":\"2-propanol\"},{\"shifts\":[{\"proton\":\"CH(2)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":8.53},{\"proton\":\"CH(3)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.44},{\"proton\":\"CH(4)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.85}],\"name\":\"pyridine\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":0.1}],\"name\":\"silicone_greasei\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.87},{\"proton\":\"CH2O\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.71}],\"name\":\"tetrahydrofuran\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.32},{\"proton\":\"CH(o/p)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.16},{\"proton\":\"CH(m)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.16}],\"name\":\"toluene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.05},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.58}],\"name\":\"triethylamine\"}],\"solvent\":\"CD3OD\"},{\"impurities\":[{\"shifts\":[{\"proton\":\"X\",\"coupling\":0,\"multiplicity\":\"\",\"shift\":4.79}],\"name\":\"solvent_residual_peak\"},{\"shifts\":[],\"name\":\"H2O\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.08}],\"name\":\"acetic_acid\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.22}],\"name\":\"acetone\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.06}],\"name\":\"acetonitrile\"},{\"shifts\":[],\"name\":\"benzene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.24}],\"name\":\"tert-butyl_alcohol\"},{\"shifts\":[{\"proton\":\"CCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":1.21},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.22}],\"name\":\"tert-butyl_methyl_ether\"},{\"shifts\":[],\"name\":\"BHTb\"},{\"shifts\":[],\"name\":\"chloroform\"},{\"shifts\":[],\"name\":\"cyclohexane\"},{\"shifts\":[],\"name\":\"1,2-dichloroethane\"},{\"shifts\":[],\"name\":\"dichloromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.17},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.56}],\"name\":\"diethyl_ether\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.67},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.61},{\"proton\":\"OCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.37}],\"name\":\"diglyme\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.37},{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.6}],\"name\":\"1,2-dimethoxyethane\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.08},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.06},{\"proton\":\"NCH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.9}],\"name\":\"dimethylacetamide\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":7.92},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.01},{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.85}],\"name\":\"dimethylformamide\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.71}],\"name\":\"dimethyl_sulfoxide\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.75}],\"name\":\"dioxane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.17},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.65}],\"name\":\"ethanol\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.07},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":4.14},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.24}],\"name\":\"ethyl_acetate\"},{\"shifts\":[{\"proton\":\"CH3CO\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":2.19},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":3.18},{\"proton\":\"CH2CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":1.26}],\"name\":\"ethyl_methyl_ketone\"},{\"shifts\":[{\"proton\":\"CH\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.65}],\"name\":\"ethylene_glycol\"},{\"shifts\":[],\"name\":\"grease^f\"},{\"shifts\":[],\"name\":\"n-hexane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":9.5,\"multiplicity\":\"d\",\"shift\":2.61}],\"name\":\"HMPAg\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":3.34}],\"name\":\"methanol\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":0,\"multiplicity\":\"s\",\"shift\":4.4}],\"name\":\"nitromethane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.9}],\"name\":\"n-pentane\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":6,\"multiplicity\":\"d\",\"shift\":1.17},{\"proton\":\"CH\",\"coupling\":6,\"multiplicity\":\"sep\",\"shift\":4.02}],\"name\":\"2-propanol\"},{\"shifts\":[{\"proton\":\"CH(2)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":8.52},{\"proton\":\"CH(3)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.45},{\"proton\":\"CH(4)\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":7.87}],\"name\":\"pyridine\"},{\"shifts\":[],\"name\":\"silicone_greasei\"},{\"shifts\":[{\"proton\":\"CH2\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":1.88},{\"proton\":\"CH2O\",\"coupling\":0,\"multiplicity\":\"m\",\"shift\":3.74}],\"name\":\"tetrahydrofuran\"},{\"shifts\":[],\"name\":\"toluene\"},{\"shifts\":[{\"proton\":\"CH3\",\"coupling\":7,\"multiplicity\":\"t\",\"shift\":0.99},{\"proton\":\"CH2\",\"coupling\":7,\"multiplicity\":\"q\",\"shift\":2.57}],\"name\":\"triethylamine\"}],\"solvent\":\"D2O\"}];\n        //this.impurities = API.getVar(\"impurities\").getValue();\n        //File.parse(\"solvent1H.txt\", {header:false});\n        //console.log(this.impurities[0]);\n    },\n    /*\n     {\n     \"nbPeaks\":1,\"multiplicity\":\"\",\"units\":\"PPM\",\"startX\":3.43505,\"assignment\":\"\",\n     \"pattern\":\"s\",\"stopX\":3.42282,\"observe\":400.08,\"asymmetric\":false,\n     \"delta1\":3.42752,\n     \"integralData\":{\"to\":3.43505,\"value\":590586504,\"from\":3.42282},\n     \"nucleus\":\"1H\",\n     \"peaks\":[{\"intensity\":60066147,\"x\":3.42752}]\n     }\n     */\n    detectSignals: function(peakList, frequency, nH){\n        var signals = [];\n        var index = 0;\n        var signal1D = {};\n        var prevPeak = [100000,0];\n        var rangeX = 16/frequency;//Peaks withing this range are considered to belongs to the same signal1D\n        var spectrumIntegral = 0;\n        for(var i=0;i<peakList.length;i++){\n            if(Math.abs(peakList[i][0]-prevPeak[0])>rangeX){\n                signal1D = {\"nbPeaks\":1,\"units\":\"PPM\",\n                    \"startX\":peakList[i][0]+peakList[i][2],\n                    \"stopX\":peakList[i][0]-peakList[i][2],\n                    \"multiplicity\":\"\",\"pattern\":\"\",\n                    \"observe\":frequency,\"nucleus\":\"1H\",\n                    \"integralData\":{\"from\":peakList[i][0]-peakList[i][2]*2,\n                                    \"to\":peakList[i][0]+peakList[i][2]*2,\n                                    \"value\":this.area(peakList[i])\n                    },\n                    \"peaks\":[]};\n                signal1D.peaks.push({x:peakList[i][0],\"intensity\":peakList[i][1], width:peakList[i][2]});\n                signals.push(signal1D);\n                spectrumIntegral+=this.area(peakList[i]);\n            }\n            else{\n                signal1D.stopX=peakList[i][0]-peakList[i][2];\n                signal1D.nbPeaks++;\n                signal1D.peaks.push({x:peakList[i][0],\"intensity\":peakList[i][1]});\n                signal1D.integralData.value+=this.area(peakList[i]);\n                signal1D.integralData.from=peakList[i][0]-peakList[i][2]*2;\n                spectrumIntegral+=this.area(peakList[i]);\n            }\n            prevPeak=peakList[i];\n        }\n        //Normalize the integral to the normalization parameter and calculate cs\n        for(var i=0;i<signals.length;i++){\n            signals[i].integralData.value*=nH/spectrumIntegral;\n            var peaks = signals[i].peaks;\n            var cs = 0, sum=0;\n            for(var j=0;j<peaks.length;j++){\n                cs+=peaks[j].x*peaks[j].intensity;\n                sum+=peaks[j].intensity;\n            }\n            signals[i].delta1 = cs/sum;\n        }\n\n        return signals;\n    },\n\n    area: function(peak){\n        return Math.abs(peak[1]*peak[2]*1.772453851);\n    },\n\n    /**\n     This function tries to determine which peaks belongs to common laboratory solvents\n     as trace impurities from DOI:10.1021/jo971176v. The only parameter of the table is\n     the solvent name.\n     */\n    labelPeaks:function(peakList, solvent, frequency){\n        var column = 0;\n        //console.log(this.impurities[0]);\n        for(column=4;column<this.impurities.length;column++){\n            //console.log(\"sss\".contains);\n            if(this.impurities[0][column].indexOf(solvent)>=0){\n                break;\n            }\n        }\n        //console.log(\"labelPeaks \"+column);\n        var nImpurities = this.impurities.length-1;\n        var nPeaks = peakList.length;\n        //Scores matrix\n        console.log(nImpurities);\n        var scores = new Array(nImpurities);\n        var max = 0, diff=0, score=0;\n        var gamma = 0.2;//ppm\n        var impurityID=-1;\n        var prevImp = \"\";\n        var maxIntensity = 0,i;\n        for(var j=nPeaks-1;j>=0;j--){\n            if(peakList[j][1]>maxIntensity)\n                maxIntensity = peakList[j][1];\n        }\n\n        for(i=nImpurities-1;i>=0;i--){\n            if(this.impurities[i+1][0]!=prevImp){\n                impurityID++;\n                prevImp=this.impurities[i+1][0];\n            }\n\n            //impID, max, maxIndex, average\n            scores[i]=[impurityID,this.impurities[i+1][2],\n                this.impurities[i+1][3],0,[],0];\n            max = 0;\n            for(var j=nPeaks-1;j>=0;j--){\n                diff = 10000;//Big numnber\n                if(this.impurities[i+1][column]>0)\n                    diff = Math.abs(peakList[j][0]-this.impurities[i+1][column]);\n                if(diff<gamma*3){\n                    score=this.score(diff,gamma);\n                    if(score>max){\n                        max=score;\n                        scores[i][3]=max;\n                        scores[i][4]=[j];\n                    }\n                }\n            }\n        }\n        //Calculate the average score for each impurity set of signals\n        var prevIndex = -1, sum=0, count = 0;\n        var candidates=[];\n        var impuritiesPeaks = [];\n        var i=nImpurities-1;\n        while(i>=-1){\n            if(i==-1||scores[i][0]!=prevIndex&&prevIndex!=-1){\n                if(prevIndex!=-1){\n                    scores[i+1][5]=sum/count;\n                    //Now, lets chech the multiplicities\n                    if(scores[i+1][5]>0.9){\n                        //console.log(scores[i+1][0]+\" SS \");\n                        score=this.updateScore(candidates, peakList, maxIntensity, frequency);\n                        if(score>0.9){\n                            //console.log(candidates);\n                            //TODO: Remove peaks and add it do impuritiesPeaks\n                            for(var j=0;j<candidates.length;j++){\n                                for(var k=candidates[j][4].length-1;k>=0;k--){\n                                    impuritiesPeaks.push(peakList[candidates[j][4][k]]);\n                                }\n                            }\n                        }\n                    }\n                }\n                if(i>=0){\n                    prevIndex=scores[i][0];\n                    sum=scores[i][3];\n                    count=1;\n                    candidates=[scores[i]];\n                }\n\n            }else{\n                prevIndex=scores[i][0];\n                candidates.push(scores[i]);\n                sum+=scores[i][3];\n                count++;\n            }\n            i--;\n        }\n        //console.log(impuritiesPeaks.length);\n\n        return impuritiesPeaks;\n    },\n    /**\n     Updates the score that a given impurity is present in the current spectrum. In this part I would expect\n     to have into account the multiplicity of the signal. Also the relative intensity of the signals.\n     THIS IS the KEY part of the algorithm!!!!!!!!!\n     */\n    updateScore:function(candidates, peakList, maxIntensity, frequency){\n        //You may do it to avoid this part.\n        //return 1;\n\n        //Check the multiplicity\n        var mul = \"\";\n        var j = 0,index, k, maxJppm=this.maxJ/frequency;\n        var min=0, indexMin=0, score=0;\n        for(var i=candidates.length-1;i>=0;i--){\n            mul = candidates[i][1];\n            j = candidates[i][2];\n            //console.log(candidates[i][4]);\n            index = candidates[i][4][0];\n            //console.log(peakList[index][0]+\" \"+mul+\" \"+j+\" \"+index);\n            //I guess we should try to identify the pattern in the nearby.\n            if(mul.indexOf(\"sep\")>=0){\n                if(peakList[index][1]>maxIntensity*0.33){\n                    candidates.splice(i,1);//Not a candidate anymore.\n                }\n            }else{\n                if(mul.indexOf(\"s\")>=0||mul.indexOf(\"X\")>=0){\n                    k=index-1;\n                    min=peakList[index][1];\n                    indexMin=index;\n                    while(k>=0&&Math.abs(peakList[index][0]-peakList[k][0])<0.025){\n                        if(peakList[k][1]<min){\n                            min=peakList[k][1];\n                            indexMin=k;\n                        }\n                        k--;\n                    }\n                    k=index+1;\n                    while(k<peakList.length&&Math.abs(peakList[index][0]-peakList[k][0])<0.025){\n                        if(peakList[k][1]<min){\n                            min=peakList[k][1];\n                            indexMin=k;\n                        }\n                        k++;\n                    }\n                    candidates[i][4][0]=indexMin;\n                    score+=1;\n                }\n            }\n            if(mul.indexOf(\"d\")>=0){\n                if(index>0&&index<peakList.length-1){\n                    var thisJ1 = Math.abs(Math.abs(peakList[index-1][0]-peakList[index][0])*frequency-j);\n                    var thisJ2 = Math.abs(Math.abs(peakList[index+1][0]-peakList[index][0])*frequency-j);\n                    var thisJ3 = Math.abs(Math.abs(peakList[index+1][0]-peakList[index-1][0])*frequency-j);\n                    if(thisJ1<2||thisJ2<2||thisJ3<2){\n                        if(thisJ1<thisJ2){\n                            if(thisJ1<thisJ3){\n                                candidates[i][4]=[index-1,index];\n                                score+=1;\n                            }\n                            else{\n                                candidates[i][4]=[index-1,index+1];\n                                score+=1;\n                            }\n                        }\n                        else{\n                            if(thisJ2<thisJ3){\n                                candidates[i][4]=[index,index+1];\n                                score+=1;\n                            }\n                            else{\n                                candidates[i][4]=[index-1,index+1];\n                                score+=1;\n                            }\n                        }\n                    }\n                }\n            }\n            if(mul.indexOf(\"t\")>=0){\n                //console.log(\"here\");\n                if(index>0&&index<peakList.length-1){\n                    var thisJ1 = Math.abs(Math.abs(peakList[index-1][0]-peakList[index][0])*frequency-j);\n                    var thisJ2 = Math.abs(Math.abs(peakList[index+1][0]-peakList[index][0])*frequency-j);\n                    var thisJ4 = Math.abs(Math.abs(peakList[index+1][0]-peakList[index+2][0])*frequency-j);\n                    //console.log(\"XX \"+thisJ1+\" \"+thisJ2);\n                    if(thisJ1<2){\n                        candidates[i][4]=[index-1, index];\n                        score+=0.5;\n                    }\n                    if(thisJ2<2){\n                        candidates[i][4].push(index+1);\n                        score+=0.5;\n                    }\n                    if(thisJ3<2){\n                        candidates[i][4].push(index+2);\n                        score+=0.5;\n                    }\n\n                }\n            }\n            if(mul.indexOf(\"q\")>=0){\n                if(index>1&&index<peakList.length-2){\n                    var thisJ1 = Math.abs(Math.abs(peakList[index-2][0]-peakList[index-1][0])*frequency-j);\n                    var thisJ2 = Math.abs(Math.abs(peakList[index-1][0]-peakList[index][0])*frequency-j);\n                    var thisJ3 = Math.abs(Math.abs(peakList[index+1][0]-peakList[index][0])*frequency-j);\n                    var thisJ4= Math.abs(Math.abs(peakList[index+2][0]-peakList[index+1][0])*frequency-j);\n                    if(thisJ1<2){\n                        candidates[i][4].push(index-2);\n                        score+=0.25;\n                    }\n                    if(thisJ2<2){\n                        candidates[i][4].push(index-1);\n                        score+=0.25;\n                    }\n                    if(thisJ3<2){\n                        candidates[i][4].push(index+1);\n                        score+=0.25;\n                    }\n                    if(thisJ4<2){\n                        candidates[i][4].push(index+2);\n                        score+=0.25;\n                    }\n                }\n            }\n\n\n        }\n\n        //console.log(score/candidates.length+ \" -> \"+candidates);\n        //Lets remove the candidates to be impurities.\n        //It would be equivalent to mark the peaks as valid again\n        if(score/candidates.length < 0.5){\n            for(var i=candidates.length-1;i>=0;i--){\n                candidates.splice(i,1);\n            }\n            return 0;\n        }\n        //Check the relative intensity\n        return 1;\n    },\n\n    score:function(value, gamma){\n        return Math.exp(-Math.pow(value/gamma,2)/2.0);\n    },\n    /**\n     This function joint all the nearby peaks into single signals. We may try to\n     determine the J-couplings and the multiplicity here.\n     */\n    createSignals:function(){\n\n    },\n    /**\n     Determine the peaks of the spectrum by applying a global spectrum deconvolution.\n     */\n    GSD:function(spectrum){\n        var data= spectrum.getXYData();\n        var y = data[1];\n        var x = data[0];\n\n        //Lets remove the noise for better performance\n        var noiseLevel = Math.abs(spectrum.getNoiseLevel());\n\n        //console.log(\"noise level \"+noiseLevel);\n        for(var i=y.length-1;i>=0;i--)\n            if(Math.abs(y[i])<noiseLevel)\n                y[i]=0;\n\n        var dx = x[1]-x[0];\n        // fill convolution frecuency axis\n        var X = [];//x[2:(x.length-2)];\n\n        // fill Savitzky-Golay polynomes\n        var Y = new Array();\n        var dY = new Array();\n        var ddY = new Array();\n        for (var j = 2; j < x.length -2; j++){\n            Y.push((1/35.0)*(-3*y[j-2] + 12*y[j-1] + 17*y[j] + 12*y[j+1] - 3*y[j+2]));\n            X.push(x[j]);\n            dY.push((1/(12*dx))*(y[j-2] - 8*y[j-1] + 8*y[j+1] - y[j+2]));\n            ddY.push((1/(7*dx*dx))*(2*y[j-2] - y[j-1] - 2*y[j] - y[j+1] + 2*y[j+2]));\n        }\n        // pushs max and min points in convolution functions\n        var maxY = new Array();\n        var stackInt = new Array();\n        var intervals = new Array();\n        var minddY = new Array();\n        //console.log(Y.length);\n        for (var i = 1; i < Y.length -1 ; i++)\n        {\n            if ((Y[i] > Y[i-1]) && (Y[i] > Y[i+1]))\n            {\n                maxY.push(X[i]);\n            }\n            if ((dY[i] < dY[i-1]) && (dY[i] < dY[i+1]))\n            {\n                stackInt.push(X[i]);\n            }\n            if ((dY[i] > dY[i-1]) && (dY[i] > dY[i+1]))\n            {\n                try{\n                    intervals.push( [X[i] , stackInt.pop()] );\n                }\n                catch(e){\n                    console.log(\"Error I don't know why\");\n                }\n            }\n            if ((ddY[i] < ddY[i-1]) && (ddY[i] < ddY[i+1]))\n            {\n                minddY.push( [X[i], Y[i]] );\n            }\n        }\n        // creates a list with (frecuency, linewith, height)\n        var signalsS = new Array();\n        var signals = new Array();\n        for (var j = 0; j < minddY.length; j++)\n        {\n            var f = minddY[j];\n            var frecuency = f[0];\n            var possible = new Array();\n            for (var k=0;k<intervals.length;k++){\n                var i = intervals[k];\n                if (frecuency > i[0] && frecuency < i[1])\n                    possible.push(i);\n            }\n            //console.log(\"possible \"+possible.length);\n            if (possible.length > 0)\n                if (possible.length == 1)\n                {\n                    var inter = possible[0];\n                    var linewith = inter[1] - inter[0];\n                    var height = f[1];\n                    var points = Y;\n                    //console.log(frecuency);\n                    points.sort(function(a, b){return a-b});\n                    if ((linewith > 2*dx) && (height > 0.0001*points[0])){\n                        signals.push( [frecuency, height, linewith] );\n                        signalsS.push([frecuency,height]);\n\n                    }\n                }\n                else\n                {\n                    //TODO: nested peaks\n                    console.log(\"Nested \"+possible);\n                }\n        }\n        return signals;\n        //jexport(\"peakPicking\",signalsS);\n    }\n}\n\nmodule.exports = PeakPicking;\n},{}],10:[function(require,module,exports){\nvar FFTUtils = require(\"./FFTUtils\");\nvar PeakOptimizer = require(\"./PeakOptimizer\");\nvar SimpleClustering =  require(\"./SimpleClustering\");\nvar StatArray = require('ml-stat/array');\n\nvar PeakPicking2D= {\n    DEBUG : false,\n    smallFilter : [\n        [0, 0, 1, 2, 2, 2, 1, 0, 0],\n        [0, 1, 4, 7, 7, 7, 4, 1, 0],\n        [1, 4, 5, 3, 0, 3, 5, 4, 1],\n        [2, 7, 3, -12, -23, -12, 3, 7, 2],\n        [2, 7, 0, -23, -40, -23, 0, 7, 2],\n        [2, 7, 3, -12, -23, -12, 3, 7, 2],\n        [1, 4, 5, 3, 0, 3, 5, 4, 1],\n        [0, 1, 3, 7, 7, 7, 3, 1, 0],\n        [0, 0, 1, 2, 2, 2, 1, 0, 0]],\n\n\n    //How noisy is the spectrum depending on the kind of experiment.\n    getLoGnStdDevNMR : function(spectraData) {\n    if (spectraData.isHomoNuclear())\n        return 1.5\n    else\n        return 3;\n    },\n\n    findPeaks2D : function(spectraData, thresholdFactor){\n        if(thresholdFactor==0)\n            thresholdFactor=1;\n        if(thresholdFactor<0)\n            thresholdFactor=-thresholdFactor;\n        var nbPoints = spectraData.getNbPoints();\n        var nbSubSpectra = spectraData.getNbSubSpectra();\n\n        var data = new Array(nbPoints * nbSubSpectra);\n        //var data = new Array(nbPoints * nbSubSpectra/2);\n\n        var isHomonuclear = spectraData.isHomoNuclear();\n\n        //var sum = new Array(nbPoints);\n\n        for (var iSubSpectra = 0; iSubSpectra < nbSubSpectra; iSubSpectra++) {\n            var spectrum = spectraData.getYData(iSubSpectra);\n            for (var iCol = 0; iCol < nbPoints; iCol++) {\n                if(isHomonuclear){\n                    data[iSubSpectra * nbPoints + iCol] =(spectrum[iCol]>0?spectrum[iCol]:0);\n                }\n                else{\n                    data[iSubSpectra * nbPoints + iCol] =Math.abs(spectrum[iCol]);\n                }\n            }\n        }\n\n        var nStdDev = this.getLoGnStdDevNMR(spectraData);\n        if(isHomonuclear){\n            var convolutedSpectrum = this.convoluteWithLoG(data, nbSubSpectra, nbPoints);\n            var peaksMC1 = this.findPeaks2DLoG(data, convolutedSpectrum, nbSubSpectra, nbPoints, nStdDev*thresholdFactor);//)1.5);\n            var peaksMax1 = this.findPeaks2DMax(data, convolutedSpectrum, nbSubSpectra, nbPoints, (nStdDev+0.5)*thresholdFactor);//2.0);\n            for(var i=0;i<peaksMC1.length;i++)\n                peaksMax1.push(peaksMC1[i]);\n            //console.log(peaksMax1);\n            return PeakOptimizer.enhanceSymmetry(this.createSignals2D(peaksMax1,spectraData,24));\n\n        }\n        else{\n            var convolutedSpectrum = this.convoluteWithLoG(data, nbSubSpectra, nbPoints);\n            var peaksMC1 = this.findPeaks2DLoG(data, convolutedSpectrum, nbSubSpectra, nbPoints, nStdDev*thresholdFactor);\n            //Peak2D[] peaksMC1 = PeakPicking2D.findPeaks2DMax(data, nbSubSpectra, nbPoints, (nStdDev+0.5)*thresholdFactor);\n            //Remove peaks with less than 3% of the intensity of the highest peak\n            return this.createSignals2D(PeakOptimizer.clean(peaksMC1, 0.05), spectraData,24);\n        }\n\n    },\n    /**\n     Calculates the 1st derivative of the 2D matrix, using the LoG kernel approximation\n     */\n    convoluteWithLoG : function(inputSpectrum, nRows, nCols){\n        var ftSpectrum = new Array(nCols * nRows);\n        for (var i = nRows * nCols-1; i >=0; i--){\n            ftSpectrum[i] = inputSpectrum[i];\n        }\n\n        ftSpectrum = FFTUtils.fft2DArray(ftSpectrum, nRows, nCols);\n\n        var dim = this.smallFilter.length;\n        var ftFilterData = new Array(nCols * nRows);\n        for(var i=nCols * nRows-1;i>=0;i--){\n            ftFilterData[i]=0;\n        }\n\n        var iRow, iCol;\n        var shift = (dim - 1) / 2;\n        //console.log(dim);\n        for (var ir = 0; ir < dim; ir++) {\n            iRow = (ir - shift + nRows) % nRows;\n            for (var ic = 0; ic < dim; ic++) {\n                iCol = (ic - shift + nCols) % nCols;\n                ftFilterData[iRow * nCols + iCol] = this.smallFilter[ir][ic];\n            }\n        }\n\n        ftFilterData = FFTUtils.fft2DArray(ftFilterData, nRows, nCols);\n\n        var ftRows = nRows * 2;\n        var ftCols = nCols / 2 + 1;\n        FFTUtils.convolute2DI(ftSpectrum, ftFilterData, ftRows, ftCols);\n\n        return  FFTUtils.ifft2DArray(ftSpectrum, ftRows, ftCols);\n    },\n    /**\n     Detects all the 2D-peaks in the given spectrum based on center of mass logic.\n     */\n    findPeaks2DLoG : function(inputSpectrum, convolutedSpectrum, nRows, nCols, nStdDev) {\n        var threshold = 0;\n        for(var i=nCols*nRows-2;i>=0;i--)\n            threshold+=Math.pow(convolutedSpectrum[i]-convolutedSpectrum[i+1],2);\n        threshold=-Math.sqrt(threshold);\n        threshold*=nStdDev/nRows;\n\n        var bitmask = new Array(nCols * nRows);\n        for(var i=nCols * nRows-1;i>=0;i--){\n            bitmask[i]=0;\n        }\n        var nbDetectedPoints = 0;\n        var lasti=-1;\n        for (var i = convolutedSpectrum.length-1; i >=0 ; i--) {\n            if (convolutedSpectrum[i] < threshold) {\n                bitmask[i] = 1;\n                nbDetectedPoints++;\n            }\n        }\n        var iStart = 0;\n        //int ranges = 0;\n        var peakList = [];\n\n        while (nbDetectedPoints != 0) {\n            for (iStart; iStart < bitmask.length && bitmask[iStart]==0; iStart++){};\n            //\n            if (iStart == bitmask.length)\n                break;\n\n            nbDetectedPoints -= this.extractArea(inputSpectrum, convolutedSpectrum,\n                bitmask, iStart, nRows, nCols, peakList, threshold);\n        }\n\n        if (peakList.length > 0&&this.DEBUG) {\n            console.log(\"No peak found\");\n        }\n        return peakList;\n    },\n    /**\n     Detects all the 2D-peaks in the given spectrum based on the Max logic.\n     */\n    findPeaks2DMax : function(inputSpectrum, cs, nRows, nCols, nStdDev) {\n        var threshold = 0;\n        for(var i=nCols*nRows-2;i>=0;i--)\n            threshold+=Math.pow(cs[i]-cs[i+1],2);\n        threshold=-Math.sqrt(threshold);\n        threshold*=nStdDev/nRows;\n\n        var rowI,colI;\n        var peakListMax = [];\n        var tmpIndex = 0;\n        for (var i = 0; i < cs.length; i++) {\n            if (cs[i] < threshold) {\n                //It is a peak?\n                rowI=Math.floor(i/nCols);\n                colI=i%nCols;\n                //Verifies if this point is a peak;\n                if(rowI>0&&rowI+1<nRows&&colI+1<nCols&&colI>0){\n                    //It is the minimum in the same row\n                    if(cs[i]<cs[i+1]&&cs[i]<cs[i-1]){\n                        //It is the minimum in the previous row\n                        tmpIndex=(rowI-1)*nCols+colI;\n                        if(cs[i]<cs[tmpIndex-1]&&cs[i]<cs[tmpIndex]&&cs[i]<cs[tmpIndex+1]){\n                            //It is the minimum in the next row\n                            tmpIndex=(rowI+1)*nCols+colI;\n                            if(cs[i]<cs[tmpIndex-1]&&cs[i]<cs[tmpIndex]&&cs[i]<cs[tmpIndex+1]){\n                                peakListMax.push({x:colI,y:rowI,z:inputSpectrum[i]});\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return peakListMax;\n    },\n    /*\n     This function detects the peaks\n     */\n    extractArea : function(spectrum, convolutedSpectrum, bitmask, iStart,\n                                                   nRows, nCols, peakList, threshold) {\n        var iRow = Math.floor(iStart / nCols);\n        var iCol = iStart % nCols;\n        var peakPoints =[];\n        //console.log(iStart+\" \"+iRow+\" \"+iCol);\n        // scanBitmask(bitmask, convolutedSpectrum, nRows, nCols, iRow, iCol,\n        // peakPoints);\n        this.scanBitmask(bitmask, nRows, nCols, iRow, iCol, peakPoints);\n        //console.log(\"extractArea.lng \"+peakPoints.length);\n        var x = new Array(peakPoints.length);\n        var y = new Array(peakPoints.length);\n        var z = new Array(peakPoints.length);\n        var nValues = peakPoints.length;\n        var xAverage = 0.0;\n        var yAverage = 0.0;\n        var zSum = 0.0;\n        if (nValues >= 9) {\n            if (this.DEBUG)\n                console.log(\"nValues=\" + nValues);\n            var maxValue = Number.NEGATIVE_INFINITY;\n            var maxIndex = -1;\n            for (var i = 0; i < nValues; i++) {\n                var pt = (peakPoints.splice(0,1))[0];\n                x[i] = pt[0];\n                y[i] = pt[1];\n                z[i] = spectrum[pt[1] * nCols + pt[0]];\n                xAverage += x[i] * z[i];\n                yAverage += y[i] * z[i];\n                zSum += z[i];\n                if (z[i] > maxValue) {\n                    maxValue = z[i];\n                    maxIndex = i;\n                }\n            }\n            if (maxIndex != -1) {\n                xAverage /= zSum;\n                yAverage /= zSum;\n                var newPeak = {x:xAverage, y:yAverage, z:zSum};\n                var minmax;\n                minmax =StatArray.minMax(x);\n                newPeak.minX=minmax.min;\n                newPeak.maxX=minmax.max;\n                minmax = StatArray.minMax(y);\n                newPeak.minY=minmax.min;\n                newPeak.maxY=minmax.max;\n                peakList.push(newPeak);\n            }\n        }\n        return nValues;\n    },\n    /*\n     Return all the peaks(x,y points) that composes a signal.\n     */\n    scanBitmask : function(bitmask, nRows, nCols, iRow, iCol, peakPoints) {\n        //console.log(nRows+\" \"+iRow+\" \"+nCols+\" \"+iCol);\n        if (iRow < 0 || iCol < 0 || iCol == nCols || iRow == nRows)\n            return;\n        if (bitmask[iRow * nCols + iCol]) {\n            bitmask[iRow * nCols + iCol] = 0;\n            peakPoints.push([iCol, iRow]);\n            this.scanBitmask(bitmask, nRows, nCols, iRow + 1, iCol, peakPoints);\n            this.scanBitmask(bitmask, nRows, nCols, iRow - 1, iCol, peakPoints);\n            this.scanBitmask(bitmask, nRows, nCols, iRow, iCol + 1, peakPoints);\n            this.scanBitmask(bitmask, nRows, nCols, iRow, iCol - 1, peakPoints);\n        }\n    },\n    /**\n     This function converts a set of 2D-peaks in 2D-signals. Each signal could be composed\n     of many 2D-peaks, and it has some additional information related to the NMR spectrum.\n     */\n    createSignals2D : function(peaks, spectraData, tolerance){\n        //console.log(peaks.length);\n        var signals=[];\n        var nbSubSpectra = spectraData.getNbSubSpectra();\n\n        var bf1=spectraData.observeFrequencyX();\n        var bf2=spectraData.observeFrequencyY();\n\n        var firstY = spectraData.getFirstY();\n        var lastY = spectraData.getLastY();\n        var dy = spectraData.getDeltaY();\n\n        //console.log(firstY+\" \"+lastY+\" \"+dy+\" \"+nbSubSpectra);\n        //spectraData.setActiveElement(0);\n        var noValid=0;\n        for (var i = peaks.length-1; i >=0 ; i--) {\n            //console.log(peaks[i].x+\" \"+spectraData.arrayPointToUnits(peaks[i].x));\n            //console.log(peaks[i].y+\" \"+(firstY + dy * (peaks[i].y)));\n            peaks[i].x=(spectraData.arrayPointToUnits(peaks[i].x));\n            peaks[i].y=(firstY + dy * (peaks[i].y));\n\n            //console.log(peaks[i])\n            //Still having problems to correctly detect peaks on those areas. So I'm removing everything there.\n            if(peaks[i].y<-1||peaks[i].y>=210){\n                peaks.splice(i,1);\n            }\n        }\n        //console.log(peaks);\n        //The connectivity matrix is an square and symmetric matrix, so we'll only store the upper diagonal in an\n        //array like form\n        var connectivity = [];\n        var tmp=0;\n        tolerance*=tolerance;\n        //console.log(tolerance);\n        for (var i = 0; i < peaks.length; i++) {\n            for (var j = i; j < peaks.length; j++) {\n                tmp=Math.pow((peaks[i].x-peaks[j].x)*bf1,2)+Math.pow((peaks[i].y-peaks[j].y)*bf2,2);\n                //Console.log(peaks[i].getX()+\" \"+peaks[j].getX()+\" \"+tmp);\n                if(tmp<tolerance){//30*30Hz We cannot distinguish peaks with less than 20 Hz of separation\n                    connectivity.push(1);\n                }\n                else{\n                    connectivity.push(0);\n                }\n            }\n        }\n\n        //console.log(connectivity);\n\n        var clusters = SimpleClustering.fullClusterGenerator(connectivity);\n\n        //console.log(clusters)\n\n        var signals = [];\n        if (peaks != null) {\n            var xValue, yValue;\n            for (var iCluster = 0; iCluster < clusters.length; iCluster++) {\n                var signal={nucleusX:spectraData.getNucleus(1),nucleusY:spectraData.getNucleus(2)};\n                signal.resolutionX=( spectraData.getLastX()-spectraData.getFirstX()) / spectraData.getNbPoints();\n                signal.resolutionY=dy;\n                var peaks2D = [];\n                signal.shiftX = 0;\n                signal.shiftY = 0;\n                var sumZ = 0;\n                for(var jPeak = clusters[iCluster].length-1;jPeak>=0;jPeak--){\n                    if(clusters[iCluster][jPeak]==1){\n                        peaks2D.push(peaks[jPeak]);\n                        signal.shiftX+=peaks[jPeak].x*peaks[jPeak].z;\n                        signal.shiftY+=peaks[jPeak].y*peaks[jPeak].z;\n                        sumZ+=peaks[jPeak].z;\n                    }\n                }\n                signal.shiftX/=sumZ;\n                signal.shiftY/=sumZ;\n                signal.peaks = peaks2D;\n                signals.push(signal);\n            }\n        }\n        //console.log(signals);\n        return signals;\n    }\n}\n\nmodule.exports = PeakPicking2D;\n},{\"./FFTUtils\":5,\"./PeakOptimizer\":8,\"./SimpleClustering\":12,\"ml-stat/array\":3}],11:[function(require,module,exports){\n// small note on the best way to define array\n// http://jsperf.com/lp-array-and-loops/2\n\nvar StatArray = require('ml-stat/array');\nvar JcampConverter=require(\"jcampconverter\");\n\nfunction SD(sd) {\n    this.sd=sd;\n    this.activeElement=0;\n\n    this.DATACLASS_XY = 1;\n    this.DATACLASS_PEAK = 2;\n\n    this.TYPE_NMR_SPECTRUM = 'NMR Spectrum';\n    this.TYPE_NMR_FID = 'NMR FID';\n    this.TYPE_IR = 'IR';\n    this.TYPE_RAMAN = 'RAMAN';\n    this.TYPE_UV = 'UV';\n    this.TYPE_MASS = 'MASS';\n    this.TYPE_HPLC = 'HPLC';\n    this.TYPE_GC = 'GC';\n    this.TYPE_CD = 'CD';\n    this.TYPE_2DNMR_SPECTRUM = 'nD NMR SPECTRUM';\n    this.TYPE_2DNMR_FID = 'nD NMR FID';\n    this.TYPE_XY_DEC = 'XY DEC';\n    this.TYPE_XY_INC= 'XY INC';\n    this.TYPE_IV = 'IV';\n}\n\nSD.fromJcamp = function(jcamp) {\n    var spectrum= JcampConverter.convert(jcamp,{xy:true});\n    return new SD(spectrum);\n}\n\n\n/**\n * @function setActiveElement(nactiveSpectrum);\n * This function sets the nactiveSpectrum sub-spectrum as active\n * \n */\nSD.prototype.setActiveElement = function(nactiveSpectrum){\n    this.activeElement=nactiveSpectrum;\n}\n\n/**\n * @function getActiveElement();\n * This function returns the index of the active sub-spectrum.\n */\nSD.prototype.getActiveElement = function(){\n    return this.activeElement;\n}\n/**\n * This function returns the units of the independent dimension.\n * @returns {xUnit|*|M.xUnit}\n */\nSD.prototype.getXUnits = function(){\n    return this.getSpectrum().xUnit;\n}\n\n/**\n * * This function returns the units of the dependent variable.\n * @returns {yUnit|*|M.yUnit}\n */\nSD.prototype.getYUnits = function(){\n    return this.getSpectrum().yUnit;\n}\n\n/**\n*   Returns the number of points in the current spectrum\n*/\nSD.prototype.getNbPoints=function(i){\n    return this.getSpectrumData(i).y.length;\n}\n\n/**\n * Return the first value of the direct dimension\n */\nSD.prototype.getFirstX=function(i) {\n    i=i||this.activeElement;\n    return this.sd.spectra[i].firstX;\n}\n\n/**\n * Return the last value of the direct dimension\n */\nSD.prototype.getLastX=function(i) {\n    i=i||this.activeElement;\n    return this.sd.spectra[i].lastX;\n}\n\n/**\n * Return the first value of the direct dimension\n */\nSD.prototype.getFirstY=function(i) {\n    i=i||this.activeElement;\n    return this.sd.spectra[i].firstY;\n}\n\n/**\n * Return the first value of the direct dimension\n */\nSD.prototype.getLastY = function(i){\n    i=i||this.activeElement;\n    return this.sd.spectra[i].lastY;\n}\n\nSD.prototype.setDataClass = function(dataClass){\n    if(dataClass==this.DATACLASS_PEAK) {\n        this.getSpectrum().isPeaktable = true;\n        this.getSpectrum().isXYdata = false;\n    }\n    if(dataClass==this.DATACLASS_XY){\n        this.getSpectrum().isXYdata = true;\n        this.getSpectrum().isPeaktable = false;\n    }\n}\n\n/**\n * @function isDataClassPeak();\n * Is this a PEAKTABLE spectrum?\n */\nSD.prototype.isDataClassPeak = function(){\n    if(this.getSpectrum().isPeaktable)\n        return  this.getSpectrum().isPeaktable;\n    return false;\n}\n\n/**\n * @function isDataClassXY();\n * Is this a XY spectrum?\n */\nSD.prototype.isDataClassXY = function(){\n    if(this.getSpectrum().isXYdata)\n        return  this.getSpectrum().isXYdata;\n    return false\n}\n\nSD.prototype.setDataType = function(dataType){\n    this.getSpectrum().dataType=dataType;\n}\n\nSD.prototype.getDataType = function(){\n    return this.getSpectrum().dataType;\n}\n\n/**\n* Return the i-th sub-spectra in the current spectrum\n*/\nSD.prototype.getSpectrumData=function(i) {\n    i=i||this.activeElement;\n    return this.sd.spectra[i].data[0];\n}\n\n/**\n * Return the i-th sub-spectra in the current spectrum\n */\nSD.prototype.getSpectrum=function(i) {\n    i=i||this.activeElement;\n    return this.sd.spectra[i];\n}\n\n/**\n * Returns the number of sub-spectra in this object\n */\nSD.prototype.getNbSubSpectra=function(){\n    return this.sd.spectra.length;\n}\n\n\n/**\n *   Returns an array containing the x values of the spectrum\n */\nSD.prototype.getXData=function(i){\n    return this.getSpectrumData(i).x;\n}\n\n/**\n * @function getYData();\n * This function returns a double array containing the values of the intensity for the current sub-spectrum.\n */\nSD.prototype.getYData=function(i){\n    return this.getSpectrumData(i).y;\n}\n\nSD.prototype.getX=function(i){\n    return this.getXData()[i];\n}\n\nSD.prototype.getY=function(i){\n    return this.getYData()[i];\n}\n\n/**\n * @function getXYData();\n * To get a 2 dimensional array with the x and y of this spectraData( Only for 1D spectra).\n * Returns a double[2][nbPoints] where the first row contains the x values and the second row the y values.\n */\nSD.prototype.getXYData=function(i){\n    return [this.getXData(i),this.getYData(i)];\n}\n\nSD.prototype.getTitle=function(i) {\n    return this.getSpectrum(i).title;\n}\n\n/**\n * @function setTitle(newTitle);\n * To set the title of this spectraData.\n * @param newTitle The new title\n */\nSD.prototype.setTitle=function(newTitle,i) {\n    this.getSpectrum(i).title=newTitle;\n}\n\n/**\n * @function getMinY(i)\n * This function returns the minimal value of Y\n */\nSD.prototype.getMinY=function(i) {\n    return  StatArray.min(this.getYData(i));\n}\n\n/**\n * @function getMaxY(i)\n * This function returns the maximal value of Y\n */\nSD.prototype.getMaxY=function(i) {\n    return  StatArray.max(this.getYData(i));\n}\n\n/**\n * @function getMinMax(i)\n */\nSD.prototype.getMinMaxY=function(i) {\n    return  StatArray.minMax(this.getYData(i));\n}\n\n\n/**\n* Get the noise threshold level of the current spectrum. It uses median instead of the mean\n*/\nSD.prototype.getNoiseLevel=function(){\n    var mean = 0,stddev=0;\n    var y = this.getYData();\n    var length = this.getNbPoints(),i=0;\n    for(i = 0; i < length; i++){\n        mean+=y[i];\n    }\n    mean/=this.getNbPoints();\n    var averageDeviations = new Array(length);\n    for (i = 0; i < length; i++)\n        averageDeviations[i] = Math.abs(y[i] - mean);\n    averageDeviations.sort();\n    if (length % 2 == 1) {\n        stddev = averageDeviations[(length-1)/2] / 0.6745;\n    } else {\n        stddev = 0.5*(averageDeviations[length/2]+averageDeviations[length/2-1]) / 0.6745;\n    }\n\n    return stddev*this.getNMRPeakThreshold(this.getNucleus(1));\n}\n\n\n/**\n* Return the xValue for the given index\n*/\nSD.prototype.arrayPointToUnits=function(doublePoint){\n    return (this.getFirstX() - (doublePoint* (this.getFirstX() - this.getLastX()) / (this.getNbPoints()-1)));\n}\n\n/**\n * Returns the index-value for the data array corresponding to a X-value in\n * units for the element of spectraData to which it is linked (spectraNb).\n * This method makes use of spectraData.getFirstX(), spectraData.getLastX()\n * and spectraData.getNbPoints() to derive the return value if it of data class XY\n * It performs a binary search if the spectrum is a peak table\n *\n * @param inValue\n *            (value in Units to be converted)\n * @return an integer representing the index value of the inValue\n */\nSD.prototype.unitsToArrayPoint=function(inValue){\n    if (this.isDataClassXY()) {\n        return Math.ceil((this.getFirstX() - inValue) * (-1.0 / this.getInterval()));\n    } else if (this.isDataClassPeak())\n    {\n        var currentArrayPoint = 0,upperLimit=this.getNbPoints()-1, lowerLimit=0, midPoint;\n        //If inverted scale\n        if(this.getFirstX()>this.getLastX()){\n            upperLimit=0;\n            lowerLimit=this.getNbPoints()-1;\n\n            if(inValue>this.getFirstX())\n                return this.getNbPoints();\n            if(inValue<this.getLastX())\n                return -1;\n        }\n        else{\n            if(inValue<this.getFirstX())\n                return -1;\n            if(inValue>this.getLastX())\n                return this.getNbPoints();\n        }\n\n        while (Math.abs(upperLimit-lowerLimit) > 1)\n        {\n            midPoint=Math.round(Math.floor((upperLimit+lowerLimit)/2));\n            //x=this.getX(midPoint);\n            if(this.getX(midPoint)==inValue)\n                return midPoint;\n            if(this.getX(midPoint)>inValue)\n                upperLimit=midPoint;\n            else\n                lowerLimit=midPoint;\n        }\n        currentArrayPoint=lowerLimit;\n        if(Math.abs(this.getX(lowerLimit)-inValue)>Math.abs(this.getX(upperLimit)-inValue))\n            currentArrayPoint=upperLimit;\n        return currentArrayPoint;\n    } else {\n        return 0;\n    }\n}\n\n\n\n/**\n* Returns the separation between 2 consecutive points in the spectra domain\n*/\nSD.prototype.getDeltaX=function(){\n    return (this.getLastX()-this.getFirstX()) / (this.getNbPoints()-1);\n}\n\n/**\n * @function setMinMax(min,max)\n * This function scales the values of Y between the min and max parameters\n * @param min   Minimum desired value for Y\n * @param max   Maximum desired value for Y\n */\nSD.prototype.setMinMax=function(min,max) {\n    var y = this.getYData();\n    var minMax = StatArray.minMax(y);\n    var factor = (max - min)/(minMax.max-minMax.min);\n    for(var i=0;i< y.length;i++){\n        y[i]=(y[i]-minMax.min)*factor+min;\n    }\n}\n\n/**\n * @function setMin(min)\n * This function scales the values of Y to fit the min parameter\n * @param min   Minimum desired value for Y\n */\nSD.prototype.setMin=function(min) {\n    var y = this.getYData();\n    var currentMin = StatArray.min(y);\n    var factor = min/currentMin;\n    for(var i=0;i< y.length;i++){\n        y[i]*=factor;\n    }\n}\n\n/**\n * @function setMax(max)\n * This function scales the values of Y to fit the max parameter\n * @param max   Maximum desired value for Y\n */\nSD.prototype.setMax=function(max) {\n    var y = this.getYData();\n    var currentMin = StatArray.max(y);\n    var factor = max/currentMin;\n    for(var i=0;i< y.length;i++){\n        y[i]*=factor;\n    }\n}\n\n/**\n * @function YShift(value)\n * This function shifts the values of Y\n * @param value Distance of the shift\n */\nSD.prototype.YShift=function(value) {\n    var y = this.getSpectrumData().y;\n    var length = this.getNbPoints(),i=0;\n    for(i=0;i<length;i++){\n        y[i]+=value;\n    }\n    this.getSpectrum().firstY+=value;\n    this.getSpectrum().lastY+=value;\n}\n\n/**\n * @function shift(globalShift)\n * This function shift the given spectraData. After this function is applied, all the peaks in the\n * spectraData will be found at xi+globalShift\n * @param globalShift\n */\nSD.prototype.shift=function(globalShift) {\n    for(var i=0;i<this.getNbSubSpectra();i++){\n        this.setActiveElement(i);\n        var x = this.getSpectrumData().x;\n        var length = this.getNbPoints(),i=0;\n        for(i=0;i<length;i++){\n            x[i]+=globalShift;\n        }\n\n        this.getSpectrum().firstX+=globalShift;\n        this.getSpectrum().lastX+=globalShift;\n    }\n\n}\n\n/**\n * @function fillWith(from, to, value)\n * This function fills a zone of the spectrum with the given value.\n * @param from\n * @param to\n * @param fillWith\n */\nSD.prototype.fillWith=function(from, to, value) {\n    var tmp, start, end, x, y;\n    if(from > to) {\n        var tmp = from;\n        from = to;\n        to = tmp;\n    }\n\n    for(var i=0;i<this.getNbSubSpectra();i++){\n        this.setActiveElement(i);\n        x = this.getXData();\n        y = this.getYData();\n        start = this.unitsToArrayPoint(from);\n        end = this.unitsToArrayPoint(to);\n        if(start > end){\n            tmp = start;\n            start = end;\n            end = tmp;\n        }\n        if(start<0)\n            start=0;\n        if(end>=this.getNbPoints)\n            end=this.getNbPoints-1;\n        for(i=start;i<=end;i++){\n                y[i]=value;\n        }\n    }\n}\n\n/**\n * @function suppressZone(from, to)\n * This function suppress a zone from the given spectraData within the given x range.\n * Returns a spectraData of type PEAKDATA without peaks in the given region\n * @param from\n * @param to\n */\nSD.prototype.suppressZone=function(from, to) {\n    var tmp, start, end, x, y;\n    if(from > to) {\n        var tmp = from;\n        from = to;\n        to = tmp;\n    }\n\n    for(var i=0;i<this.getNbSubSpectra();i++){\n        this.setActiveElement(i);\n        x = this.getXData();\n        y = this.getYData();\n        start = this.unitsToArrayPoint(from);\n        end = this.unitsToArrayPoint(to);\n        if(start > end){\n            tmp = start;\n            start = end;\n            end = tmp;\n        }\n        if(start<0)\n            start=0;\n        if(end>=this.getNbPoints)\n            end=this.getNbPoints-1;\n        for(i=end;i>=start;i--){\n            y.splice(i,1);\n            x.splice(i,1);\n        }\n    }\n    this.setDataClass(this.DATACLASS_PEAK);\n}\n\n\n/**\n * @function peakPicking(parameters)\n * This function performs a simple peak detection in a spectraData. The parameters that can be specified are:\n * Returns a two dimensional array of double specifying [x,y] of the detected peaks.\n * @option from:    Lower limit.\n * @option to:      Upper limit.\n * @option threshold: The minimum intensity to consider a peak as a signal, expressed as a percentage of the highest peak. \n * @option stdev: Number of standard deviation of the noise for the threshold calculation if a threshold is not specified.\n * @option resolution: The maximum resolution of the spectrum for considering peaks.\n * @option yInverted: Is it a Y inverted spectrum?(like an IR spectrum)\n * @option smooth: A function for smoothing the spectraData before the detection. If your are dealing with\n * experimental spectra, smoothing will make the algorithm less prune to false positives.\n */\nSD.prototype.simplePeakPicking=function(parameters) {\n    //@TODO implements this filter\n}\n\n/**\n * @function getMaxPeak();\n * Get the maximum peak\n */\nSD.prototype.getMaxPeak = function(){\n    var y = this.getSpectraDataY();\n    var max=y[0], index=0;\n    for(var i=0;i< y.length;i++){\n        if(max<y[i]){\n            max = y[i];\n            index=i;\n        }\n    }\n    return [this.getSpectraDataX()[index],max];\n}\n\n/**\n * @function getParamDouble(name, defvalue);\n * Get the value of the parameter\n * @param  name The parameter name\n * @param  defvalue The default value\n */\nSD.prototype.getParamDouble = function(name, defvalue){\n    var value = this.sd.info[name];\n    if(!value)\n        value = defvalue;\n    return value;\n}\n\n/**\n * @function getParamString(name, defvalue);\n * Get the value of the parameter\n * @param  name The parameter name\n * @param  defvalue The default value\n */\nSD.prototype.getParamString = function(name, defvalue){\n    var value = this.sd.info[name];\n    if(!value)\n        value = defvalue;\n    return value+\"\";\n}\n\n/**\n * @function getParamInt(name, defvalue);\n * Get the value of the parameter\n * @param  name The parameter name\n * @param  defvalue The default value\n */\nSD.prototype.getParamInt = function(name, defvalue){\n    var value = this.sd.info[name];\n    if(!value)\n        value = defvalue;\n    return value;\n}\n\n/**\n * Return the y elements of the current spectrum\n * @returns {*}\n */\nSD.prototype.getSpectrumDataY = function(){\n    return this.getYData();\n}\n\n/**\n * Return the x elements of the current spectrum\n * @returns {*}\n */\nSD.prototype.getSpectraDataX = function(){\n    return this.getXData();\n}\n\n/**\n * Set a new parameter to this spectrum\n * @param name\n * @param value\n */\nSD.prototype.putParam = function(name, value){\n    this.sd.info[name]=value;\n}\n\n/**\n * Returns a equally spaced vector within the given window.\n * @param from\n * @param to\n * @param nPoints\n * @returns {*}\n */\nSD.prototype.getVector = function(from, to, nPoints){\n    var x = this.getSpectraDataX();\n    var y = this.getSpectraDataY();\n    var result = [];\n    var start = 0, end = x.length- 1,direction=1;\n    var reversed = false;\n\n    if(x[0]>x[1]){\n        direction = -1;\n        start= x.length-1;\n        end = 0;\n    }\n\n    if(from > to){\n        var tmp = from;\n        from = to;\n        to = tmp;\n        reversed = true;\n    }\n\n    if(x[end]>from||x[start]>to)\n        return [];\n\n    while(x[start]<from){start+=direction;}\n\n    if(x[end]>to){\n        var end = start;\n        while(x[end]<to){end+=direction;}\n    }\n    var winPoints = Math.abs(end-start)+1;\n    var xwin = new Array(winPoints), ywin = new Array(winPoints);\n    var index = 0;\n    if(direction==-1)\n        index=winPoints-1;\n    var i=start-direction;\n    do{\n        i+=direction;\n        xwin[index]=x[i];\n        ywin[index]=y[i];\n        index+=direction;\n    }while(i!=end);\n\n    return [xwin,ywin];\n}\n\n/**\n * @function is2D();\n * Is it a 2D spectrum?\n */\nSD.prototype.is2D = function(){\n    return false;\n}\n\n\nmodule.exports = SD;\n\n\n},{\"jcampconverter\":2,\"ml-stat/array\":3}],12:[function(require,module,exports){\nvar SimpleClustering={\n\n\t/*This function returns the cluster list for a given connectivity matrix.\n\t*To improve the performance, the connectivity(square and symmetric) matrix \n\t*is given as a single vector containing  the upper diagonal of the matrix\n\t*Note: This algorithm is O(n*n) complexity. I wonder if there is something better. \n\t*acastillo\n\t*/\n\tfullClusterGenerator:function(conn){\n\t\tvar nRows = Math.sqrt(conn.length*2+0.25)-0.5;\n\t\t//console.log(\"nRows: \"+nRows+\" - \"+conn.length);\n\t\tvar clusterList = [];\n\t\tvar available = new Array(nRows);\n\t\tvar remaining = nRows, i=0;\n\t\tvar cluster = [];\n\t\t//Mark all the elements as available\n\t\tfor(i=nRows-1;i>=0;i--){\n\t\t\tavailable[i]=1;\n\t\t}\n\t\tvar nextAv=-1;\n\t\tvar toInclude = [];\n\t\twhile(remaining>0){\n\t\t\tif(toInclude.length===0){\n\t\t\t\t//If there is no more elements to include. Start a new cluster\n\t\t\t\tcluster = new Array(nRows);\n\t\t\t\tfor(i=nRows-1;i>=0;i--)\n\t\t\t\t\tcluster[i]=0;\n\t\t\t\tclusterList.push(cluster);\n\t\t    \tfor(nextAv = nRows-1;available[nextAv]==0;nextAv--){};\n\t\t    }\n\t\t    else{\n\t\t    \tnextAv=toInclude.splice(0,1);\n\t\t    }\n\t\t    //console.log(\"row: \"+nextAv);\n\t\t    cluster[nextAv]=1;\n\t\t    available[nextAv]=0;\n\t\t    remaining--;\n\t\t    //Copy the next available row\n\t\t    var row = new Array(nRows);\n\t\t\tfor(i=nRows-1;i>=0;i--){\n\t\t\t\tvar c=Math.max(nextAv,i);\n\t\t\t\tvar r=Math.min(nextAv,i);\n\t\t\t\t//The element in the conn matrix\n\t\t\t\t//console.log(\"index: \"+r*(2*nRows-r-1)/2+c)\n\t\t\t\trow[i]=conn[r*(2*nRows-r-1)/2+c];\n\t\t\t\t//console.log(\"col: \"+i+\":\"+row[i]);\n\t\t\t\t//There is new elements to include in this row?\n\t\t\t\t//Then, include it to the current cluster\n\t\t\t\tif(row[i]==1&&available[i]==1&&cluster[i]==0){\n\t\t\t\t\ttoInclude.push(i);\n\t\t\t\t\tcluster[i]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn clusterList;\n\t}\n}\n\nmodule.exports = SimpleClustering;\n},{}],13:[function(require,module,exports){\n/**\n * Fast Fourier Transform module\n * 1D-FFT/IFFT, 2D-FFT/IFFT (radix-2)\n */\nvar FFT = (function(){\n  var FFT;  \n  \n  if(typeof exports !== 'undefined') {\n    FFT = exports;   // for CommonJS\n  } else {\n    FFT = {};\n  }\n  \n  var version = {\n    release: '0.3.0',\n    date: '2013-03'\n  };\n  FFT.toString = function() {\n    return \"version \" + version.release + \", released \" + version.date;\n  };\n\n  // core operations\n  var _n = 0,          // order\n      _bitrev = null,  // bit reversal table\n      _cstb = null;    // sin/cos table\n\n  var core = {\n    init : function(n) {\n      if(n !== 0 && (n & (n - 1)) === 0) {\n        _n = n;\n        core._initArray();\n        core._makeBitReversalTable();\n        core._makeCosSinTable();\n      } else {\n        throw new Error(\"init: radix-2 required\");\n      }\n    },\n    // 1D-FFT\n    fft1d : function(re, im) {\n      core.fft(re, im, 1);\n    },\n    // 1D-IFFT\n    ifft1d : function(re, im) {\n      var n = 1/_n;\n      core.fft(re, im, -1);\n      for(var i=0; i<_n; i++) {\n        re[i] *= n;\n        im[i] *= n;\n      }\n    },\n     // 1D-IFFT\n    bt1d : function(re, im) {\n      core.fft(re, im, -1);\n    },\n    // 2D-FFT Not very useful if the number of rows have to be equal to cols\n    fft2d : function(re, im) {\n      var tre = [],\n          tim = [],\n          i = 0;\n      // x-axis\n      for(var y=0; y<_n; y++) {\n        i = y*_n;\n        for(var x1=0; x1<_n; x1++) {\n          tre[x1] = re[x1 + i];\n          tim[x1] = im[x1 + i];\n        }\n        core.fft1d(tre, tim);\n        for(var x2=0; x2<_n; x2++) {\n          re[x2 + i] = tre[x2];\n          im[x2 + i] = tim[x2];\n        }\n      }\n      // y-axis\n      for(var x=0; x<_n; x++) {\n        for(var y1=0; y1<_n; y1++) {\n          i = x + y1*_n;\n          tre[y1] = re[i];\n          tim[y1] = im[i];\n        }\n        core.fft1d(tre, tim);\n        for(var y2=0; y2<_n; y2++) {\n          i = x + y2*_n;\n          re[i] = tre[y2];\n          im[i] = tim[y2];\n        }\n      }\n    },\n    // 2D-IFFT\n    ifft2d : function(re, im) {\n      var tre = [],\n          tim = [],\n          i = 0;\n      // x-axis\n      for(var y=0; y<_n; y++) {\n        i = y*_n;\n        for(var x1=0; x1<_n; x1++) {\n          tre[x1] = re[x1 + i];\n          tim[x1] = im[x1 + i];\n        }\n        core.ifft1d(tre, tim);\n        for(var x2=0; x2<_n; x2++) {\n          re[x2 + i] = tre[x2];\n          im[x2 + i] = tim[x2];\n        }\n      }\n      // y-axis\n      for(var x=0; x<_n; x++) {\n        for(var y1=0; y1<_n; y1++) {\n          i = x + y1*_n;\n          tre[y1] = re[i];\n          tim[y1] = im[i];\n        }\n        core.ifft1d(tre, tim);\n        for(var y2=0; y2<_n; y2++) {\n          i = x + y2*_n;\n          re[i] = tre[y2];\n          im[i] = tim[y2];\n        }\n      }\n    },\n    // core operation of FFT\n    fft : function(re, im, inv) {\n      var d, h, ik, m, tmp, wr, wi, xr, xi,\n          n4 = _n >> 2;\n      // bit reversal\n      for(var l=0; l<_n; l++) {\n        m = _bitrev[l];\n        if(l < m) {\n          tmp = re[l];\n          re[l] = re[m];\n          re[m] = tmp;\n          tmp = im[l];\n          im[l] = im[m];\n          im[m] = tmp;\n        }\n      }\n      // butterfly operation\n      for(var k=1; k<_n; k<<=1) {\n        h = 0;\n        d = _n/(k << 1);\n        for(var j=0; j<k; j++) {\n          wr = _cstb[h + n4];\n          wi = inv*_cstb[h];\n          for(var i=j; i<_n; i+=(k<<1)) {\n            ik = i + k;\n            xr = wr*re[ik] + wi*im[ik];\n            xi = wr*im[ik] - wi*re[ik];\n            re[ik] = re[i] - xr;\n            re[i] += xr;\n            im[ik] = im[i] - xi;\n            im[i] += xi;\n          }\n          h += d;\n        }\n      }\n    },\n    // initialize the array (supports TypedArray)\n    _initArray : function() {\n      if(typeof Uint32Array !== 'undefined') {\n        _bitrev = new Uint32Array(_n);\n      } else {\n        _bitrev = [];\n      }\n      if(typeof Float64Array !== 'undefined') {\n        _cstb = new Float64Array(_n*1.25);\n      } else {\n        _cstb = [];\n      }\n    },\n    // zero padding\n    _paddingZero : function() {\n      // TODO\n    },\n    // makes bit reversal table\n    _makeBitReversalTable : function() {\n      var i = 0,\n          j = 0,\n          k = 0;\n      _bitrev[0] = 0;\n      while(++i < _n) {\n        k = _n >> 1;\n        while(k <= j) {\n          j -= k;\n          k >>= 1;\n        }\n        j += k;\n        _bitrev[i] = j;\n      }\n    },\n    // makes trigonometiric function table\n    _makeCosSinTable : function() {\n      var n2 = _n >> 1,\n          n4 = _n >> 2,\n          n8 = _n >> 3,\n          n2p4 = n2 + n4,\n          t = Math.sin(Math.PI/_n),\n          dc = 2*t*t,\n          ds = Math.sqrt(dc*(2 - dc)),\n          c = _cstb[n4] = 1,\n          s = _cstb[0] = 0;\n      t = 2*dc;\n      for(var i=1; i<n8; i++) {\n        c -= dc;\n        dc += t*c;\n        s += ds;\n        ds -= t*s;\n        _cstb[i] = s;\n        _cstb[n4 - i] = c;\n      }\n      if(n8 !== 0) {\n        _cstb[n8] = Math.sqrt(0.5);\n      }\n      for(var j=0; j<n4; j++) {\n        _cstb[n2 - j]  = _cstb[j];\n      }\n      for(var k=0; k<n2p4; k++) {\n        _cstb[k + n2] = -_cstb[k];\n      }\n    }\n  };\n  // aliases (public APIs)\n  var apis = ['init', 'fft1d', 'ifft1d', 'fft2d', 'ifft2d'];\n  for(var i=0; i<apis.length; i++) {\n    FFT[apis[i]] = core[apis[i]];\n  }\n  FFT.bt = core.bt1d;\n  FFT.fft = core.fft1d;\n  FFT.ifft = core.ifft1d;\n  \n  return FFT;\n}).call(this);\n\n},{}]},{},[1])(1)\n});"],"sourceRoot":"/source/"}